(window.webpackJsonp=window.webpackJsonp||[]).push([["river-feed"],{"+79V":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("+viU"),a=n("3ZGc"),o=n("mIHV"),r=n("iuMt"),s=n("fz//"),c=n("8yfO"),d=n("mDtb"),l=n("zP2P"),u=n("MF9s"),h=n("PfRV"),p=n("7b0X"),g=n("objN"),m=n("9CwC"),b=n("LD6M"),f=n("SP+O"),C=n("QhQn"),v=n("DOGQ");var y,S={adLabel:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(c.b)("t9")),Object(d.c)()),{"line-height":Object(a.a)(Object(o.d)(l.c,Object(o.c)(u.s,2))),"box-sizing":"border-box",display:"inline-block","text-align":"center"}),Object(h.d)()),Object(h.a)()),{background:"#1C8221",height:l.b,"min-width":"24px",padding:"0 6px","text-decoration":"none"}),Object(r.a)({"border-color":p.a})),{[g.D]:{display:"inline","border-width":"1px"}}),adLabel__primary:{background:"#1C8221",color:Object(m.a)(()=>"#1C8221")},adLabel__neutralDark:{background:"#595959",color:Object(m.a)(()=>"#595959")},adLabel__neutralLight:Object.assign({background:Object(b.c)(()=>v.b),color:Object(f.c)(()=>v.b),border:Object(s.a)("{0} solid {1}",Object(a.a)(u.X),Object(C.c)(()=>v.b))},Object(r.a)({"box-shadow":Object(s.a)("0 0 0 {0}, {1} inset",Object(a.a)(Object(o.d)(u.s,u.X)),p.a)}))},O=n("ERkP"),w=n.n(O),x=n("OnwC"),j=n("CiAa");!function(e){e.primary="primary",e.neutralDark="neutralDark",e.neutralLight="neutralLight"}(y||(y={}));var R=n("o1qX");class P extends x.a{constructor(){super(...arguments),this.handledProps={appearance:void 0,label:void 0,managedClasses:void 0}}render(){return w.a.createElement(j.default,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.label)}generateClassNames(){const{adLabel:e,adLabel__primary:t,adLabel__neutralDark:n,adLabel__neutralLight:i}=this.props.managedClasses,a=this.props.appearance===y.neutralDark?n:this.props.appearance===y.neutralLight?i:t;return super.generateClassNames(Object(R.a)(e,a))}}P.defaultProps={appearance:y.primary,managedClasses:{}},P.displayName="AdLabel";var A=P;const k=Object(i.a)(S)(A)},"+qLX":function(e,t,n){"use strict";var i,a,o,r,s,c,d;n.d(t,"a",(function(){return r})),function(e){e.Article="article",e.Gallery="gallery",e.Video="video",e.Win32="win32",e.UWP="uwp",e[e.Module=8]="Module",e[e.ActionButton=11]="ActionButton",e[e.Navigation=14]="Navigation",e[e.WebView=31]="WebView",e[e.SmartList=35]="SmartList"}(i||(i={})),function(e){e[e.Taboola=0]="Taboola",e[e.Outbrain=1]="Outbrain",e[e.MediaNet=2]="MediaNet",e[e.Editor=3]="Editor",e[e.Personalization=4]="Personalization",e[e.Autocuration=5]="Autocuration"}(a||(a={})),function(e){e[e.MUID=0]="MUID",e[e.ANID=1]="ANID",e[e.AAD=2]="AAD"}(o||(o={})),function(e){e.StartPage="startpage",e.SpartanDhp="default",e.SpartanNtp="default",e.ArticleVnext="article_vnext",e.GalleryVnext="gallery_vnext",e.GalleryClassic="gallery_classic",e.GalleryFlex="gallery_flex",e.ArticleFlex="article_flex",e.StockDetailsPage="stockdetails",e.TeamStatsPage="teamstats",e.Xfeed="xfeed",e.Interests="cinterests"}(r||(r={})),function(e){e.DHP="dhp",e.NTP="ntp",e.Article="article",e.Gallery="gallery",e.Video="video"}(s||(s={})),function(e){e.Emmx="emmx",e.Prime="prime",e.Spartan="spartan",e.ChromeExt="chromeext",e.IEExt="ieext"}(c||(c={})),function(e){e[e.Empty=0]="Empty",e[e.SearchBox=1]="SearchBox",e[e.TopSites=2]="TopSites",e[e.Suggested=4]="Suggested",e[e.ContentFeed=8]="ContentFeed",e[e.WinFRE=16]="WinFRE"}(d||(d={}))},"/nBc":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("+viU"),a=n("Xbrc"),o=n("OnwC"),r=n("gQ7Y"),s=n("o1qX"),c=n("ERkP"),d=n.n(c),l=n("yR4y"),u=n("3MbD");class h extends o.a{constructor(){super(...arguments),this.handledProps={label:void 0,visibleToAssistiveTechnologies:void 0,managedClasses:void 0}}render(){return d.a.createElement(r.default,Object.assign({},this.unhandledProps(),this.coerceButtonProps(),{className:this.generateClassNames()}),this.renderGlyph(),this.props.children)}generateClassNames(){const{flipper:e,flipper__next:t,flipper__previous:n}=this.props.managedClasses,i=this.props.direction!==u.a.previous;return super.generateClassNames(Object(s.a)(e,[n,!i],[t,i]))}coerceButtonProps(){const e={href:void 0};return this.props.visibleToAssistiveTechnologies||(e["aria-hidden"]=!0,e.tabIndex=-1),this.props.label&&(e["aria-label"]=this.props.label),e}renderGlyph(){let e;if(e=this.props.direction===u.a.previous?d.a.createElement("path",{d:"M11.273 15.977L3.29 8 11.273.023l.704.704L4.71 8l7.266 7.273-.704.704z"}):d.a.createElement("path",{d:"M4.023 15.273L11.29 8 4.023.727l.704-.704L12.71 8l-7.984 7.977-.704-.704z"}),e)return d.a.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:Object(s.a)(this.props.managedClasses.flipper_glyph)},e)}}h.displayName=l.a+"Flipper",h.defaultProps={direction:u.a.next,managedClasses:{}};var p=h;const g=Object(i.a)(a.a)(p)},"/o8t":function(e,t){},"/ps7":function(e,t){},"/tlR":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("D57K"),a=n("rvYQ"),o=n("msIb"),r=n("6ADy"),s=n("KETb"),c=n("hxZq"),d=n("HxRh"),l=n("tERu"),u=n("u5KZ");const h="/service/News/Briefing",p="Peregrine";var g=n("/+Un");class m{getDailyBriefArticles(e=5){return Object(i.b)(this,void 0,void 0,(function*(){const t=yield this.getDailyBriefArticleList(e);if(!t||!t.value)return null;if(!t.value.length)return[];const n=t.value;if(!n||!n.length)return null;const i=n[0].subCards;if(!i||!i.length)return u.a.sendAppErrorEvent(Object.assign(Object.assign({},d.mb.OneServiceArticleListWasNullOrErroneous),{message:"Daily brief article is unable to map the response"})),null;return i.filter(e=>e.title&&e.url&&e.provider&&e.provider.name)}))}getDailyBriefArticleList(e=5){return Object(i.b)(this,void 0,void 0,(function*(){const t=yield o.a.getBaseRequestData("GET"),n=(yield Object(g.c)())===l.c.SignedIn,m=o.a.getCommonParams(p);n&&(t.credentials="include");const b=[...m,{key:"$top",value:""+e},{key:"market",value:a.b.CurrentMarket}],f=Object(c.b)();f>0&&b.push({key:c.a,value:f.toString()});const C=Object(r.d)(h);let v;b.forEach(e=>e.value&&C.searchParams.set(e.key,e.value));try{const e=yield Object(s.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){return yield fetch(C.href,t)})),"getDailyBriefArticleList");if(!e.ok)throw u.a.sendAppErrorEvent(Object.assign(Object.assign({},d.mb.OneServiceResponseWasNullOrErroneous),{message:"Error while calling daily brief url",pb:Object.assign(Object.assign({},d.mb.OneServiceResponseWasNullOrErroneous.pb),{customMessage:`URL: ${C.href}, error: ${e.statusText}`})})),Error(e.statusText);v=yield e.json()}catch(e){u.a.sendAppErrorEvent(Object.assign(Object.assign({},d.mb.OneServiceResponseWasNullOrErroneous),{message:"Error while parsing the response json data"}))}return v}))}}},"0MnL":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.actionStatusHandler=new i.a("actionHandler"),a.actionsStatusChanged=new i.a("actionsChanged")},"0NrY":function(e,t,n){"use strict";var i=n("PfRV"),a=n("7FLv"),o=n("MF9s"),r=n("objN");const s={card:Object.assign(Object.assign(Object.assign(Object.assign({width:"100%",height:"100%",background:o.k},Object(i.b)()),Object(a.b)(a.a.e4)),{transition:"all 0.2s ease-in-out"}),r.d)};t.a=s},"0vDZ":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.article="article",e.div="div",e.section="section"}(i||(i={}))},"1lvv":function(e,t){},"2ATS":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.fetchSAMNativeAdCompleted=new i.a("fetchSAMNativeAdCompleted"),a.fetchSAMNativeAdFailed=new i.a("fetchSAMNativeAdFailed"),a.fetchCMSNativeAdCompleted=new i.a("fetchCMSNativeAdCompleted"),a.fetchCMSNativeAdFailed=new i.a("fetchCMSNativeAdFailed"),a.fetchBackfillCompleted=new i.a("fetchBackfillCompleted"),a.fetchBackfillFailed=new i.a("fetchBackfillFailed"),a.samNativeAdServedTrack=new i.a("samNativeAdServedTrack"),a.preloadPlacements=new i.a("preloadPlacements"),a.preloadPlacementMap=new i.a("preloadPlacementMap"),a.cmsNativeAdTrack=new i.a("cmsNativeAdTrack"),a.backfillTrack=new i.a("backfillTrack"),a.clearState=new i.a("clearState"),a.updatePivotId=new i.a("pivotId"),a.samNativeAdReady=new i.a("samNativeAdReady"),a.sentPlacements=new i.a("sentPlacements"),a.processedPlacements=new i.a("processedPlacements"),a.updateLastFiredPrefetchedPlacements=new i.a("lastFiredPrefetchedPlacements"),a.updatePageType=new i.a("updatePageType"),a.updateEcasession=new i.a("updateEcasession"),a.updateCookieWallPresentStatus=new i.a("updateCookieWallPresentStatus"),a.isCookieSyncExecuted=new i.a("isCookieSyncExecuted"),a.updatePlacements=new i.a("updatePlacements"),a.updateMergeSettingsOverride=new i.a("updateMergeSettingsOverride"),a.increasePendingSAMCallNumber=new i.a("increasePendingSAMCallNumber"),a.decreasePendingSAMCallNumber=new i.a("decreasePendingSAMCallNumber"),a.infopaneSlideChanged=new i.a("infopaneSlideChanged"),a.updatePersonalizedStripeTrackNumber=new i.a("updatePersonalizedStripeTrackNumber"),a.updateInfopaneAdIndicesToBeFetched=new i.a("updateInfopaneAdIndicesToBeFetched")},"2Mxw":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Monetizable=0]="Monetizable",e[e.NonMonetizable=1]="NonMonetizable",e[e.Monetization=2]="Monetization"}(i||(i={}))},"2QEW":function(e,t){},"2R5J":function(e,t,n){"use strict";n.r(t),n.d(t,"UnifiedMobileRowHeight",(function(){return X})),n.d(t,"CategoryMobileRowHeight",(function(){return Q})),n.d(t,"CategoryMobile1uHeight",(function(){return Y})),n.d(t,"LegacyCssRowHeight",(function(){return Z})),n.d(t,"LegacyGutterSize",(function(){return ee})),n.d(t,"RiverBannerRowHeight",(function(){return te})),n.d(t,"LegacyCssColumnWidth",(function(){return ne})),n.d(t,"LegacyRowVirtualRowCount",(function(){return ie})),n.d(t,"DisplayAdCssRowHeight",(function(){return ae})),n.d(t,"ShortCssRowHeight",(function(){return oe})),n.d(t,"WindowsShellCssRowHeight",(function(){return re})),n.d(t,"Column1Row1",(function(){return se})),n.d(t,"Column2Row1",(function(){return ce})),n.d(t,"Column3Row1",(function(){return de})),n.d(t,"Column4Row1",(function(){return le})),n.d(t,"Column5Row1",(function(){return ue})),n.d(t,"Column1Row2",(function(){return he})),n.d(t,"Column2Row2",(function(){return pe})),n.d(t,"Column3Row2",(function(){return ge})),n.d(t,"Column4Row2",(function(){return me})),n.d(t,"Column5Row2",(function(){return be})),n.d(t,"Column1Row3",(function(){return fe})),n.d(t,"Column2Row3",(function(){return Ce})),n.d(t,"Column3Row3",(function(){return ve})),n.d(t,"Column4Row3",(function(){return ye})),n.d(t,"Column5Row3",(function(){return Se})),n.d(t,"Column1Row4",(function(){return Oe})),n.d(t,"Column2Row4",(function(){return we})),n.d(t,"Column3Row4",(function(){return xe})),n.d(t,"Column4Row4",(function(){return je})),n.d(t,"Column5Row4",(function(){return Re})),n.d(t,"Column1Row5",(function(){return Pe})),n.d(t,"Column2Row5",(function(){return Ae})),n.d(t,"Column3Row5",(function(){return ke})),n.d(t,"Column4Row5",(function(){return Ie})),n.d(t,"Column5Row5",(function(){return Ee})),n.d(t,"Column1Row6",(function(){return Me})),n.d(t,"Column2Row6",(function(){return Te})),n.d(t,"Column3Row6",(function(){return _e})),n.d(t,"Column4Row6",(function(){return Fe})),n.d(t,"Column5Row6",(function(){return Ne})),n.d(t,"Column1Row7",(function(){return He})),n.d(t,"Column2Row7",(function(){return Le})),n.d(t,"Column3Row7",(function(){return De})),n.d(t,"Column4Row7",(function(){return Be})),n.d(t,"Column5Row7",(function(){return We})),n.d(t,"Column1Row8",(function(){return Ue})),n.d(t,"Column2Row8",(function(){return ze})),n.d(t,"Column3Row8",(function(){return $e})),n.d(t,"Column4Row8",(function(){return Ge})),n.d(t,"Column5Row8",(function(){return qe})),n.d(t,"DoubleWide",(function(){return Ve})),n.d(t,"HalfHeight",(function(){return Ke})),n.d(t,"FullHeight",(function(){return Je})),n.d(t,"Tall",(function(){return Xe})),n.d(t,"DoubleFullHeight",(function(){return Qe})),n.d(t,"DisplayAd",(function(){return Ye})),n.d(t,"ShortHeight",(function(){return Ze})),n.d(t,"OneRowHeights",(function(){return et})),n.d(t,"TwoRowHeights",(function(){return tt})),n.d(t,"ThreeRowHeights",(function(){return nt})),n.d(t,"FourRowHeights",(function(){return it})),n.d(t,"FiveRowHeights",(function(){return at})),n.d(t,"SixRowHeights",(function(){return ot})),n.d(t,"SevenRowHeights",(function(){return rt})),n.d(t,"EightRowHeights",(function(){return st})),n.d(t,"NineRowHeights",(function(){return ct})),n.d(t,"WindowsShellOneRowHeights",(function(){return dt})),n.d(t,"WindowsShellTwoRowHeights",(function(){return lt})),n.d(t,"WindowsShellThreeRowHeights",(function(){return ut})),n.d(t,"WindowsShellFourRowHeights",(function(){return ht})),n.d(t,"WindowsShellSixRowHeights",(function(){return pt})),n.d(t,"WindowsShellEightRowHeights",(function(){return gt})),n.d(t,"WindowsShellNineRowHeights",(function(){return mt})),n.d(t,"OneRowHeightsLength",(function(){return bt})),n.d(t,"TwoRowHeightsLength",(function(){return ft})),n.d(t,"ThreeRowHeightsLength",(function(){return Ct})),n.d(t,"FourRowHeightsLength",(function(){return vt})),n.d(t,"FiveRowHeightsLength",(function(){return yt})),n.d(t,"SixRowHeightsLength",(function(){return St})),n.d(t,"SevenRowHeightsLength",(function(){return Ot})),n.d(t,"EightRowHeightsLength",(function(){return wt})),n.d(t,"NineRowHeightsLength",(function(){return xt})),n.d(t,"WindowsShellTwoRowHeightsLength",(function(){return jt})),n.d(t,"WindowsShellThreeRowHeightsLength",(function(){return Rt})),n.d(t,"WindowsShellFourRowHeightsLength",(function(){return Pt})),n.d(t,"WindowsShellSixRowHeightsLength",(function(){return At})),n.d(t,"WindowsShellEightRowHeightsLength",(function(){return kt})),n.d(t,"WindowsShellNineRowHeightsLength",(function(){return It})),n.d(t,"OneFlexibleColumnWidths",(function(){return Et})),n.d(t,"TwoColumnWidths",(function(){return Mt})),n.d(t,"ThreeColumnWidths",(function(){return Tt})),n.d(t,"FourColumnWidths",(function(){return _t})),n.d(t,"FiveColumnWidths",(function(){return Ft}));var i=n("9l6q"),a=n("KaPL");const{Column1:o,Column2:r,Column3:s,Column4:c,Column5:d,Column6:l,Column7:u,Column8:h}=i.a,{Row1:p,Row2:g,Row3:m,Row4:b,Row5:f,Row6:C,Row7:v,Row10:y,Row11:S,Row12:O,Row13:w,Row16:x,Row19:j,Row22:R}=i.b,{Size1Wx1H:P,Size1Wx2H:A,Size1Wx3H:k,Size1Wx4H:I,Size1Wx5H:E,Size1Wx6H:M,Size1Wx7H:T,Size1Wx8H:_,Size1Wx9H:F,Size1Wx10H:N,Size1Wx12H:H,Size1Wx18H:L,Size2Wx2H:D,Size2Wx3H:B,Size2Wx6H:W,Size2Wx8H:U,Size3Wx2H:z,Size3Wx6H:$,Size3Wx12H:G,Size4Wx2H:q,Size4Wx3H:V,Size4Wx6H:K,Size4Wx12H:J}=a.a,X=142,Q=126,Y=264,Z=163,ee=24,te=108,ne=300,ie=3,ae=250,oe=76,re=146,se={virtualCardPosition:o|p,cssGridColumnStart:1,cssGridRowStart:1},ce={virtualCardPosition:r|p,cssGridColumnStart:2,cssGridRowStart:1},de={virtualCardPosition:s|p,cssGridColumnStart:3,cssGridRowStart:1},le={virtualCardPosition:c|p,cssGridColumnStart:4,cssGridRowStart:1},ue={virtualCardPosition:d|p,cssGridColumnStart:5,cssGridRowStart:1},he={virtualCardPosition:o|b,cssGridColumnStart:1,cssGridRowStart:2},pe={virtualCardPosition:r|b,cssGridColumnStart:2,cssGridRowStart:2},ge={virtualCardPosition:s|b,cssGridColumnStart:3,cssGridRowStart:2},me={virtualCardPosition:c|b,cssGridColumnStart:4,cssGridRowStart:2},be={virtualCardPosition:d|b,cssGridColumnStart:5,cssGridRowStart:2},fe={virtualCardPosition:o|v,cssGridColumnStart:1,cssGridRowStart:3},Ce={virtualCardPosition:r|v,cssGridColumnStart:2,cssGridRowStart:3},ve={virtualCardPosition:s|v,cssGridColumnStart:3,cssGridRowStart:3},ye={virtualCardPosition:c|v,cssGridColumnStart:4,cssGridRowStart:3},Se={virtualCardPosition:d|v,cssGridColumnStart:5,cssGridRowStart:3},Oe={virtualCardPosition:o|y,cssGridColumnStart:1,cssGridRowStart:4},we={virtualCardPosition:r|y,cssGridColumnStart:2,cssGridRowStart:4},xe={virtualCardPosition:s|y,cssGridColumnStart:3,cssGridRowStart:4},je={virtualCardPosition:c|y,cssGridColumnStart:4,cssGridRowStart:4},Re={virtualCardPosition:d|y,cssGridColumnStart:5,cssGridRowStart:4},Pe={virtualCardPosition:o|w,cssGridColumnStart:1,cssGridRowStart:5},Ae={virtualCardPosition:r|w,cssGridColumnStart:2,cssGridRowStart:5},ke={virtualCardPosition:s|w,cssGridColumnStart:3,cssGridRowStart:5},Ie={virtualCardPosition:c|w,cssGridColumnStart:4,cssGridRowStart:5},Ee={virtualCardPosition:d|w,cssGridColumnStart:5,cssGridRowStart:5},Me={virtualCardPosition:o|x,cssGridColumnStart:1,cssGridRowStart:6},Te={virtualCardPosition:r|x,cssGridColumnStart:2,cssGridRowStart:6},_e={virtualCardPosition:s|x,cssGridColumnStart:3,cssGridRowStart:6},Fe={virtualCardPosition:c|x,cssGridColumnStart:4,cssGridRowStart:6},Ne={virtualCardPosition:d|x,cssGridColumnStart:5,cssGridRowStart:6},He={virtualCardPosition:o|j,cssGridColumnStart:1,cssGridRowStart:7},Le={virtualCardPosition:r|j,cssGridColumnStart:2,cssGridRowStart:7},De={virtualCardPosition:s|j,cssGridColumnStart:3,cssGridRowStart:7},Be={virtualCardPosition:c|j,cssGridColumnStart:4,cssGridRowStart:7},We={virtualCardPosition:d|j,cssGridColumnStart:5,cssGridRowStart:7},Ue={virtualCardPosition:o|R,cssGridColumnStart:1,cssGridRowStart:8},ze={virtualCardPosition:r|R,cssGridColumnStart:2,cssGridRowStart:8},$e={virtualCardPosition:s|R,cssGridColumnStart:3,cssGridRowStart:8},Ge={virtualCardPosition:c|R,cssGridColumnStart:4,cssGridRowStart:8},qe={virtualCardPosition:d|R,cssGridColumnStart:5,cssGridRowStart:8},Ve={virtualCardSize:W,cssGridColumnSpan:2,cssGridRowSpan:2},Ke={virtualCardSize:k,cssGridColumnSpan:1,cssGridRowSpan:1},Je={virtualCardSize:M,cssGridColumnSpan:1,cssGridRowSpan:2},Xe={virtualCardSize:F,cssGridColumnSpan:1,cssGridRowSpan:3},Qe={virtualCardSize:H,cssGridColumnSpan:1,cssGridRowSpan:4},Ye={virtualCardSize:E,cssGridColumnSpan:1,cssGridRowSpan:1},Ze={virtualCardSize:P,cssGridColumnSpan:1,cssGridRowSpan:1},et=[Z],tt=[Z,Z],nt=[Z,Z,Z],it=[Z,Z,Z,Z],at=[Z,Z,Z,Z,Z],ot=[Z,Z,Z,Z,Z,Z],rt=[Z,Z,Z,Z,Z,Z,Z],st=[Z,Z,Z,Z,Z,Z,Z,Z],ct=[Z,Z,Z,Z,Z,Z,Z,Z,Z],dt=[re],lt=[re,re],ut=[re,re,re],ht=[re,re,re,re],pt=[re,re,re,re,re,re],gt=[re,re,re,re,re,re,re,re],mt=[re,re,re,re,re,re,re,re,re],bt=et.length,ft=tt.length,Ct=nt.length,vt=it.length,yt=at.length,St=ot.length,Ot=rt.length,wt=st.length,xt=ct.length,jt=lt.length,Rt=ut.length,Pt=ht.length,At=pt.length,kt=gt.length,It=mt.length,Et=[{minWidthPx:296,maxWidthPx:440}],Mt=[ne,ne],Tt=[ne,ne,ne],_t=[ne,ne,ne,ne],Ft=[ne,ne,ne,ne,ne]},"34rd":function(e,t,n){"use strict";var i=n("OnwC"),a=n("eGM7"),o=n("USk/");n.o(o,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return o.AutoSuggestContext})),n.o(o,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return o.ButtonDirection})),n.o(o,"ProgressType")&&n.d(t,"ProgressType",(function(){return o.ProgressType})),n.o(o,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return o.RadioSlot}));class r extends i.a{}r.displayName=a.DisplayNamePrefix+"TabItem",t.default=r},"3MbD":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.next="next",e.previous="previous"}(i||(i={}))},"5fbE":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const i=new Map([["Y_46b78bbb-31c4-4fc5-8a4a-858072348d06","topstories"],["Y_8c1db373-86c0-4213-9e06-0bb6deb2a336","topnews"],["Y_a3b33cc2-2c47-48ba-a975-4b87b597644b","usnews"],["Y_ee352f2b-a60f-41b3-9b10-4d54b4e7f3f9","worldnews"],["Y_625693d2-c2d2-402b-b225-af427fad88f3","foodnews"],["Y_e9e6276b-7e2e-437e-8e9c-b45f1de22ba7","healthnews"],["Y_bced654c-7e2e-4c63-acb4-f3b3b89bd4e3","politics"],["Y_f714b6e2-e9db-41d0-9b5f-b2e0a52f85da","money"],["Y_b09e3e40-000d-454d-87ef-96631d7c9e7c","sports"],["Y_414a7c40-a373-4025-b4ce-e9502e9e17ed","entertainment"],["Y_6da7c728-6dac-49b0-8e35-ecfe0b41c198","celebritiesandroyals"],["Y_99096e96-6d4f-401c-832b-461e08143a5a","lifestyle"],["Y_aae602ed-e842-4fef-819c-88c6d23b95da","foodanddrink"],["Y_39162ebb-61d9-4c26-8520-a66d3a51da5b","healthandfitness"],["Y_8ea5642c-e95d-4175-97df-36bc505aa12c","goodnews"],["Y_c78438b0-ec84-49ed-b8f8-49fc91059089","celebrities"]]),a=["topstories","video"]},"5neD":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p}));var i=n("rRnI"),a=n("KaPL"),o=n("Gcx/"),r=n("c1hv");const s={[a.a.Size1Wx1H]:o.a._1x_1y,[a.a.Size1Wx3H]:o.a._1x_1y,[a.a.Size1Wx6H]:o.a._1x_2y,[a.a.Size1Wx9H]:o.a._1x_3y,[a.a.Size2Wx6H]:o.a._2x_2y,[a.a.None]:o.a._1x_1y,[a.a.Size1Wx2H]:o.a._1x_1y,[a.a.Size1Wx4H]:o.a._1x_1y,[a.a.Size1Wx5H]:o.a._1x_1y,[a.a.Size1Wx7H]:o.a._2x_2y,[a.a.Size1Wx8H]:o.a._1x_1y,[a.a.Size1Wx10H]:o.a._1x_1y,[a.a.Size1Wx12H]:o.a._1x_1y,[a.a.Size1Wx18H]:o.a._1x_1y,[a.a.Size2Wx2H]:o.a._1x_1y,[a.a.Size2Wx3H]:o.a._1x_1y,[a.a.Size2Wx8H]:o.a._1x_1y,[a.a.Size2Wx12H]:o.a._1x_1y,[a.a.Size2Wx18H]:o.a._1x_1y,[a.a.Size3Wx2H]:o.a._1x_1y,[a.a.Size3Wx6H]:o.a._1x_1y,[a.a.Size3Wx12H]:o.a._1x_1y,[a.a.Size3Wx18H]:o.a._1x_1y,[a.a.Size3Wx3H]:o.a._1x_1y,[a.a.Size4Wx2H]:o.a._1x_1y,[a.a.Size4Wx3H]:o.a._1x_1y,[a.a.Size4Wx6H]:o.a._1x_1y,[a.a.Size4Wx12H]:o.a._1x_1y,[a.a.Size4Wx18H]:o.a._1x_1y,[a.a.Size5Wx3H]:o.a._1x_1y,[a.a.Size5Wx6H]:o.a._1x_1y};var c;function d(e){let t=c.None;const{abstract:n,enableImageOn1x1y:a,disableAbstractCards:o,image:r,enableBigImageOn1x2y:s,enableMSNHomePageBigPic:d}=e;return r&&r.width&&r.height&&(t|=c.HasImage,a&&g(r,i.b.Image_1x1y)&&(t|=c.HasImage_1x1),g(r,i.b.MinLandscape_2x)&&(t|=c.HasLandscapeImage_2x),s&&g(r,i.b.BigImage_1x)&&(t|=c.HasBigImage_1x),d&&g(r,i.b.Image_MSNHomePageBigPic)&&(t|=c.HasMSNHomePageBigPic),g(r,i.b.Landscape_1x)&&(t|=c.HasLandscapeImage),r.height>r.width&&r.height>=i.b.Portrait_1x.height&&(t|=c.HasPortraitImage)),!o&&n&&(t|=c.HasAbstract,n.length>=i.c&&(t|=c.HasLargeAbstract)),t}function l(e){return s[e]}!function(e){e[e.None=0]="None",e[e.HasImage=1]="HasImage",e[e.HasPortraitImage=3]="HasPortraitImage",e[e.HasLandscapeImage=5]="HasLandscapeImage",e[e.HasLandscapeImage_2x=13]="HasLandscapeImage_2x",e[e.HasBigImage_1x=21]="HasBigImage_1x",e[e.HasImage_1x1=33]="HasImage_1x1",e[e.HasAbstract=64]="HasAbstract",e[e.HasLargeAbstract=192]="HasLargeAbstract",e[e.HasMSNHomePageBigPic=257]="HasMSNHomePageBigPic"}(c||(c={}));const u=a.a.Size1Wx1H|a.a.Size1Wx2H|a.a.Size1Wx3H|a.a.Size1Wx4H;function h(e){let t=a.a.None;const{titleLength:n,primaryImage:o,disableAbstractCards:r,abstractLength:s}=e;if(!n)return t;if(t=u,o){const{width:e,height:n}=o;e>=i.b.Landscape_1x.width&&n>=i.b.Landscape_1x.height&&(t|=a.a.Size1Wx6H,e>=i.b.Landscape_2x.width&&n>=i.b.Landscape_2x.height&&(t|=a.a.Size2Wx6H|a.a.Size1Wx7H)),n>=i.b.Portrait_1x.height&&n>e&&(t|=a.a.Size1Wx9H)}return!r&&s>=i.c&&t&a.a.Size1Wx6H&&(t|=a.a.Size1Wx9H),t}function p(e,t,n,i){return!(!e||!t)&&(e===t&&Object(r.a)(n,i))}function g(e,t){return e.width>=t.width&&e.height>=t.height}},"5p4t":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.changeCardSize=new i.a("ChangeCardSize")},"6xGu":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return O})),n.d(t,"i",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return R})),n.d(t,"j",(function(){return A}));var i,a=n("rvYQ"),o=n("ADRF"),r=n("I6Lx"),s=n("Fpjf"),c=n("aHCm"),d=n("pCrc"),l=n("y2Il"),u=n("u5KZ"),h=n("Am8i");!function(e){e[e.linksPointToPartner=2]="linksPointToPartner"}(i||(i={}));var p=n("HxRh"),g=n("ERkP"),m=n.n(g),b=n("kpPY");const f={ArticlePreview:"ar",SlideshowPreview:"ss",VideoPreview:"vi"};function C(e){const{abstract:t}=e;if(t)return{dangerouslySetInnerHTML:{__html:t}}}function v(e,t,n,s){if(e.renderingRestriction===i.linksPointToPartner){if(e.sourceHref)return e.sourceHref;u.a.sendAppErrorEvent(Object.assign(Object.assign({},p.ed),{message:"Content with rendering restriction 'link to partner' is missing source HREF",pb:Object.assign(Object.assign({},p.ed.pb),{customMessage:"Content Id: "+e.id})}))}if(e.destinationUrl)return e.destinationUrl;const c=Object(a.c)().contentLinkHost,d=f[e.type]||"xx";n=o.a.encodeURIComponentForPrime(n||""),s=o.a.encodeURIComponentForPrime(s||"");const l=encodeURIComponent(e.uriTitle||"");let h="";return r.b&&r.b.ClientSettings&&r.b.ClientSettings.forwardablequeryparams&&(h="?"+r.b.ClientSettings.forwardablequeryparams),`https://${c}/${t}/${n}/${s}/${l}/${d}-${e.id}${h}`}function y(e,t,n,i,a,o,r){if(!e||!n)return null;const{category:s,id:c,title:d,provider:l,sourceHref:u}=e;return n.addOrUpdateChild({name:"destination",type:o||h.e.Headline,action:h.a.Click,behavior:r||h.b.Navigate,content:{id:c,category:s&&s.label?s.label:a,headline:d,vertical:s&&s.product||null,brand:l&&l.name||null},destinationUrl:i,feed:{id:t||null}}).render()}function S(e,t){return{tag:l.b.h3,size:t,children:e.title}}function O(e,t,n=60){const i=e.images&&e.images[0],{attribution:a,caption:o=e.title,id:r,focalRegion:c,url:d}=i||{};if(!r)return;const l=[];let u;o&&l.push(o),a&&l.push(a),l.length&&(u=l.join(" - "));const h={width:t.width,height:t.height,focalRegion:c,enableDpiScaling:!1,quality:n};let p="";return p=d&&d.indexOf(s.a)>-1?Object(s.d)(d,h):Object(s.f)(r,h),{src:p,alt:u,title:u,style:{maxHeight:t.height}}}function w(e){const{provider:t}=e;if(!t)return;const{name:n,logo:i}=e.provider;return i&&i.id?{src:`${c.a.prod}${i.id}?w=16&h=16`,alt:n}:void 0}function x(e,t){const{provider:n}=e;if(!n)return;const{name:i}=e.provider;return i?{children:i,image:t?e=>m.a.createElement(d.a,Object.assign(Object.assign({},t),{className:e})):null}:void 0}function j(e,t,n=!0){if(!e)return;const{title:i,images:a}=e,o=a&&a[0];return P(i,o&&o.attribution,t,n)}function R(e,t){if(!e)return;const{title:n,provider:i}=e;return P(n,i&&i.name,t,!0)}function P(e,t,n,i){const a=[];e&&a.push(e);let o,r="";return n&&t?r=Object(b.a)(n,t):t&&(r=t),i&&r.length&&a.push(r),a.length&&(o=a.join(" - ")),o}function A(e,t){const{width:n,height:i}=e;if(t||(t=window.innerWidth>440?440:window.innerWidth),n===t)return e;return{width:t,height:Math.floor(t/n*i)}}},"70mL":function(e,t){},"73ct":function(e,t){},"7wJ/":function(e,t){},"860H":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={};n.r(i),n.d(i,"sendContentReaction",(function(){return b}));var a=n("D57K");function o(e,t=null){return function(e){const t=window.location.hash.substring(1).split("&");for(let n=0;n<t.length;n++){const i=t[n].split("=");if(i[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(i[1])}return null}(e)||function(e){const t=window.location.search.substring(1).split("&");for(let n=0;n<t.length;n++){const i=t[n].split("=");if(i[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(i[1])}return null}(e)||t}function r(){return Object(a.b)(this,void 0,void 0,(function*(){return new Promise((e,t)=>{if(window.AzureStorage)return e(window.AzureStorage);!function(e,t,n){const i=document,a="script";if(!i.getElementById(t)){const o=i.getElementsByTagName(a)[0],r=i.createElement(a);r.id=t,r.src=e,r.onload=n,o.parentNode.insertBefore(r,o)}}("https://assets.msn.com/labs/views/CommentWidget/js/azure-storage.blob.min.js","azure-storage-blob-jssdk",()=>window.AzureStorage?e(window.AzureStorage):t())})}))}var s=n("HxRh");const c={unknown:s.De,contents:s.Ce,users:s.Ee,comments:s.Be};var d=n("tMmC");const l=new class{constructor(){this.onAppError=void 0}log(e){if(this.onAppError)try{this.onAppError(e)}catch(e){d.a.logError(e)}}setOnAppError(e){this.onAppError=e}};var u,h=n("9y7U"),p=n("TRvk");!function(e){e.contents="contents",e.comments="comments",e.users="users"}(u||(u={}));class g{constructor(e){g.sendAuthHeader=e}static get msaAccessToken(){return o("msaAccessToken")}static setDomain(e){this.domain=e,this.endpoints=Object.assign(Object.assign({},this.endpoints),{contents:g.domain.concat("urls/"),comments:g.domain.concat("comments/"),users:g.domain.concat("users/")})}static fetchMe(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.getUserById("me",e)}))}static deleteMyData(e){return Object(a.b)(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},e),{profile:"social"});return g.DELETE(g.endpoints.users+"me/",t)}))}static getUserById(e,t=!1){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints.users+e,{profile:"social",verify:t}).then(e=>p.b.convertUser(e||null))}))}static getUserProfile(e){return Object(a.b)(this,void 0,void 0,(function*(){let t={followers:void 0,following:void 0,comments:void 0};return Promise.all([g.GET(g.endpoints.users+e,{profile:"social"}).then(e=>{t=Object.assign(Object.assign({},t),p.b.convertUser(e||null))}),g.getFollowersByUserId(e).then(e=>{t.followers=e}),g.getFollowingsByUserId(e).then(e=>{t.following=e}),g.getCommentsByUserId(e).then(e=>{t.comments=e})]).then(e=>t).catch(e=>{d.a.logError("Error getting user profile: "+e.statusText)})}))}static appealMe(){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(g.endpoints.users+"me/appeals",{})}))}static appealMyPicture(){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(g.endpoints.users+"me/pictureAppeals",{})}))}static getFollowersByUserId(e,t=10,n=0){return Object(a.b)(this,void 0,void 0,(function*(){const i={$top:t,$skip:n};return g.GET(g.endpoints.users+e+"/followers",i).then(e=>p.b.convertUserList(e))}))}static getFollowingsByUserId(e,t=10,n=0){return Object(a.b)(this,void 0,void 0,(function*(){const i={$top:t,$skip:n};return g.GET(g.endpoints.users+e+"/followings",i).then(e=>p.b.convertUserList(e))}))}static createUser(e){return Object(a.b)(this,void 0,void 0,(function*(){const t={notUseAvatar:e||!1};return g.POST(g.endpoints.users+"me",t,{profile:"social"},void 0).then(e=>p.b.convertUser(e||null)).catch(e=>{if(400==e.status)return e.json().then(e=>{if(20==e.value[0].code)return{nameStatus:h.a.userNameStatusType.notAllow}})})}))}static updateUserSettings(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={};return n[e]={isPrivateProfile:t},g.PUT(g.endpoints.users+e+"/settings",n,{},e)}))}static followUser(e,t){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(g.endpoints.users+t+"/followers/"+e,{},{},e)}))}static unfollowUser(e,t){return Object(a.b)(this,void 0,void 0,(function*(){return g.DELETE(g.endpoints.users+t+"/followers/"+e,{},e)}))}static getUserIsFollowed(e,t){return Object(a.b)(this,void 0,void 0,(function*(){return new Promise((n,i)=>{e?g.GET(g.endpoints.users+t+"/followers/"+e,{}).then(e=>n(!0)).catch(e=>n(!1)):n(null)})}))}static reportUser(e,t,n){return Object(a.b)(this,void 0,void 0,(function*(){const i="ProfilePicture"==t?"PictureAbusereports":"NameAbusereports",a={ReportType:n,ReportMessage:""};return g.POST(g.endpoints.users+e+"/"+i,a,{})}))}static getUserNotifications(){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints.users+"me/activities",{onlynotification:!0,read:!1,$top:5,$skip:0}).then(e=>p.b.convertUserActivities(e||null))}))}static getUserActivities(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={$top:e||50,$skip:t||0};return g.GET(g.endpoints.users+"me/activities",n).then(e=>p.b.convertUserActivities(e||null))}))}static updateUserActivityStatus(e,t=!0){return Object(a.b)(this,void 0,void 0,(function*(){const n={id:e,read:t};return g.POST(g.endpoints.users+"me/activities",n)}))}static getContentById(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={cmsid:e,market:t};return t||delete n.market,g.GET(g.endpoints.contents,n).then(e=>p.b.convertContent(e||null)).catch(e=>{if(404==e.status)return e.json().then(e=>{const t=e.links.find(e=>"Content"==e.type).item;return{conversationTitle:t.conversationTitle,commentStatus:t.commentStatus||"On",commentWhiteListSegments:t.commentWhiteListSegments,commentBlackListSegments:t.commentBlackListSegments,reactionStatus:t.reactionStatus,topCommentStatus:t.topCommentStatus,isExpired:t.isExpired,comments:{skip:0,top:0,moreCount:0,list:[]},totalCommentCount:0,reactionCounts:0}});throw e})}))}static createContent(e){return Object(a.b)(this,void 0,void 0,(function*(){const t={cmsId:e.id,market:e.market};return g.POST(g.endpoints.contents,t).then(e=>p.b.convertContent(e||null))}))}static getCommentById(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints.comments+e).then(e=>p.b.convertComment(e||null))}))}static getCommentsByContentId(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={contentId:e,$top:t.top||50,$skip:t.skip||0,$orderby:t.orderBy||t.sortType||"Time"};return g.GET(g.endpoints.comments,n).then(e=>{let t="On";try{t=e.links.find(e=>"Content"==e.type).item.commentStatus||t}catch(e){d.a.logError("Invalid content data in comments response.")}try{const n=p.b.convertCommentList(e||null);return n.commentStatus=t,n}catch(e){return d.a.logError("Invalid comment list data in comments response."),{commentStatus:"Off",list:[]}}})}))}static getCommentsByParentId(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={parentId:e,$top:t.top||10,$skip:t.skip||0,$orderby:t.orderBy||"Time"};return g.GET(g.endpoints.comments,n).then(e=>p.b.convertCommentList(e||null))}))}static getCommentsByUserId(e,t=10,n=0,i="Time"){return Object(a.b)(this,void 0,void 0,(function*(){const a={userId:e,$top:t,$skip:n,$orderby:i};return g.GET(g.endpoints.comments,a).then(e=>p.b.convertCommentList(e||null))}))}static postComment(e,t,n,i,o){return Object(a.b)(this,void 0,void 0,(function*(){const a={ContentId:e,Body:n,parentId:i&&i!=e?i:void 0,mentionReply:o};return new Promise((e,n)=>{g.POST(g.endpoints.comments,a,{},t).then(t=>{e(p.b.convertComment(t||null))},e=>{e.json().then(e=>{n(e)}).catch(t=>{d.a.logError("Error getting comment info: "+e.statusText),n()})})})}))}static deleteComment(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.DELETE(g.endpoints.comments+e,{})}))}static appealComment(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(g.endpoints.comments+e+"/appeals",{})}))}static reportComment(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={ReportType:t,ReportMessage:""};try{return g.POST(g.endpoints.comments+e+"/abusereports",n,{})}catch(e){d.a.logError(e)}}))}static rate(e,t,n,i=!1){return Object(a.b)(this,void 0,void 0,(function*(){const a={},o={subType:n};try{const n=yield g.POST(g.endpoints[e]+t+"/reactions",o,a);return p.b.convertRatingToRateValue(n||null)}catch(a){return d.a.logError(a),400===a.status&&i&&(yield this.forceRate(e,t,n)),n}}))}static resetRating(e,t){return Object(a.b)(this,void 0,void 0,(function*(){try{return g.DELETE(g.endpoints[e]+t+"/reactions",{})}catch(e){d.a.logError(e)}}))}static forceRate(e,t,n){return Object(a.b)(this,void 0,void 0,(function*(){const i={id:t.split("_")[0],market:t.split("_")[1]};try{yield g.createContent(i)}catch(e){return d.a.logError(e),n}g.rate(e,t,n)}))}static getFriendRatings(e,t){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints[e]+t+"/reactions",{friends:!0,$top:2})}))}static getRating(e,t){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints[e]+t+"/reactions",{}).then(e=>p.b.convertRatingToRateValue(e||null))}))}static getRatingBreakdown(e,t){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints[e]+t+"/reactions",{others:!0}).then(e=>p.b.convertReactionsResponseToReactionBreakdownData(e||null))}))}static prepareHubString(e){return e.replace(/-/g,"_")}static getSignalRConnectionInfo(e){return Object(a.b)(this,void 0,void 0,(function*(){const t=this.prepareHubString(e);return g.POST(g.endpoints.typingUpdates+"RealtimeTypingNegotiate",{},{hub:t})}))}static broadcastCommentNotification(e,t,n){return Object(a.b)(this,void 0,void 0,(function*(){const i=this.prepareHubString(e),a={type:"comment-notification",data:{commentId:t,commentParentId:n}};return g.POST(g.endpoints.typingUpdates+"RealtimeTypingBroadcast",a,{hub:i}).then(e=>{},e=>{})}))}static broadcastTypingNotification(e,t,n,i){return Object(a.b)(this,void 0,void 0,(function*(){const a=this.prepareHubString(e),o={type:"typing-notification",data:{id:t,name:n,profileImageUrl:i}};return g.POST(g.endpoints.typingUpdates+"RealtimeTypingBroadcast",o,{hub:a},t).then(e=>{},e=>{})}))}static getUGContents(e,t,n){return Object(a.b)(this,void 0,void 0,(function*(){const i={type:"article",userId:e,$top:t,$skip:n};return g.GET(g.endpoints.ugcontents,i).then(e=>p.b.convertUGContentListView(e||null))}))}static getUGContentById(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints.ugcontents+e).then(e=>p.b.convertUGContent(e||null))}))}static postUGContent(e){return Object(a.b)(this,void 0,void 0,(function*(){e.resources&&e.resources.length>0&&(e.resources[0].isCover=void 0);const t=e.resources&&e.resources.map(e=>({type:"Ug"+e.type,item:{id:e.id,type:e.type,url:e.url,isPublished:!1}})),n=[{title:e.title,subTitle:"subTitle",kicker:"",image:e.resources&&e.resources.length>0&&e.resources[0]&&{type:"Ug"+e.resources[0].type,item:{id:e.resources[0].id,type:e.resources[0].type,url:e.resources[0].url,isPublished:!1}}}],i={id:e.id,type:e.type||"article",title:e.title,abstract:e.abstract,body:e.body,market:e.market,tags:e.tags,resources:t,headlines:n};return g.POST(g.endpoints.ugcontents,i).then(e=>p.b.convertUGContent(e||null))}))}static publishUGContent(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(g.endpoints.ugcontents+e+"/publish",{}).then(e=>p.b.convertUGContentPublishResponse(e||null))}))}static unPublishUGContent(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(g.endpoints.ugcontents+e+"/publish",{}).then(e=>p.b.convertUGContentPublishResponse(e||null))}))}static deleteUGContent(e){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(g.endpoints.ugcontents+e+"/delete",{}).then(e=>p.b.convertUGContentPublishResponse(e||null))}))}static postUGContentResource(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n=yield this.getUGSasToken(),i=yield r(),o="https://"+n.accountUrl.split("?")[0],s=i.Blob.createBlobServiceWithSas(o,n.sasString);return new Promise((i,o)=>{s.createBlockBlobFromBrowserFile(n.container,n.blobName,t,(t,r,s)=>Object(a.b)(this,void 0,void 0,(function*(){if(t)return d.a.logError(t),o(t);const a={type:"Image",title:e.title,market:e.market,attribution:"",altText:"",sasTokenId:n.id},r=yield g.POST(g.endpoints.ugcontents,a),s={id:r.id,type:r.type,url:r.url},c=Object.assign(Object.assign({},e),{resources:e.resources?e.resources.concat(s):[s]});return i(this.postUGContent(c))})))})}))}static getUGSasToken(){return Object(a.b)(this,void 0,void 0,(function*(){return g.GET(g.endpoints.ugsastokens)}))}static getTagsByTitle(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={ocid:"oxfordblue",apikey:"fOZLW0C1nEyGDC2S7tbLaTBadX30QRkTIk7rOScoLc",$filter:`locale eq '${t||"en-us"}'`+(e?` and contains(lowercaseName,'${e}')`:""),$select:"id,name,locale"};return g.GET(g.endpoints.systags,n).then(e=>p.b.convertTags(e||null))}))}static getCategoriesByTitle(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={ocid:"oxfordblue",apikey:"fOZLW0C1nEyGDC2S7tbLaTBadX30QRkTIk7rOScoLc",$filter:`sourceType eq 'category' and locale eq '${t||"en-us"}'`+(e?` and contains(lowercaseName,'${e}')`:""),$select:"id,name,locale"};return g.GET(g.endpoints.systags,n).then(e=>p.b.convertTags(e||null))}))}static getLocationsByTitle(e,t){return Object(a.b)(this,void 0,void 0,(function*(){const n={ocid:"oxfordblue",apikey:"fOZLW0C1nEyGDC2S7tbLaTBadX30QRkTIk7rOScoLc",$filter:`isLocation eq true and locale eq '${t||"en-us"}'`+(e?` and contains(lowercaseName,'${e}')`:""),$select:"id,name,locale"};return g.GET(g.endpoints.systags,n).then(e=>p.b.convertTags(e||null))}))}static GET(e,t,n){return Object(a.b)(this,void 0,void 0,(function*(){const i={queryParams:t=t||{},authHeader:void 0,body:void 0,method:"GET"};return n&&g.sendAuthHeader&&(i.authHeader=n),this.xhr(e,i)}))}static POST(e,t,n,i,o="POST"){return Object(a.b)(this,void 0,void 0,(function*(){const a={method:o,queryParams:n=n||{},body:t,authHeader:void 0};return i&&g.sendAuthHeader&&(a.authHeader=i),this.xhr(e,a)}))}static PUT(e,t,n,i){return Object(a.b)(this,void 0,void 0,(function*(){return g.POST(e,t,n,i,"PUT")}))}static DELETE(e,t,n){return Object(a.b)(this,void 0,void 0,(function*(){const i={method:"DELETE",queryParams:t=t||{},authHeader:void 0,body:void 0};return n&&g.sendAuthHeader&&(i.authHeader=n),this.xhr(e,i)}))}static xhr(e,t={queryParams:void 0,method:void 0,authHeader:void 0,body:void 0}){return Object(a.b)(this,void 0,void 0,(function*(){t.queryParams.scn="MSNRPSAuth",t.queryParams.wrapodata="false";const n={"Content-Type":"application/json"};t.authHeader&&(n["X-MSN-SCP-Auth"]=t.authHeader),g.msaAccessToken&&(n.UserTicketType="2",n.UserAuthToken=g.msaAccessToken,n.SiteName="api.msn.com");const i=(a=t.queryParams)&&Object.keys(a).length>0?"?"+Object.keys(a).map((function(e){return`${e}=${encodeURIComponent(a[e])}`})).join("&"):"";var a;const o={method:t.method||"GET",headers:n,credentials:"include"};return t.body&&(o.body=JSON.stringify(t.body)),fetch(e+i,o).then(n=>{if(!(n.status>=200&&n.status<300||401==n.status))throw n.status>499&&this.onRequestError(e,t),n;if(204==n.status)return{};try{return n.json().then(e=>(e.value&&(e=e.value[0]),e))}catch(i){throw this.onRequestError(e,t),{status:n.status,statusText:"INVALID_RESPONSE"}}})}))}static onRequestError(e,t){const n=this.resourceForUrl(e),i=c[n]||c.unknown;l.log(Object.assign(Object.assign({},i),{message:`Request failed for '${n}'`,pb:Object.assign(Object.assign({},i.pb),{url:e,method:t.method})}))}static resourceForUrl(e){for(const[t,n]of Object.entries(u))if(e.indexOf("/"+n)>0)return n;return"unknown"}}g.domain=h.a.externalUrls.api,g.testDomain=h.a.externalUrls.ppeApi,g.endpoints={contents:g.domain.concat("urls/"),comments:g.domain.concat("comments/"),users:g.domain.concat("users/"),ugcontents:g.testDomain.concat("ugcontents/"),ugsastokens:g.testDomain.concat("ugsastokens/"),systags:"https://api.msn.com/graph/systags",typingUpdates:"https://assets.msn.com/labs/api/"};var m=n("dTwT");const b=(e,t,n)=>{if(m.a)if(n){m.a.setItem(`${p.a}${e}`,""),m.a.removeItem(`${p.a}${e}`);const t=m.a.getItem("myReactionIds");let n=t?t.split(","):[];n=n.filter(t=>t!=e),m.a.setItem("myReactionIds",n.join(","))}else if(t){const n=m.a.getItem("myReactionIds");let i=n?n.split(","):[];i.length>200&&(i=i.filter((e,t)=>!(t<100)||(m.a.removeItem(`${p.a}${e}`),!1))),i.push(e),m.a.setItem(`${p.a}${e}`,t),m.a.setItem("myReactionIds",i.join(","))}n?g.resetRating(u.contents,e):g.rate(u.contents,e,t,!0)}},"8AuO":function(e,t,n){"use strict";var i=n("OnwC"),a=n("o1qX"),o=n("ERkP"),r=n.n(o),s=n("eGM7"),c=n("0vDZ");class d extends i.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0,tag:void 0}}render(){return r.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.children)}generateClassNames(){return super.generateClassNames(Object(a.a)(this.props.managedClasses.card))}get tag(){return c.a[this.props.tag]||c.a.div}}d.displayName=s.DisplayNamePrefix+"Card",d.defaultProps={managedClasses:{}};var l=d;t.a=l},"8MWm":function(e,t,n){"use strict";var i=n("iuMt"),a=n("fz//"),o=n("3ZGc"),r=n("rRWH"),s=n("SP+O"),c=n("LD6M"),d=n("QhQn"),l=n("7b0X"),u=n("MF9s"),h=n("objN");const p="#101010",g=Object(s.c)(()=>p),m=Object(s.c)(()=>"#FFF"),b=Object(c.c)(()=>p),f=Object(c.c)(()=>"#FFF"),C=Object(d.c)(()=>p),v=Object(d.c)(()=>"#FFF"),y=Object(l.a)(()=>p),S=Object(l.a)(()=>"#FFF");const O={carousel:{position:"relative",display:"inline-block","&:hover":{"& $carousel_flipperPrevious, & $carousel_flipperNext":{opacity:"1"}},[h.D]:Object.assign({},h.w)},carousel_slides:{},carousel_sequenceIndicators:{position:"absolute",bottom:"4px",display:"inline-flex",padding:"0","text-align":"center","z-index":"100","max-width":"100%",left:"50%",transform:"translate(-50%, -50%)","& > :first-child:nth-last-child(1)":{display:"none"}},carousel_sequenceIndicator:Object.assign(Object.assign({display:"inline-block",padding:"4px",position:"relative","&:focus":{outline:"none"}},Object(i.a)({"&::after":{position:"absolute",border:Object(a.a)("{0} solid transparent",Object(o.a)(u.s)),"border-radius":"40px",top:"0",right:"0",left:"0",bottom:"0",content:"''",display:"block",transition:"all 0.05s ease-in-out"}})),{"&::before":{opacity:"0.45",border:"1px solid transparent","border-radius":"40px",content:"''",display:"block",height:Object(o.a)(u.p),width:"32px",transition:"all 0.05s ease-in-out"},"&:not($carousel_sequenceIndicator__active)":{"&:hover":{"&::before":Object.assign({opacity:"0.9"},h.q)}}}),carousel_sequenceIndicator__active:{"&::before":{opacity:"1"}},carousel_tabPanel:{display:"block"},carousel_tabPanel__hidden:{display:"none"},carousel_tabPanels:{},carousel_tabPanelContent:{},carousel_flipperPrevious:Object.assign(Object.assign({},{position:"absolute",top:"calc(50% - 20px)","z-index":"100",opacity:"0",transition:"all 0.2s ease-in-out"}),{left:Object(r.c)("6px",""),right:Object(r.c)("","6px")}),carousel_flipperNext:Object.assign(Object.assign({},{position:"absolute",top:"calc(50% - 20px)","z-index":"100",opacity:"0",transition:"all 0.2s ease-in-out"}),{right:Object(r.c)("6px",""),left:Object(r.c)("","6px")}),carousel__themeDark:{"& $carousel_flipperPrevious, & $carousel_flipperNext":{"&::before":Object.assign({color:g,fill:g,background:b,border:Object(a.a)("{0} solid {1}",Object(o.a)(u.X),C)},h.h),"& span::before":{"border-color":g},"&:hover":{"&::before":{background:Object(c.b)(()=>p),[h.D]:{background:h.a.selectedBackground,border:Object(a.a)("{0} solid {1}",Object(o.a)(u.X),()=>h.a.selectedText)}},"& span::before":{"border-color":g}},"& > svg":Object.assign({fill:g},h.o),[h.D]:{background:"none"}},"& $carousel_sequenceIndicator":{"&::before":Object.assign({background:b,"border-color":C},h.g),"&::after":{"border-color":y},"&$carousel_sequenceIndicator__active":{"&::before":Object.assign({background:b},h.q)}}},carousel__themeLight:{"& $carousel_flipperPrevious, & $carousel_flipperNext":{"&::before":Object.assign({color:m,fill:m,background:f,border:Object(a.a)("{0} solid {1}",Object(o.a)(u.X),v)},h.h),"& span::before":{"border-color":m},"&:hover":{"&::before":{background:Object(c.b)(()=>"#FFF"),[h.D]:{background:h.a.selectedBackground,border:Object(a.a)("{0} solid {1}",Object(o.a)(u.X),()=>h.a.selectedText)}},"& span::before":{"border-color":m}},"& > svg":Object.assign({fill:m},h.o),[h.D]:{background:"none"}},"& $carousel_sequenceIndicator":{"&::before":Object.assign({background:f,"border-color":v},h.g),"&::after":{"border-color":S},"&$carousel_sequenceIndicator__active":{"&::before":Object.assign({background:f},h.q)}}},carousel__slideAnimatePrevious:{},carousel__slideAnimateNext:{}};t.a=O},"9IeT":function(e,t,n){var i={"./":["NJ5d"],"./CategoryRiverSections":["Yx6L",2],"./CategoryRiverSections.js":["Yx6L",2],"./DisplayAdsRiverSections":["9PcH",3],"./DisplayAdsRiverSections.js":["9PcH",3],"./FinanceThreeColumnRiverSections":["JLQv",4],"./FinanceThreeColumnRiverSections.js":["JLQv",4],"./HomepageRiverSections":["CcOO",5],"./HomepageRiverSections.js":["CcOO",5],"./LegacyRiverSections":["Gi4b",6],"./LegacyRiverSections.js":["Gi4b",6],"./OfficeNewsSections":["2QJ0",7],"./OfficeNewsSections.js":["2QJ0",7],"./OneColumnCategoryRiverSections":["HeU3",0],"./OneColumnCategoryRiverSections.js":["HeU3",0],"./OneColumnFullHeightRiverSections":["+95l",8],"./OneColumnFullHeightRiverSections.js":["+95l",8],"./OneColumnLegacyRiverSections":["9Bga",9],"./OneColumnLegacyRiverSections.js":["9Bga",9],"./OneColumnSuperAppRiverSections":["Z4bx",10],"./OneColumnSuperAppRiverSections.js":["Z4bx",10],"./OneColumnUnifiedMobileRiverSections":["1uO2",1],"./OneColumnUnifiedMobileRiverSections.js":["1uO2",1],"./SectionTemplatesConstants":["2R5J"],"./SectionTemplatesConstants.js":["2R5J"],"./UnifiedMobileTemplatesConstants":["nTuj",11],"./UnifiedMobileTemplatesConstants.js":["nTuj",11],"./WindowsShellRiverSections":["jSLT",12],"./WindowsShellRiverSections.js":["jSLT",12],"./index":["NJ5d"],"./index.js":["NJ5d"]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="9IeT",e.exports=a},"9l6q":function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e[e.Column1=1]="Column1",e[e.Column2=2]="Column2",e[e.Column3=4]="Column3",e[e.Column4=8]="Column4",e[e.Column5=16]="Column5",e[e.Column6=32]="Column6",e[e.Column7=64]="Column7",e[e.Column8=128]="Column8",e[e.ColumnMax=128]="ColumnMax",e[e.ColumnMask=255]="ColumnMask"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Row1=256]="Row1",e[e.Row2=512]="Row2",e[e.Row3=1024]="Row3",e[e.Row4=2048]="Row4",e[e.Row5=4096]="Row5",e[e.Row6=8192]="Row6",e[e.Row7=16384]="Row7",e[e.Row8=32768]="Row8",e[e.Row9=65536]="Row9",e[e.Row10=131072]="Row10",e[e.Row11=262144]="Row11",e[e.Row12=524288]="Row12",e[e.Row13=1048576]="Row13",e[e.Row14=2097152]="Row14",e[e.Row15=4194304]="Row15",e[e.Row16=8388608]="Row16",e[e.Row17=16777216]="Row17",e[e.Row18=33554432]="Row18",e[e.Row19=67108864]="Row19",e[e.Row20=134217728]="Row20",e[e.Row21=268435456]="Row21",e[e.Row22=536870912]="Row22",e[e.RowMax=536870912]="RowMax",e[e.RowMask=1073741568]="RowMask",e[e.Any=1073741568]="Any"}(a||(a={}))},"9y7U":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={selectPpeParameter:"oneservice_enable_ppe",externalUrls:{api:"https://api.msn.com/community/",ppeApi:"https://ppe-api.msn.com/community/",guidelinePage:"https://www.msn.com/en-us/community/guideline",profilePage:"https://www.msn.com/en-us/community/profile/",privacySettings:"https://www.msn.com/en-us/settings",profileSettings:"https://account.microsoft.com/profile",feedbackForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR-V3gf69zQlBm1dJVuXA8mtURVI4UlFHMDRIR0VCWDFWNUQyQU5HVzJJQi4u",copyrightReportForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbRziAYhqL1o9IrEi_GLF4l4hUQVFUVldIVFRCSzQ3NEVOTURNQ01BTE9YSi4u",moderationEmail:"Appealsprocessor@microsoft.com",newPost:"https://www.msn.com/en-us/community/post/new"},userStateType:{existingUser:"existingUser",anonymous:"anonymous",newUser:"newUser"},userNameStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAvatarStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAgeGroup:{under18:"Under18",above18:"Above18"},activityType:{follow:"Follow",reply:"Reply",reaction:"Reaction",badge:"Achievement",moderation:"Moderation",commentDeleteAlert:"CommentDeleteAlert",profileBannedAlert:"ProfileBannedAlert",profileErrorAlert:"ProfileErrorAlert"},moderationErrorType:{takedown:"Takedown",ban:"Ban",notAllowName:"NotAllowName",notAllowPicture:"NotAllowPicture",approveUserAppeal:"ApproveUserAppeal",rejectUserAppeal:"RejectUserAppeal",approveProfilePicAppeal:"ApproveProfilePicAppeal",rejectProfilePicAppeal:"RejectProfilePicAppeal",approveCommentAppeal:"ApproveCommentAppeal",rejectCommentAppeal:"RejectCommentAppeal"},visibleStatusType:{Normal:"Normal",DeletedByUser:"DeletedByUser",DeletedByAI:"DeletedByAI",DeletedByHI:"DeletedByHI",InReview:"InReview"},visibleStatusMap:{DeletedByUser:"VisibleStatusDeletedByUser",DeletedByAI:"VisibleStatusDeletedByAI",DeletedByHI:"VisibleStatusDeletedByHI",InReview:"VisibleStatusInReview",Default:"VisibleStatusOther"},commentReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Copyright:"ReportOptCopyright",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate"},userNameReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate"},userPictureReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Copyright:"ReportOptCopyright",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Nudity:"ReportOptNudity",NonConsensualIntimateImagery:"ReportOptNonConsensualIntimateImagery",Inappropriate:"ReportOptInappropriate"},reactionOrder:["like","love","surprised","thinking","sad","angry"],profileReportItemMap:{UserName:"ReportUserName",ProfilePicture:"ReportProfilePicture"},profilePageEmptyStates:{NoUser:"NoUser",NotSocialUser:"NotSocialUser"},reactionIconMap:{like:"emj_like",love:"emj_love",thinking:"emj_thinking",surprised:"emj_surprised",sad:"emj_sad",angry:"emj_angry"},reactions:{like:"like",love:"love",thinking:"thinking",surprised:"surprised",sad:"sad",angry:"angry"},responsiveLevels:{L0:"cwtl-0",MobilePopup:"cwt-mobile-popup"},newCommentErrorCodeMap:{400:"NewPostDeniedMsg",403:"NewPostSessionExpiredMsg",500:"NewPostWentWrongMsg",bodyTooLong:"NewPostTooLongMsg",other:"NewPostWentWrongMsg",0:"NewPostWentWrongMsg",1:"NewPostSessionExpiredMsg",4:"NewPostDeniedMsg",6:"NewPostWentWrongMsg",7:"NewPostWentWrongMsg",8:"NewPostWentWrongMsg",9:"NewPostWentWrongMsg",10:"NewPostWentWrongMsg",11:"NewPostWentWrongMsg",12:"NewPostTooManyCommentsMsg",20:"NewPostTooLongMsg",21:"NewPostMentionMsg",22:"NewPostWentWrongMsg",23:"NewPostWentWrongMsg",24:"NewPostDeniedMsg",25:"NewPostWentWrongMsg",26:"NewPostWentWrongMsg",27:"NewPostWentWrongMsg",28:"NewPostDeniedMsg",29:"NewPostDeniedMsg",30:"NewPostDeniedMsg",31:"NewPostDeniedMsg",32:{1:"NewPostDuplicatedMsg",2:"NewPostDeniedMsg",3:"NewPostDeniedMsg",4:"NewPostDeniedMsg",5:"NewPostDeniedMsg",6:"NewPostDeniedMsg",7:"NewPostDeniedMsg",8:"NewPostDeniedMsg",9:"NewPostDeniedMsg",10:"NewPostDeniedMsg",11:"NewPostDeniedMsg",12:"NewPostDeniedMsg",13:"NewPostDeniedMsg",14:"NewPostDeniedMsg",15:"NewPostDeniedMsg",16:"NewPostDeniedMsg",17:"NewPostLanguageErrorMsg",18:"NewPostURLMsg"}},ugcPublishStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview"},theme:{default:{name:"default",disabledComponents:[]},superappBase:{name:"superapp",disabledComponents:[]},windowsBase:{name:"windows",disabledComponents:[]},superappEmbed:{name:"superapp-embed",disabledComponents:["profilepage","multiloginpage","reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","notificationtray"]},superappFullpage:{name:"superapp-fullpage",disabledComponents:["profilepage"]}}}},ABUT:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("+viU"),a=n("DngS"),o=n("OnwC"),r=n("ERkP"),s=n.n(r),c=n("u5KZ");const d='button, [href], input, select, textarea, iframe, contentEditable, [tabindex]:not([tabindex="-1"])';class l extends o.a{constructor(){super(...arguments),this.state={itemsLimitReached:!1,currentNumberOfItems:this.props.numberOfInitialItemsMobile},this.rootRef=s.a.createRef(),this.getDisplayStyle=()=>{const{display:e}=this.props;return void 0!==e?{display:e?"flex":"none"}:{display:this.state.itemsLimitReached?"none":"flex"}},this.handleShowMoreClick=e=>{const{onShowMoreClick:t}=this.props;t&&t?t(e):this.updateState(),c.a.sendActionEvent(e.currentTarget)},this.handleKeyDown=e=>{"Enter"===e.key&&this.handleShowMoreClick(e)},this.updateState=()=>{const{numberOfItemsOnEachLoad:e,maxTotalItems:t}=this.props;this.nextFocusIndex=this.state.currentNumberOfItems;let n=this.state.currentNumberOfItems+e;const i=t-n;let a=!1;i<=0&&(n+=i,a=!0),this.setState({itemsLimitReached:a,currentNumberOfItems:n})}}render(){const{currentNumberOfItems:e}=this.state,t=s.a.Children.toArray(this.props.children),n=this.getDisplayStyle();return s.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.rootRef,className:this.generateClassNames(this.props.managedClasses.showMore)}),t.slice(0,e),s.a.createElement("div",Object.assign({},this.props.showMoreTelemetry,{className:this.props.managedClasses.showMore_container,onClick:this.handleShowMoreClick,style:n,onKeyDown:this.handleKeyDown}),s.a.createElement("div",{className:this.props.managedClasses.showMore_link,tabIndex:0,role:"button"},this.props.linkText,s.a.createElement(a.a,{className:this.props.managedClasses.showMore_arrow}))))}componentDidUpdate(e){const t=this.state.currentNumberOfItems?this.state.currentNumberOfItems:s.a.Children.toArray(this.props.children).length;let n=this.nextFocusIndex?this.nextFocusIndex:s.a.Children.toArray(e.children).length;for(;n<t;n++)if(this.rootRef.current&&this.rootRef.current.children.item(n)){const e=this.rootRef.current.children.item(n);if(e){if(e.matches(d)){e.focus();break}{const t=e.querySelector(d);if(t){t.focus();break}}}}this.nextFocusIndex=null}}var u=n("SP+O");const h={showMore:{},showMore_container:{"margin-top":"30px","font-size":"12px","line-height":"16px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","text-align":"center",color:u.c,"border-radius":"4px",cursor:"pointer"},showMore_link:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","text-transform":"uppercase"},showMore_arrow:{fill:u.c,opacity:"0.6",transform:"rotate(-90deg)"}};const p=Object(i.a)(h)(l)},AHia:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f}));var i=n("D57K"),a=n("xaBU"),o=n("wirn"),r=n("YJhp"),s=n("mwRD"),c=n("ERkP"),d=n.n(c),l=n("Tpxs");const u=e=>d.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},d.a.createElement("path",{d:"M24 3V21H0V3H6.43359L7.93359 1.5H16.0664L17.5664 3H24ZM22.5 4.5H16.9336L15.4336 3H8.56641L7.06641 4.5H1.5V19.5H22.5V4.5ZM12 6C12.8281 6 13.6055 6.15625 14.332 6.46875C15.0664 6.78125 15.7031 7.21094 16.2422 7.75781C16.7891 8.29688 17.2188 8.93359 17.5312 9.66797C17.8438 10.3945 18 11.1719 18 12C18 12.8281 17.8438 13.6094 17.5312 14.3438C17.2188 15.0703 16.7891 15.707 16.2422 16.2539C15.7031 16.793 15.0664 17.2188 14.332 17.5312C13.6055 17.8438 12.8281 18 12 18C11.1719 18 10.3906 17.8438 9.65625 17.5312C8.92969 17.2188 8.29297 16.793 7.74609 16.2539C7.20703 15.707 6.78125 15.0703 6.46875 14.3438C6.15625 13.6094 6 12.8281 6 12C6 11.1719 6.15625 10.3945 6.46875 9.66797C6.78125 8.93359 7.20703 8.29688 7.74609 7.75781C8.29297 7.21094 8.92969 6.78125 9.65625 6.46875C10.3906 6.15625 11.1719 6 12 6ZM12 16.5C12.6172 16.5 13.1992 16.3828 13.7461 16.1484C14.293 15.9062 14.7695 15.582 15.1758 15.1758C15.582 14.7695 15.9023 14.293 16.1367 13.7461C16.3789 13.1992 16.5 12.6172 16.5 12C16.5 11.3828 16.3789 10.8008 16.1367 10.2539C15.9023 9.70703 15.582 9.23047 15.1758 8.82422C14.7695 8.41797 14.293 8.09766 13.7461 7.86328C13.1992 7.62109 12.6172 7.5 12 7.5C11.3828 7.5 10.8008 7.62109 10.2539 7.86328C9.70703 8.09766 9.23047 8.41797 8.82422 8.82422C8.41797 9.23047 8.09375 9.70703 7.85156 10.2539C7.61719 10.8008 7.5 11.3828 7.5 12C7.5 12.6172 7.61719 13.1992 7.85156 13.7461C8.09375 14.293 8.41797 14.7695 8.82422 15.1758C9.23047 15.582 9.70703 15.9062 10.2539 16.1484C10.8008 16.3828 11.3828 16.5 12 16.5ZM3.75 6C3.95312 6 4.12891 6.07422 4.27734 6.22266C4.42578 6.37109 4.5 6.54688 4.5 6.75C4.5 6.95312 4.42578 7.12891 4.27734 7.27734C4.12891 7.42578 3.95312 7.5 3.75 7.5C3.54688 7.5 3.37109 7.42578 3.22266 7.27734C3.07422 7.12891 3 6.95312 3 6.75C3 6.54688 3.07422 6.37109 3.22266 6.22266C3.37109 6.07422 3.54688 6 3.75 6Z"})),h=e=>d.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},d.a.createElement("path",{d:"M24.5 14L7 26.25V1.75L24.5 14ZM8.75 22.8867L21.4512 14L8.75 5.11328V22.8867Z"})),p=(e,t,n,i,r)=>{if(!t||!n)return null;const c=i?a.a:a.b;return d.a.createElement(s.a,Object.assign({className:e},t),d.a.createElement(o.a,{glyphType:n,width:r,height:r,jssStyleSheet:c}))},g=(e,t,n,i,c)=>{if(!t||n<1)return null;const u=i?a.a:a.b;return d.a.createElement(s.a,Object.assign({className:e,jssStyleSheet:a.c.bind(void 0,i)},t,{beforeContent:e=>d.a.createElement(o.a,{className:e,glyphType:r.b.Comment,width:c,height:c,jssStyleSheet:u})}),Object(l.a)(n))},m=(e,t,n,i,c,u,h,p)=>{const g=h?a.a:a.b,m=[];if(i&&n.length){const r=e=>{const t=[];return n.forEach(n=>{t.push(d.a.createElement(o.a,{className:e,glyphType:n,width:p,height:p,jssStyleSheet:g}))}),d.a.createElement(d.a.Fragment,null," ",t," ")};m.push(d.a.createElement(s.a,Object.assign({className:e,jssStyleSheet:a.c.bind(void 0,h)},t,{beforeContent:r}),Object(l.a)(i)))}if(u){const t=e=>d.a.createElement(o.a,{className:e,glyphType:r.b.Comment,width:p,height:p,jssStyleSheet:g});m.push(d.a.createElement(s.a,Object.assign({className:e,jssStyleSheet:a.c.bind(void 0,h)},c,{beforeContent:t}),Object(l.a)(u)))}return m.length?d.a.createElement(d.a.Fragment,null," ",m," "):null},b=(e,t)=>{if(!e)return null;const{label:n,onInvoke:a}=e,c=Object(i.d)(e,["label","onInvoke"]);return d.a.createElement(s.a,Object.assign({},c,{"aria-label":n,onClick:t=>{e.onInvoke&&"function"==typeof e.onInvoke&&e.onInvoke(t)},beforeContent:e=>d.a.createElement(o.a,{className:e,glyphType:r.b.Ellipses,width:t,height:t})}))},f=(e,t,n)=>({isEnabled:e,toolTipText:t,likeStatus:n})},AMBy:function(e,t,n){"use strict";function i(e,t){return"function"==typeof IntersectionObserver?new IntersectionObserver(e,t):null}n.d(t,"a",(function(){return i}))},AjgC:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("D57K"),a=n("L+J7"),o=n("uT2j"),r=n("4YCp"),s=n("FPTP"),c=n("rRnI"),d=n("8yfO"),l=n("7FLv"),u=n("QhQn"),h=n("HZZz"),p=n("aP31"),g=n("9CwC"),m=n("AuhI"),b=n("rRWH"),f=n("fz//"),C=n("SP+O");const v={attribution_contentRegion:{color:Object(C.c)(()=>"#000000")},attribution_image:{"max-height":"16px","max-width":"16px"}};var y=n("lWfA"),S=n("OnwC"),O=n("CiAa"),w=n("LJMo"),x=n("ERkP"),j=n.n(x),R=n("7nmT"),P=n.n(R),A=n("o1qX"),k=n("B9ci"),I=n("JpJ4"),E=n("zYLp");class M extends S.a{constructor(){super(...arguments),this.handledProps={cardType:void 0,children:void 0,contentCards:void 0,contentCardTelemetryTags:void 0,height:void 0,kicker:void 0,classNameParts:void 0,managedClasses:void 0,tag:void 0,width:void 0},this.contentCardColumnRef=j.a.createRef()}render(){const{cardType:e,height:t,width:n,tag:i,managedClasses:a}=this.props,r=this.generateClassNames(Object(A.a)(a.complexContentCard,[this.getClassNameByCardType(),!!e]));return j.a.createElement(o.a,Object.assign({},I.c),j.a.createElement(y.a,Object.assign({},this.unhandledProps(),{className:r,height:t,tag:i,width:n}),this.renderLayout()))}componentDidMount(){this.contentCardColumnRef.current&&this.truncateMosaicContent()}getClassNameByCardType(){const{cardType:e,managedClasses:t}=this.props,{complexContentCard_halfPane:n,complexContentCard_headToHead:i,complexContentCard_mosaic:a,complexContentCard_triptych:o}=t;switch(e){case w.a.HalfPane:return n;case w.a.HeadToHead:return i;case w.a.Mosaic:return a;case w.a.Triptych:return o;default:return}}renderLayout(){if(Array.isArray(this.props.contentCards))switch(this.props.cardType){case w.a.HalfPane:return this.renderHalfPane();case w.a.Mosaic:return this.renderMosaic();default:return this.renderPane()}}renderPane(){const{cardType:e,contentCardTelemetryTags:t,contentCards:n,managedClasses:i}=this.props,a=e===w.a.Triptych?i.complexContentCard_contentWrapper__triptychPane:null,o=this.mapTelemetryTags(t,n.length);return j.a.createElement(j.a.Fragment,null,n.map((e,t)=>this.renderContent(t,e,o[t],a)),this.renderBadge())}renderBadge(){if(this.props.kicker)return j.a.createElement(r.a,Object.assign({},this.props.kicker,{className:this.props.managedClasses.complexContentCard_kicker}))}renderMosaic(){const{contentCards:e,contentCardTelemetryTags:t,managedClasses:n}=this.props,{complexContentCard_column:i,complexContentCard_contentWrapper__mosaicPane:a}=n,o=this.mapTelemetryTags(t,e.length);return j.a.createElement(j.a.Fragment,null,this.renderContent(0,e[0],o[0],a,!1),j.a.createElement("div",{className:i,ref:this.contentCardColumnRef},this.renderContent(1,e[1],o[1],null,!0),this.renderContent(2,e[2],o[2],null,!0)),this.renderBadge())}truncateMosaicContent(){const e=P.a.findDOMNode(this.contentCardColumnRef.current),t=e&&e.querySelectorAll("[class*=complexContentCard_headingContent]");t&&t.length&&t.forEach(e=>{const t=e.parentElement,n=e.lastChild;Object(k.a)(e,c.a.Heading_1x,c.d.Default),e.style.display="inline",n&&e.firstChild&&n!==e.firstChild&&t.append(n)})}renderHalfPane(){const{contentCards:e,contentCardTelemetryTags:t,managedClasses:n}=this.props,{complexContentCard_contentWrapper__halfPane:i,complexContentCard_column__halfPane:a,complexContentCard_columnContent__halfPane:o}=n,r=this.mapTelemetryTags(t,e.length);return j.a.createElement(j.a.Fragment,null,this.renderContent(0,e[0],r[0],i),j.a.createElement("div",{className:a},j.a.createElement("div",{className:o},this.renderContent(1,e[1],r[1]),this.renderContent(2,e[2],r[2]),this.renderContent(3,e[3],r[3]))),this.renderBadge())}renderContent(e,t,n,i,a){if(!t)return;const{complexContentCard_textWrapper:o,complexContentCard_contentWrapper:r}=this.props.managedClasses,s=this.props.classNameParts?this.props.classNameParts[e]:null;return j.a.createElement("div",Object.assign({},this.unhandledProps(),n,{key:e,className:Object(A.a)(r,[i,!!i],[s,!!s])}),this.renderImage(t),j.a.createElement("div",{className:o},this.renderHeading(t,a),!a&&this.renderAttribution(t)))}renderHeading(e,t){if(!e.destination)return;const{complexContentCard_destination:n,complexContentCard_heading:a,complexContentCard_headingContent:o}=this.props.managedClasses,r=e.heading,{children:c}=r,d=Object(i.d)(r,["children"]);return j.a.createElement(O.default,Object.assign({},e.destination,{className:Object(A.a)(n,a)}),j.a.createElement(s.a,Object.assign({},d,{className:o}),c,t&&this.renderAttribution(e)))}renderImage(e){if("function"==typeof e.image){const{complexContentCard_imageWrapper:t,complexContentCard_image:n,complexContentCard_imageOverlay:i}=this.props.managedClasses;return j.a.createElement("div",{className:t},e.image(n),j.a.createElement("div",{className:i}))}}renderAttribution(e){if(!e.attribution)return;const{complexContentCard_attributionWrapper:t,complexContentCard_attribution:n}=this.props.managedClasses;return j.a.createElement("div",{className:t},j.a.createElement(a.a,Object.assign({},e.attribution,{jssStyleSheet:v,className:n})))}mapTelemetryTags(e,t){return Object(E.a)(0,t).map(t=>e&&t<e.length&&e[t]?e[t]:null)}}var T=n("+viU");const _=Object(T.a)(e=>({complexContentCard:{"&&":{"align-items":"center","background-color":"black",position:"relative",overflow:"hidden"}},complexContentCard_halfPane:{"&&":{display:"inline-flex"}},complexContentCard_headToHead:{"&&":{display:"grid","grid-template-columns":"repeat(2, 1fr)"}},complexContentCard_mosaic:{"&&":{display:"grid","grid-template-columns":"repeat(2, 1fr)","grid-template-areas":'"leftPane column"'}},complexContentCard_triptych:{"&&":{display:"grid","grid-template-columns":"repeat(3, 1fr)","& $complexContentCard_contentWrapper":{height:"100%"}}},complexContentCard_column:{"&&":{height:"100%","grid-area":"column","flex-direction":"column","& $complexContentCard_heading":Object.assign({},Object(m.a)(3,Object(d.f)("t5"))),"& $complexContentCard_headingContent":Object.assign(Object.assign(Object.assign({},Object(d.c)("t5")),Object(m.a)(3,Object(d.f)("t5"))),{[Object(b.b)("margin-right","margin-left",e.direction)]:"10px"}),"& $complexContentCard_attributionWrapper":{width:"unset","margin-top":"0"}},"& $complexContentCard_contentWrapper":{height:"50%","&:first-child":{"& $complexContentCard_textWrapper":{"padding-bottom":"10px"}}}},complexContentCard_contentWrapper:{"background-color":"black",position:"relative","&:hover":Object.assign(Object.assign({},Object(l.b)(l.a.e6)),{"& $complexContentCard_image":{opacity:"0.7"}})},complexContentCard_destination:{"text-decoration":"none","&::before":{background:"transparent",bottom:"0",content:"''",left:"0",position:"absolute",right:"0",top:"0"},"&:hover":{"& $complexContentCard_headingContent":{"text-decoration":"underline"}}},complexContentCard_column__halfPane:{[Object(b.b)("right","left",e.direction)]:"0","background-image":`linear-gradient(to ${Object(b.b)("left","right",e.direction)}, rgba(0, 0, 0, .95), transparent)`,display:"flex","flex-direction":"column",height:"100%","justify-content":"center",position:"absolute",width:"200px"},complexContentCard_columnContent__halfPane:{[Object(b.b)("border-left","border-right",e.direction)]:"1px solid rgba(255, 255, 255, .40)",[Object(b.b)("padding-left","padding-right",e.direction)]:"12px",[Object(b.b)("padding-right","padding-left",e.direction)]:"24px","& $complexContentCard_textWrapper":{position:"relative",padding:"8px 0","border-top":Object(f.a)("1px solid {0}",u.c)},"&&":{"& $complexContentCard_headingContent":Object.assign(Object.assign({},Object(d.c)("t8")),{"max-height":"48px",width:"163px"})},"& $complexContentCard_contentWrapper":{height:"unset"}},complexContentCard_heading:{},complexContentCard_headingContent:{"&&":{"font-weight":""+h.fontWeight.normal,"margin-top":"6px",position:"relative",cursor:"pointer","z-index":"2",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical","max-height":"90px",width:"280px"}},complexContentCard_image:{margin:"auto","&:hover":{opacity:"0.7"}},complexContentCard_imageOverlay:{"background-image":"linear-gradient(to top, black 15%, transparent 100%)",bottom:"0",left:"0",position:"absolute",height:"150px",width:"100%"},complexContentCard_imageWrapper:{position:"relative",width:"100%"},complexContentCard_kicker:{"&&":{[Object(b.b)("left","right",e.direction)]:"16px",background:p.c,"border-radius":0,color:g.a,"font-weight":""+h.fontWeight.semibold,position:"absolute",top:"16px","z-index":"3","max-width":"calc(100% - 16px)"}},complexContentCard_attributionWrapper:{"box-sizing":"border-box",display:"inline-flex","margin-top":"10px",width:"100%",cursor:"default","z-index":"1"},complexContentCard_textWrapper:{bottom:"0","box-sizing":"border-box",display:"flex","flex-direction":"column","justify-content":"flex-end",left:"0",padding:"8px 16px 30px",position:"absolute",right:"0",top:"0","z-index":"2"},complexContentCard_contentWrapper__mosaicPane:{"grid-area":"leftPane","& $complexContentCard_textWrapper":{"& $complexContentCard_headingContent":Object.assign(Object.assign({"-webkit-line-clamp":"3"},Object(d.c)("t5")),Object(m.a)(3,Object(d.f)("t5")))}},complexContentCard_contentWrapper__halfPane:{"& $complexContentCard_textWrapper":{padding:"8px 112px 30px 16px","& $complexContentCard_headingContent":Object.assign(Object.assign(Object.assign({},Object(d.c)("t4")),Object(m.a)(2,Object(d.f)("t4"))),{display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical","font-weight":""+h.fontWeight.semibold,width:"392px"}),"&::before":{background:`linear-gradient(to ${Object(b.b)("right","left",e.direction)}, transparent 60%, black 85%)`,bottom:"0",content:"''",left:"0",position:"absolute",right:"0",top:"0"}}},complexContentCard_contentWrapper__triptychPane:{"& $complexContentCard_imageOverlay":{"background-image":"linear-gradient(to top, black 13%, transparent 100%)",height:"82px"},"& $complexContentCard_headingContent":{width:"176px"}}}))(M)},Ak5j:function(e,t){},B5vd:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.light="light",e.dark="dark"}(i||(i={}))},B9ci:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("HxRh"),a=n("u5KZ"),o=n("8yfO");const r=/[\u2026]+$/,s=/(?:\s|[,!.?:;])*([\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[^\s\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]+)(?:\s|[,!.?:;])*$/;let c=void 0;function d(e,t,n){if(e&&e.firstChild){const c=function(e,t){if(t)return o.h["t"+t].lineHeight;return parseInt(getComputedStyle(e).getPropertyValue("line-height"),10)}(e,t),d=n?n*c:parseInt(getComputedStyle(e).getPropertyValue("max-height"),10),u=e.firstChild;let h=u.nodeValue,p=0;for(;Math.round(l(e)/c)>Math.round(d/c);){u.nodeValue=u.nodeValue.replace(r,"");const e=s.exec(u.nodeValue);if(e&&(u.nodeValue=u.nodeValue.substr(0,u.nodeValue.length-e[0].length)+"…"),h===u.nodeValue)return;if(h=u.nodeValue,++p>50)return void a.a.sendAppErrorEvent(Object.assign(Object.assign({},i.gb.OverTruncationError),{message:"headline truncation is executed more than 50 times",pb:Object.assign(Object.assign({},i.gb.OverTruncationError.pb),{customMessage:"truncated headline: "+h})}))}}}function l(e){const t=document.createRange();t.selectNodeContents(e);return t.getBoundingClientRect().height}function u(){return void 0===c&&(c=!!(window.CSS&&window.CSS.supports&&CSS.supports("-webkit-line-clamp","3"))),c}},BAt3:function(e,t){},BDbC:function(e,t){},"BQb/":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("D57K"),a=n("fIer"),o=n("rvYQ"),r=n("I6Lx"),s=n("msIb"),c=n("6ADy"),d=n("KETb"),l=n("k112"),u=n("KUTD"),h=n("HxRh"),p=n("wUxM"),g=n("tERu"),m=n("r6MD"),b=n("/+Un"),f=n("hxZq");const C="Dislike",v="Like",y="Save",S="Mute";class O{constructor(e){this.fetchImpl=e,this.providersServiceEndpoint="./Msn/Providers",this.cardActionsServiceEndpoint="./Graph/Actions",this.ocid="feeds"}Dislike(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,C,t)}))}Undislike(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,C,t)}))}Like(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,v,t)}))}Unlike(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,v,t)}))}ShowFewer(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,C,t)}))}UnshowFewer(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,C,t)}))}ShowMore(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,v,t)}))}UnshowMore(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,v,t)}))}Save(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,y,t,null)}))}Unsave(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,y,t)}))}Hide(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,"Dislike",t,null)}))}Unhide(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,"Dislike",t)}))}Mute(e,t){return Object(i.b)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,S,t,"SourceProvider")}))}GetProviderIcon(e,t){return Object(i.b)(this,void 0,void 0,(function*(){const n=yield this.GetPublisherDetails(e,t);return Object(m.a)(n,"value[0].logos[0].imageLink.href",void 0)}))}PostCardActionEvent(e,t,n,i=(()=>null),o=(()=>null)){switch(t){case p.b.Like:if(e.Like===a.a.Like){this.Unlike(n,o);return i(Object.assign(Object.assign({},e),{Like:a.a.None}))}this.Like(n,o);return i(Object.assign(Object.assign({},e),{Like:a.a.Like}));case p.b.Dislike:if(e.Like===a.a.DisLike){this.Undislike(n,o);return i(Object.assign(Object.assign({},e),{Like:a.a.None}))}this.Dislike(n,o);return i(Object.assign(Object.assign({},e),{Like:a.a.DisLike}));case p.b.ShowMore:if(e.ShowMoreFewer===a.b.ShowMore){this.UnshowMore(n,o);return i(Object.assign(Object.assign({},e),{ShowMoreFewer:a.b.None}))}this.ShowMore(n,o);return i(Object.assign(Object.assign({},e),{ShowMoreFewer:a.b.ShowMore}));case p.b.ShowFewer:if(e.ShowMoreFewer===a.b.ShowFewer){this.UnshowFewer(n,o);return i(Object.assign(Object.assign({},e),{ShowMoreFewer:a.b.None}))}this.ShowFewer(n,o);return i(Object.assign(Object.assign({},e),{ShowMoreFewer:a.b.ShowFewer}));case p.b.Save:if(!0===e.Save){this.Unsave(n,o);return i(Object.assign(Object.assign({},e),{Save:!1}))}this.Save(n,o);return i(Object.assign(Object.assign({},e),{Save:!0}));case p.b.HideStory:if(!0===e.Hide){this.Unhide(n,o);return i(Object.assign(Object.assign({},e),{Hide:!1}))}this.Hide(n,o);return i(Object.assign(Object.assign({},e),{Hide:!0}));default:return}}GetPublisherDetails(e,t){return Object(i.b)(this,void 0,void 0,(function*(){const n=yield s.a.getBaseRequestData("GET"),a={key:"ids",value:e},o=Object(c.d)(this.providersServiceEndpoint);let r;[a,...s.a.getOneServiceParamsWithoutAuth(null,this.ocid)].forEach(e=>e.value&&o.searchParams.set(e.key,e.value));try{r=yield Object(d.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){const t=yield this.fetchImpl(o.href,n);if(!t.ok){const n=`OneService returned error response. Status: ${t.status} for providerId: ${e} (url: ${o.href}`;throw new Error(n)}return t.json()})),"getProviderDetails")}catch(e){t(Object.assign(Object.assign({},h.M.CardActionGetActionError),{message:`Error while calling getPublisherDetails action for card action: url: ${o.href}, error: ${e}`}))}return r}))}DeleteCardActionRequest(e,t,n){return Object(i.b)(this,void 0,void 0,(function*(){const a=yield s.a.getBaseRequestData("DELETE");(yield this.isUserSignedIn())&&(a.credentials="include");const o={key:"$filter",value:`actionType eq '${t}' and targetId eq '${e}'`},r=Object(c.d)(this.cardActionsServiceEndpoint);let u;[o,...yield this.getOneServiceCommonParam()].forEach(e=>e.value&&r.searchParams.set(e.key,e.value));try{u=yield Object(d.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){const n=yield this.fetchImpl(r.href,a);if(n.status>=400){const i=`OneService returned error response. Status: ${n.status} for actionType: ${t} and targetId: ${e}`;throw new Error(i)}return Object(l.a)(this.getPreloadReloadReason(t)),Object(f.d)(),n})),"deleteCardAction"+t)}catch(e){n(Object.assign(Object.assign({},h.M.CardActionDeleteActionError),{message:`Error while calling delete action for card action: url: ${r.href}, error: ${e}`}))}return u}))}PostCardActionRequest(e,t,n,a){return Object(i.b)(this,void 0,void 0,(function*(){const o={method:"POST",body:JSON.stringify({actionType:t,targetId:e,targetType:a}),headers:yield s.a.getOneServiceHeaders()};(yield this.isUserSignedIn())&&(o.credentials="include");const r=Object(c.d)(this.cardActionsServiceEndpoint);let u;(yield this.getOneServiceCommonParam()).forEach(e=>e.value&&r.searchParams.set(e.key,e.value));try{u=yield Object(d.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){const n=yield this.fetchImpl(r.href,o);if(n.status>=400){const i=`OneService returned error response. Status: ${n.status} for actionType: ${t}, targetId: ${e} and targetType: ${a}`;throw new Error(i)}return Object(l.a)(this.getPreloadReloadReason(t)),Object(f.d)(),n.json()})),"getCardAction"+t)}catch(e){n(Object.assign(Object.assign({},h.M.CardActionPostActionError),{message:`Error while posting action for card action: url: ${r.href}, error: ${e}`}))}return u}))}getOneServiceCommonParam(){return Object(i.b)(this,void 0,void 0,(function*(){return(yield this.isUserSignedIn())?s.a.getOneServiceParamsWithAuth(o.b.UserId,this.ocid):s.a.getOneServiceParamsWithoutAuth(o.b.UserId,this.ocid)}))}isUserSignedIn(){return Object(i.b)(this,void 0,void 0,(function*(){if(r.b.UserIsSignedIn)return!0;return(yield Object(b.c)())===g.c.SignedIn}))}getPreloadReloadReason(e){switch(e){case v:return u.a.Like;case C:return u.a.Dislike;case S:return u.a.MutePublisher;case y:return u.a.Save;default:return u.a.SettingsChange}}}},Bh1M:function(e,t,n){"use strict";n.r(t),n.d(t,"createComplexContentPreviewConfigProperties",(function(){return r.createComplexContentPreviewConfigProperties})),n.d(t,"ComplexContentPreview",(function(){return V})),n.d(t,"ComplexContentPreviewActions",(function(){return a})),n.d(t,"ComplexContentPreviewConnector",(function(){return B})),n.d(t,"ComplexContentPreviewReducer",(function(){return z})),n.d(t,"mapComplexContentCardProps",(function(){return A.a})),n.d(t,"resetComplexContentPreviewActions",(function(){return o})),n.d(t,"ToolingInfo",(function(){return K}));var i=n("G82u");class a{}function o(){a.contentLoaded.unregisterObservers(),a.contentError.unregisterObservers()}a.contentLoaded=new i.a("contentLoaded"),a.contentError=new i.a("contentError");var r=n("1lvv"),s=n("+viU"),c=n("5mwN"),d=n("B9ci"),l=n("AjgC"),u=n("MF9s"),h=n("SP+O"),p=n("rRWH");const g={complexContentPreview:{background:u.k,color:h.c,position:"relative"},complexContentPreview_loading:{background:u.k}},m=e=>({complexContentCard:{"& $complexContentCard_contentWrapper:first-child":{"&::after":{[Object(p.b)("border-left-width","border-right-width",e.direction)]:"0"}}},complexContentCard_column:{"& $complexContentCard_contentWrapper:first-child":{"&::after":{border:"0.5px solid white"},"& $complexContentCard_textWrapper":{"border-bottom":"1px solid white","box-sizing":"border-box"}}},complexContentCard_contentWrapper:{"&::after":{border:"0 solid transparent",[Object(p.b)("border-left-width","border-right-width",e.direction)]:"1px","border-image":"linear-gradient(to bottom, white, transparent)","border-image-slice":1,content:"''",height:"100%",[Object(p.b)("left","right",e.direction)]:"0",top:"0",position:"absolute"}},complexContentCard_columnContent__halfPane:{"& $complexContentCard_contentWrapper":{"&::after":{"border-left-width":"0"}}},complexContentCard_textWrapper:{}});var b=n("IDlV"),f=n("ERkP"),C=n.n(f),v=n("7nmT"),y=n.n(v),S=n("o1qX"),O=n("oFIr");class w extends c.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},c.b),{cardId:void 0,complexContentCardProps:void 0,managedClasses:void 0,onComponentMount:void 0,physicalHeight:void 0,physicalWidth:void 0,reportDomComplete:void 0,styles:void 0,isDenseListCard:void 0})}render(){super.render();const{complexContentCardProps:e,cardId:t,physicalWidth:n,physicalHeight:i,styles:a,isDenseListCard:o}=this.props,r=Object(S.a)(this.props.managedClasses.complexContentPreview,[this.props.managedClasses.complexContentPreview_loading,!this.props.complexContentCardProps]);return C.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-card-id":t,className:this.generateClassNames(r),style:Object.assign(Object.assign({width:n,height:i,background:o?"none":null},a),O.a.getBoxShadowStyle())}),o?this.renderDenseListCard():null,e&&!o?this.renderContentCard():null)}renderContentCard(){const{complexContentCardProps:e}=this.props;return C.a.createElement(l.a,Object.assign({},e,{jssStyleSheet:m}))}renderDenseListCard(){const{complexContentCardProps:e}=this.props;return C.a.createElement(b.a,Object.assign({},e))}componentDidMount(){super.componentDidMount(),this.props.onComponentMount&&this.props.onComponentMount()}componentDidUpdate(){if(Object(d.b)())return;const e=y.a.findDOMNode(this),t=e&&e.querySelectorAll("[class*=complexContentCard_headingContent]");if(!t||!t.length)return;const{complexContentCardProps:{contentCards:n}}=this.props;t.forEach((e,t)=>{Object(d.a)(e,n[t].heading.size,n[t].headingMaxLines)})}endDomCompleteMilestone(){this.props.reportDomComplete&&super.endDomCompleteMilestone()}}w.defaultProps={experienceName:"ComplexContentPreview"},w.renderCounterPrefix="Content";var x=n("D57K"),j=n("HxRh"),R=n("qg1f"),P=n("LJMo"),A=n("om92"),k=n("3ZGc");const I={inspect:e=>{const{contentResponses:t,physicalWidth:n,physicalHeight:i}=e.state,{serviceContextMetadata:a,telemetryObject:o,visualReadinessHandler:r}=e.connectorArgs;let s;t&&(s=Object(A.a)(e.config,a,t,{height:i,width:n},o,r,a&&a.type===P.a.DenseList));return{props:{complexContentCardProps:s,physicalWidth:n?Object(k.a)(n):void 0,physicalHeight:i?Object(k.a)(i):void 0},missingChildren:[]}}};var E=n("u5KZ"),M=n("Am8i"),T=n("vhqU"),_=n("uEVT"),F=n("KpjL"),N=n("KaPL"),H=n("WfnD"),L=n("HDSB"),D=n("pbks");class B extends H.a{constructor(){super(...arguments),this.supportedRiverCardSizes=N.a.Size2Wx6H,this.cardId=Object(T.a)("ccp"),this.useWebWorkerCache=!1,this.reportDomComplete=!1,this.isDenseListCard=!1,this.initializeContentAsync=()=>Object(x.b)(this,void 0,void 0,(function*(){if(this.getCurrentState().contentResponses)return;const{subItems:e,type:t}=this.serviceContextMetadata,n=e.length;if(!n)return;const i=yield Promise.all(e.map(e=>this.getComplexContentChild(e))),o=i?Object(_.a)(i,F.a).length:0;if(o&&(a.contentLoaded.getActionSender(this).send(i),this.reportDomComplete=!0),o<n){const a=i&&i.map(e=>e&&e.id)||0,r=e&&JSON.stringify(e.map(e=>e&&e.id))||0;this.contentError(Object.assign(Object.assign({},j.R.LoadError),{message:"Invalid or partial response when loading complex content preview",pb:Object.assign(Object.assign({},j.R.LoadError.pb),{customMessage:`Invalid or partial response when loading complex content preview type "${t}". Success items: ${o} -> ${a}. Items: ${n} -> ${r}`})}),!o)}}))}onComponentConnect(e){return Object(x.b)(this,void 0,void 0,(function*(){yield H.a.prototype.onComponentConnect.call(this,e);const{readinessCounter:t,serviceContextMetadata:n,readinessCounterIndex:i,useWebWorkerCache:a}=e;this.useWebWorkerCache=!0!==this.config.skipWebWorker&&a,this.visualReadinessHandler=t&&t.tryCreateNotificationHandler(i),n&&n.type&&n.subItems&&n.subItems.length?(this.serviceContextMetadata=n,this.setDenseListValues(),Object(L.a)()||(yield this.initializeContentAsync())):this.contentError(Object.assign(Object.assign({},j.R.InitError),{message:"Invalid serviceContextMetadata when initializing complex content preview"}))}))}mapStateToProps(e){const{contentResponses:t}=e,n={serviceContextMetadata:this.serviceContextMetadata,telemetryObject:this.telemetryObject,visualReadinessHandler:this.visualReadinessHandler};let{props:i}=I.inspect({config:this.config,state:e,connectorArgs:n});return i&&this.setupImageStatusNotification(i.complexContentCardProps,e),i=Object.assign(Object.assign(Object.assign(Object.assign({},i),{cardId:this.cardId,onComponentMount:t?void 0:this.initializeContentAsync,reportDomComplete:this.reportDomComplete}),this.telemetryTags||{}),{isDenseListCard:this.isDenseListCard}),i}getComplexContentChild(e){return e.type===P.a.ExternalLink?Promise.resolve(e):e.cardContent?Promise.resolve(e.cardContent):(this.isDenseListCard&&E.a.sendAppErrorEvent(Object.assign(Object.assign({},j.R.ContentError),{message:"Complex content card fetching data instead of using card view response. Please update river config to disable flat view response"})),Object(D.a)(e,this.useWebWorkerCache,this.config.wwFetchTimeoutInMs))}setupImageStatusNotification(e,t){const n=this.visualReadinessHandler;let i=!1;if(!n||null==t.contentLoadError&&null==t.contentResponses)return;const a=e&&e.contentCards;if(a&&a.length)for(const e of a){if(e&&e.image){i=!0;break}}i||n(R.b.Unsupported),this.visualReadinessHandler=null}setDenseListValues(){if(this.isDenseListCard=this.serviceContextMetadata.type===P.a.DenseList,!this.isDenseListCard)return;this.supportedRiverCardSizes=N.a.Size1Wx6H;const e=this.telemetryObject.addOrUpdateChild({name:"MultiHeadlineInterestCard",behavior:M.b.Navigate});this.telemetryTags=e.render()}contentError(e,t=!0){E.a.sendAppErrorEvent(Object.assign({},e)),t&&a.contentError.getActionSender(this).send()}}var W=n("05Au"),U=n("5p4t");class z{reduce(e,t){if(!e)return{};if(!t)return e;let n,i=!1;return i=W.a.handleAction(t,a.contentLoaded,t=>{t&&t.length&&e.contentResponses!==t&&(n=Object.assign(Object.assign({},e),{contentResponses:t}))}),i=i||W.a.handleAction(t,U.a.changeCardSize,(t,i,a)=>{e.physicalHeight===a&&e.physicalWidth===i||(n=Object.assign(Object.assign({},e),{physicalHeight:a,physicalWidth:i}))}),i=i||W.a.handleAction(t,a.contentError,()=>{e.contentLoadError||(n=Object.assign(Object.assign({},e),{contentLoadError:!0}))}),n||e}}var $=n("GytZ"),G=n("Y9OI"),q=n("q/M1");const V=Object(s.a)(g)(w),K={reactComponent:V,experienceConfigSchema:r.ComplexContentPreviewConfigSchema,mockState:G.mockComplexContentPreviewState,mockConfig:q.mockConfig,mockConnectorArgs:$.mockComplexContentPreviewConnectorArgs,inspector:I.inspect}},C0IM:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n("Jw3B"),a=n("qTXI");const o={MSAOptOut:"msaoptout",BrowserOptOut:"TOptOut",AppAnonCookieExist:"aace",taboolaSessionCookieName:"ecasession",cookieDomain:"msn.com",AnonCookieName:"ANON"},r={ContentType:"application/json",Method:"POST",CacheControl:"no-cache",Skipsessioncall:"false",ContentTypeKey:"Content-Type",FlightIdKey:"x-ms-flightId",CacheControlKey:"Cache-Control",ClientIdKey:"x-msEdge-clientId",AuthCookieNameKey:"x-ms-authCookieName"},s={CMSListServiceUrl:"v1/cms/api/amp/Document/",CMSContentServiceURl:"view/v1/Preview/"},c={PreloadCardNumber:12,LastNthPositionToPreload:2,Ecasession:"init",River:"river",ReservedRiver:"resriver",DefaultProviderName:"Microsoft",MilliSecondInADay:864e5,DefaultPartnerCookieSyncTimeout:500,BulkCookieSyncTimeout:1e3,UserOptOut:"userOptOut",UserOptOutOptions:"userOptOutOptions",SAMRTBAuctionCallUrl:"https://srtb.msn.com/auction",SAMRTBTimeout:3e3,MyFeedPivotId:"oneriver.myfeed",StripeMyFeedPivotId:"stripe.myfeed",EditInterestPivotId:"oneriver.editinterests",RiverDoubleWide:"river-dbl",RiverHalfTextOnly:"river-half-textonly",RiverHalf:"river-half",OneRiverMain:"oneriver.main",OneRiverMainFlex:"oneriver.flex.main",InfopaneRegion:"infopane",AdServedFireRange:2,StripeInfopaneRegion:"oneriver.stripe.infopane",StripeTabInfopaneRegion:"oneriver.stripe.tabinfopane",StripeRegionKeyWord:".stripe",InfopaneRegionKeyWord:"infopane",TabInfopaneRegionKeyWord:"infopane-tab",TopStripeRegionKeyWord:"top",PersonalizedStripeRegionKeyWord:"personalized",MediatedInfopaneSlides:["6","9","29"]},d={MockTemplate:"mocktemplate",HeadToHead:"mockspartanheadtohead",Triptych:"mockspartantriptych"},l={DisableInterstitialNativeAd:"disable_interstitial_nativead",Base:"base",InterstitialGallery:"interstitialgallery"},u={[i.a.c1]:a.a.OneColumn,[i.a.c2]:a.a.TwoColumn,[i.a.c3]:a.a.ThreeColumn,[i.a.c4]:a.a.FourColumn,[i.a.c5]:a.a.FiveColumn}},C4R5:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return S}));var i,a=n("D57K"),o=n("9J8d"),r=n("FaCY"),s=n("s9+9"),c=n("rvYQ"),d=n("Z3LZ");class l{constructor(e,t){this.onUpdateFollowedTopics=()=>{if(!this.connector)return this.onRouteUpdateCallback([]);const e=this.connector.getCurrentState(),t=e.followedTopicIds,n=e.topicMap,a=[];t&&n&&t.forEach(e=>{const t=n[e],o={path:m(t.canonicalName||t.name,e),display:t.name,experienceInfo:this.dynamicRouteExperienceInfo,context:{feedId:e},pivotId:e,dynamicPivotSource:i.TopicsData};a.push(o)}),this.onRouteUpdateCallback(a)},this.onRouteUpdateCallback=e,this.dynamicRouteExperienceInfo=t}getDynamicPivotsFromDataConnector(e){return Object(a.b)(this,void 0,void 0,(function*(){switch(e){case s.a.TopicData:yield this.getPivotsFromTopicData();break;case s.a.NavigationData:yield this.getPivotsFromNavigationData();break;default:return}}))}getPivotsFromTopicData(){return Object(a.b)(this,void 0,void 0,(function*(){yield Object(d.l)(),o.a.getInstance().rootReducer.getDataConnector(s.a.TopicData).then(e=>{this.connector=e,this.connector.getFollowedTopics(!1).then(()=>{this.onUpdateFollowedTopics()})}),r.a.followedTopics.registerObserver(this.onUpdateFollowedTopics),r.a.updateTopicFollowedState.registerObserver(this.onUpdateFollowedTopics)}))}getPivotsFromNavigationData(){return Object(a.b)(this,void 0,void 0,(function*(){if(this.connector=yield o.a.getInstance().rootReducer.getDataConnector(s.a.NavigationData),this.connector){const e=yield this.connector.getNavigationItems(c.b.HostPage.verticalKey,c.b.HostPage.categoryKey);this.onRouteUpdateCallback(this.mapNavigationItemsToDynamicRoutes(e))}else this.onRouteUpdateCallback([])}))}mapNavigationItemsToDynamicRoutes(e){return e.map(e=>({path:e.targetUrl,externalUrl:e.targetUrl,display:e.displayText,pivotId:e.categoryKey,dynamicPivotSource:i.NavigationData}))}}!function(e){e.NavigationData="NavigationDataAdapter",e.TopicsData="TopicsDataAdapter"}(i||(i={}));var u,h=n("b2pY"),p=n("dTwT");class g{constructor(e){this.staticRoutes=[],this.dynamicRoutes=[],this.onUpdateRoutesCallbacks=[],this.switchListeners=[],this.callSwitchListeners=e=>{if(!this.switchListeners.length)return;const t=this.getPivotSelectionInfoFromPath(e.state&&e.state.previousPath),n=this.getPivotSelectionInfoFromPath(e.pathname,e),i={newSelection:n,oldSelection:t};this.config.enableRememberedPivots&&p.a.setItem(v,n&&n.pivotId),this.switchListeners.sort((e,t)=>e.order-t.order);for(const e of this.switchListeners)e.callback(i)},e&&(e.enableLocaleFeedPrefix&&(g.enableLocaleFeedPrefix=!0),this.setRoutes(e)),h.a.listen(this.callSwitchListeners)}setRoutes(e){this.config=e,this.setStaticRoutes(),this.config.disableLoadingDynamicRoutes||this.setDynamicRoutes()}pushHistory(e,t,n,i){const a=h.a.location.pathname;h.a.push(m(e,t),{previousPath:a,context:n},i)}getStaticRoutes(){return this.staticRoutes}getDynamicRoutes(){return this.dynamicRoutes}getDynamicRoute(){return{path:m("interest"),experienceInfo:this.config.dynamicRouteExperienceInfo,pivotId:"oneriver.xfeed"}}isDynamicRoute(e){const t=c.b.CurrentMarket,n=g.enableLocaleFeedPrefix?`/${t}/feed/interest`:"/interest";return 0===e.indexOf(n)}getCurrentRoute(){const e=h.a.location.pathname,t=this.staticRoutes.find(t=>t.path===e);return t||(e.includes("/interest")?this.getDynamicRoute():null)}addDynamicRouteListener(e){this.onUpdateRoutesCallbacks.push(e)}addSwitchListener(e,t=C.AfterLoadContent){this.switchListeners.push({callback:e,order:t})}getRememberedPivot(){if(!this.config.enableRememberedPivots)return;const e=p.a.getItem(v);e&&this.config.staticRoutes.forEach(t=>{t.pivotId===e&&this.pushHistory(t.canonicalName)})}getPivotSelectionInfoFromPath(e,t){if(!e)return null;const n=this.config.staticRoutes.find(t=>m(t.canonicalName)===e);if(n)return{pivotId:n.pivotId,telemetryPageName:n.telemetryPageName,telemetryPivotCategory:n.telemetryPivotCategory,display:n.canonicalName};if(!this.isDynamicRoute(e))return null;const i=e.split("/"),a=g.enableLocaleFeedPrefix?2:0,o=t&&t.state&&t.state.context;return{telemetryPageName:"xfeed",telemetryPivotCategory:"news",pivotId:o&&t.state.context.feedId||i.length>=4+a&&i[3+a],display:o&&(t.state.context.display||t.state.context.query)||i.length>=3+a&&decodeURIComponent(i[2+a])}}setStaticRoutes(){const{staticRoutes:e}=this.config;e.forEach(e=>{const t={path:m(e.canonicalName)||e.externalUrl,externalUrl:e.externalUrl,experienceInfo:e.experienceInfo,queryParamOverrides:e.queryParamOverrides,display:e.canonicalName,pivotId:e.pivotId,context:e.context};this.staticRoutes.push(t)})}setDynamicRoutes(){return Object(a.b)(this,void 0,void 0,(function*(){const e=new l(this.onUpdateDynamicRoute.bind(this),this.config.dynamicRouteExperienceInfo);yield e.getDynamicPivotsFromDataConnector(this.config.dynamicRouteDataConnector)}))}onUpdateDynamicRoute(e){this.dynamicRoutes=e;for(const e of this.onUpdateRoutesCallbacks)e(this.dynamicRoutes)}}function m(e,t){if(g.enableLocaleFeedPrefix){const n=c.b.CurrentMarket;if(!e)return`/${n}/feed`;if(t)return`/${n}/feed/interest/${encodeURIComponent(e)}/${encodeURIComponent(t)}`;const i="/"===e[0]?e.slice(1):e;return f[i]?`/${n}/feed${f[i]}`:`/${n}/feed/${i}`}{if(!e)return"";if(t)return`/interest/${encodeURIComponent(e)}/${encodeURIComponent(t)}`;const n="/"===e[0]?e.slice(1):e;return f[n]||"/"+n}}function b(e){return!!(e&&e.oldSelection&&e.newSelection)&&(!(!e.oldSelection||!e.oldSelection.pivotId)&&!(!e.newSelection||!e.newSelection.pivotId))}g.enableLocaleFeedPrefix=!1,function(e){e.MyFeed="myFeed",e.Personalize="personalize",e.Saves="saves"}(u||(u={}));const f={myFeed:"/",personalize:"/personalize",interest:"/interest/*/:id",saves:"/personalize/saves"};var C;!function(e){e[e.Telemetry=0]="Telemetry",e[e.Monetization=1]="Monetization",e[e.LoadContent=2]="LoadContent",e[e.AfterLoadContent=3]="AfterLoadContent"}(C||(C={}));const v="selectedPivot";let y;const S=e=>y?(e&&y.setRoutes(e),y):(y=new g(e),y)},DOGQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i="#000000",a="#FFFFFF"},DngS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ERkP"),a=n.n(i),o=n("IATt");class r extends o.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M14.0918 19.9707L4.11133 10L14.0918 0.0292969L14.9707 0.908203L5.88867 10L14.9707 19.0918L14.0918 19.9707Z"}))}}r.defaultProps={viewBox:"0 0 20 20",width:"20px",height:"20px",xmlns:"http://www.w3.org/2000/svg"}},"DsD+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return m}));var i,a=n("qg1f"),o=n("HxRh"),r=n("LJMo"),s=n("Am8i"),c=n("u5KZ"),d=n("pCrc");!function(e){e[e.CMS=0]="CMS",e[e.Bing=1]="Bing"}(i||(i={}));var l=n("ERkP"),u=n.n(l),h=n("BQg2");function p(e,t,n,i=!0){const{metadata:a}=e||{},{url:o}=a||{};o||b(e,"destination");const r=function(e,t,n){if(!e||!n)return null;const i=n.addOrUpdateChild({name:"destination",action:s.a.Click,behavior:s.b.Navigate,type:s.e.Headline,content:{category:"",vertical:"",headline:""},feed:{id:t||null}}),{id:a,metadata:o}=e;if(!o)return null;const{category:r,subCategory:c,title:d}=o;i.contract.content.headline=d||null,r&&(i.contract.content.vertical=r||null,i.contract.content.category=c||null);return i.contract.content.id=a,i.render()}(e,t,n)||{};return Object.assign({href:o,title:a?a.title:null,target:i?"_blank":null},r)}function g(e,t,n,o,s="jpg"){const{metadata:c,type:d}=e||{};let{primaryImage:l,title:u}=c||{};if(!(c&&t&&t.width&&t.height&&(l&&l.url||o)))return void b(e,"image");let h=d===r.a.ExternalLink?i.CMS:i.Bing;l&&l.url||!o||(l=o,h=i.CMS);const p={src:function(e,t,n,a="jpg"){return e===i.CMS?`${t.url}?w=${n.width}&h=${n.height}&q=60&m=6&u=t&o=t&l=f&f=${a}`:`${t.url}&w=${n.width}&h=${n.height}&c=1&rs=1`}(h,l,t,s),alt:u,title:u,style:{maxHeight:t.height}};return n&&(p.onLoad=()=>n(a.b.Ready),p.onError=()=>n(a.b.Unsupported)),p}function m(e){const{metadata:t}=e||{};if(e.type===r.a.ExternalLink&&!e.metadata.uiHint)return{children:t.abstract};const{provider:n}=t||{},{name:i,logo:a}=n||{};if(!t||!n||!i)return;let o=null;if(a&&a.url){const e=new URL(a.url),t=new h.a(e.search);t.set("w","16"),t.set("h","16"),e.search=t.toString(),o={src:e.href,alt:i}}return{image:o?e=>u.a.createElement(d.a,Object.assign(Object.assign({},o),{className:e})):null,children:i}}function b(e,t){const{id:n}=e||{};c.a.sendAppErrorEvent(Object.assign(Object.assign({},o.db.MissingDataForExternalContent),{message:"External content is missing data. Follow up with Editor to ensure it's on purpose.",pb:Object.assign(Object.assign({},o.db.MissingDataForExternalContent.pb),{customMessage:`id: ${n}, property: ${t}`})}))}},E0YY:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const i={SelectedLayout:"SelectedLayout"};var a;!function(e){e.River="River",e.Stripe="Stripe"}(a||(a={}))},"F+C/":function(e,t,n){"use strict";var i=n("iou+");n.o(i,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return i.AutoSuggestContext})),n.o(i,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return i.ButtonDirection})),n.o(i,"ProgressType")&&n.d(t,"ProgressType",(function(){return i.ProgressType})),n.o(i,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return i.RadioSlot}));var a=n("z49O");n.o(a,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return a.AutoSuggestContext})),n.o(a,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return a.ButtonDirection})),n.o(a,"ProgressType")&&n.d(t,"ProgressType",(function(){return a.ProgressType})),n.o(a,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return a.RadioSlot}));var o=n("34rd");n.o(o,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return o.AutoSuggestContext})),n.o(o,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return o.ButtonDirection})),n.o(o,"ProgressType")&&n.d(t,"ProgressType",(function(){return o.ProgressType})),n.o(o,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return o.RadioSlot}));var r=n("u4M6");n.o(r,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return r.AutoSuggestContext})),n.o(r,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return r.ButtonDirection})),n.o(r,"ProgressType")&&n.d(t,"ProgressType",(function(){return r.ProgressType})),n.o(r,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return r.RadioSlot})),t.default=i.default},FIr4:function(e,t){},FaCY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.followedTopics=new i.a("FollowedTopics"),a.followedTopicsFailed=new i.a("FollowedTopicsFailedSignature"),a.recommendedTopics=new i.a("RecommendedTopics"),a.recommendedTopicsFailed=new i.a("RecommendedTopicsFailed"),a.topic=new i.a("Topic"),a.topicFailed=new i.a("TopicsFailed"),a.topics=new i.a("Topics"),a.topicsFailed=new i.a("TopicsFailed"),a.topicGroup=new i.a("TopicGroup"),a.topicGroupFailed=new i.a("TopicGroupFailed"),a.updateTopicFollowedState=new i.a("UpdateTopicFollowedState"),a.updateTopicFollowedStateFailed=new i.a("UpdateTopicFollowedStateFailed")},FjFG:function(e,t){},G5fg:function(e,t,n){"use strict";n.r(t),n.d(t,"Infopane",(function(){return Ce})),n.d(t,"InfopaneActions",(function(){return _})),n.d(t,"InfopaneConnector",(function(){return he})),n.d(t,"InfopaneReducer",(function(){return ge})),n.d(t,"resetInfoPaneActions",(function(){return F})),n.d(t,"ToolingInfo",(function(){return ve}));var i=n("B5vd"),a=n("/nBc"),o=n("3MbD"),r=n("3ZGc"),s=n("ERkP"),c=n.n(s);const d={inspect(e){const{config:t,state:n,connectorArgs:s}=e,{slides:d,physicalWidth:l,physicalHeight:u,nextActiveSlideId:h,isSingleColumn:p}=n,{carouselAutoRotationEventHandlers:g,activeSlideChanged:m,handleFlipperClick:b,nextSlideArrowTelemetryObject:f,previousSlideArrowTelemetryObject:C}=s,{localizedStrings:v,enableMobileInfopane:y}=t,S=[];let O;const w=s.autoRotationEligible(n,t);if(d&&d.length){const t=w?Object.assign({autoplay:n.autoRotationEnabled,autoplayInterval:n.autoRotateIntervalMs},g||{}):null;O=Object.assign({onActiveIdUpdate:m,label:void 0,activeId:h,items:d.map(t=>{const n=e.children?e.children[t.instanceId]:null;return n||S.push(t),{content:e=>n,id:t.instanceId,theme:i.a.light}}),nextFlipper:(e,t)=>c.a.createElement(a.a,Object.assign({className:t,onClick:t=>{b(),e(t)},title:v&&v.nextSlideLabel},f?f.render():null)),previousFlipper:(e,t)=>c.a.createElement(a.a,Object.assign({className:t,onClick:t=>{b(),e(t)},direction:o.a.previous,title:v&&v.prevSlideLabel},C?C.render():null))},t||{})}return{props:Object.assign(Object.assign({carousel:O,loading:!O||!d||!d.length,physicalWidth:l?Object(r.a)(l):void 0,physicalHeight:u?Object(r.a)(u):void 0,isSingleColumn:p,enableMobileInfopane:y,updateVisibilityFlag:w?s.updateVisibilityFlag:void 0},s.renderProps||{}),s.carouselNavigateEventHandlers||{}),missingChildren:S}}};var l=n("+viU"),u=n("5mwN"),h=n("AMBy"),p=n("Jw3B"),g=n("MF9s"),m=n("objN"),b=n("SP+O"),f=n("rRWH"),C=n("mObi"),v=n("mOQN");const y={infopane:{},infopane_loading:{background:g.k}},S=Object(C.a)((e,t)=>({[t?"left":"right"]:"0",background:"none",cursor:"pointer",height:""+Object(r.a)(56),top:`calc(50% - ${Object(r.a)(28)})`,width:"30px","&&":{position:"absolute",[Object(p.e)(null,p.a.c1)]:{display:"none"}},"&& > svg":{fill:g.k,[m.D]:{fill:"HighlightText !important"}},"&::before":{background:Object(b.c)(e)+" !important",[m.D]:{background:"WindowText !important"},border:"none !important","border-radius":"0",opacity:".3"},"&:active::before, &:hover::before":{opacity:"1"}}),(...e)=>Object(v.a)(e).join("_")),O=(e,t)=>({"&&":Object.assign(Object.assign({},S(e,t)),{[Object(p.e)(null,p.a.c1)]:{display:"none"}})}),w=Object(C.a)(e=>({carousel:{[m.D]:{"-ms-high-contrast-adjust":"unset"}},carousel_tabPanel:{width:"100%",height:"100%"},carousel_sequenceIndicators:{"margin-bottom":"-8px"},carousel_sequenceIndicator:{"&&":{padding:"3px","&:before":Object.assign(Object.assign({},m.d),{"-ms-high-contrast-adjust":"none",height:"5px",width:"5px"})}},carousel_flipperPrevious:S(e,e.direction===f.a.ltr),carousel_flipperNext:S(e,e.direction===f.a.rtl)})),x=e=>Object.assign(Object.assign({},w(e)),{carousel_sequenceIndicator:{"&&":{padding:"3px","&:before":Object.assign(Object.assign({},m.d),{"-ms-high-contrast-adjust":"none",height:"5px",width:"5px",[Object(p.e)(null,p.a.c1)]:{width:"20px",height:"4px"}})}},carousel_flipperPrevious:O(e,e.direction===f.a.ltr),carousel_flipperNext:O(e,e.direction===f.a.rtl)});var j=n("qibw"),R=n("o1qX"),P=n("q/RY"),A=n("iX/D"),k=n("NZD6"),I=n("qGiF"),E=n("u5KZ");class M extends u.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},u.b),{carousel:void 0,delayCreationOfCarousel:void 0,domCompleteTrackingId:void 0,enableMobileInfopane:void 0,handleSwipeBegin:void 0,handleSwipeEnd:void 0,handleSwiping:void 0,handleSlideClick:void 0,isSingleColumn:void 0,loading:void 0,managedClasses:void 0,onMount:void 0,onUnmount:void 0,physicalHeight:void 0,physicalWidth:void 0,reportDomComplete:void 0,updateVisibilityFlag:void 0}),this.handleSwipeEnd=e=>{const t=this.direction,n=this.infoPaneRef.current.clientWidth/4;this.props.handleSwipeEnd(e,t,n)},this.getAdditionalInfopaneStyles=()=>{const{isSingleColumn:e,physicalHeight:t,physicalWidth:n}=this.props;return{width:e?"100%":n,height:t}},this.infoPaneRef=c.a.createRef(),this.direction=j.a.ltr}componentDidMount(){super.componentDidMount(),this.setIntersectionObserver();const{onMount:e}=this.props;e&&e()}componentDidUpdate(){super.componentDidUpdate(),this.setIntersectionObserver();const{carousel:e}=this.props;e&&E.a.observeElementTree(this.infoPaneRef.current)}componentWillUnmount(){this.unsetIntersectionObserver();const{onUnmount:e}=this.props;e&&e()}render(){super.render();const{carousel:e,enableMobileInfopane:t,handleSwipeBegin:n,handleSwiping:i,handleSlideClick:a,loading:o,managedClasses:r}=this.props,s=t?x:w,d=this.getAdditionalInfopaneStyles(),l=this.generateClassNames(Object(R.a)(r.infopane,[r.infopane_loading,o]));let u;return u=o?c.a.createElement("div",{className:l,style:d}):this.props.delayCreationOfCarousel&&1===e.items.length?e.items[0].content(l):c.a.createElement(I.a,null,t=>(this.direction=t.direction,c.a.createElement(k.a,Object.assign({},this.unhandledProps(),e,{jssStyleSheet:s,className:l,style:d,onTouchStart:n,onTouchMove:i,onTouchEnd:this.handleSwipeEnd,onClick:a})))),c.a.createElement("div",{ref:this.infoPaneRef},u)}endDomCompleteMilestone(){this.props.reportDomComplete&&-1===this.domCompleteTracker.getEnd()&&Object(P.a)(this.props.domCompleteTrackingId,()=>{this.dependenciesDomComplete(this.domCompleteTracker,this.props.onExperienceMilestoneTimingUpdate)})}dependenciesDomComplete(e,t){e.setEnd(),t&&t(A.a.domComplete,void 0,e.getEnd())}setIntersectionObserver(){if(!this.props.updateVisibilityFlag)return void this.unsetIntersectionObserver();if(this.intersectionObserver)return;this.intersectionObserver=Object(h.a)(e=>{const{updateVisibilityFlag:t}=this.props;if(t){t(e[0].intersectionRatio>0)}},{threshold:[0]}),this.intersectionObserver.observe(this.infoPaneRef.current)}unsetIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}}M.defaultProps={experienceName:"Infopane"};var T=n("G82u");class _{}function F(){_.clearNavigateSlide.unregisterObservers(),_.navigateSlide.unregisterObservers(),_.pauseSlideRotation.unregisterObservers(),_.resumeSlideRotation.unregisterObservers(),_.updateLoadedSlides.unregisterObservers(),_.updateRotationInterval.unregisterObservers()}_.clearNavigateSlide=new T.a("clearNavigateSlide"),_.navigateSlide=new T.a("navigateSlide"),_.pauseSlideRotation=new T.a("pauseSlideRotation"),_.resumeSlideRotation=new T.a("resumeSlideRotation"),_.updateColumnArrangement=new T.a("updateColumnArrangement"),_.updateLoadedSlides=new T.a("updateSlides"),_.updateRotationInterval=new T.a("updateRotationInterval");var N=n("BDbC"),H=n("D57K"),L=n("WfnD"),D=n("+ghb"),B=n("qg1f"),W=n("+djJ"),U=n("HxRh"),z=n("5p4t"),$=n("ffy4"),G=n("+8mm"),q=n("Z3LZ"),V=n("om92"),K=n("NLaq"),J=n("rvYQ"),X=n("1I/+"),Q=n("gmMM"),Y=n("RIQ7"),Z=n("2Mxw"),ee=n("KaPL"),te=n("Am8i"),ne=n("C8K2"),ie=n("plCa"),ae=n("s9+9"),oe=n("Zn5T"),re=n("9J8d"),se=n("2ATS"),ce=n("AjgC"),de=n("HDSB"),le=n("ADRF");function ue(e,t,n,i){const a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(a)?i?e.replace(a,""):e.replace(a,"$1"+t+"="+n+"$2"):i?e:e+o+t+"="+n}class he extends L.a{constructor(){super(...arguments),this.supportedRiverCardSizes=ee.a.Size2Wx6H|ee.a.Size1Wx7H,this.childrenOrder=[],this.childReadinessCounterIndex=0,this.inlineComponents=new Map,this.reportDomComplete=!1,this.physicalCardSize={width:600+ne.a,height:326+ne.a},this.useWebWorkerCache=!1,this.riverCardSize=ee.a.Size2Wx6H,this.visualState={isWindowFocused:Object(de.a)()&&"visible"===document.visibilityState,isDocumentVisible:Object(de.a)()&&"visible"===document.visibilityState,inViewport:!0},this.touchState={touchStarted:!1,touchStartX:0,touchDeltaX:0},this.slideIdToIndex=new Map,this.indexToSlideId=new Map,this.setSlideExperienceSize=(e,t,n)=>{const{slides:i}=this.getCurrentState();this.riverCardSize===e&&this.physicalCardSize.width===t&&this.physicalCardSize.height===n||(this.riverCardSize=e,this.physicalCardSize={width:t,height:n},i&&i.length&&i.forEach(i=>{const a=this.childMap.get(i.instanceId);a&&z.a.changeCardSize.getActionSender(a).send(e,t,n)}))},this.onBreakpointManagerCallback=e=>{const{isSingleColumn:t}=this.getCurrentState();e===p.a.c1!==t&&_.updateColumnArrangement.getActionSender(this).send(e)},this.activeSlideChanged=(e,t)=>{this.getCurrentState().autoRotateIntervalMs!==this.config.autoRotateIntervalMs&&(this.updateAutoRotateInterval(this.config.autoRotateIntervalMs),this.tryResumeAutoRotate()),this.activeSlideId=e;const n=re.a.getInstance().rootReducer.connector(ae.a.PlacementManager);n&&se.a.infopaneSlideChanged.getActionSender(n).send(this.slideIdToIndex.get(this.activeSlideId))},this.updateVisibilityFlag=e=>{this.visualState.inViewport=e,e?this.tryResumeAutoRotate():this.pauseAutoRotate()},this.canAutoRotate=()=>{const{inViewport:e,carouselHovered:t,carouselFocused:n,isWindowFocused:i,isDocumentVisible:a}=this.visualState,{touchStarted:o}=this.touchState;return!t&&!n&&!o&&e&&i&&a&&this.autoRotationEligible(this.getCurrentState(),this.config)},this.pauseAutoRotate=()=>{_.pauseSlideRotation.getActionSender(this).send()},this.tryResumeAutoRotate=()=>!!this.canAutoRotate()&&(_.resumeSlideRotation.getActionSender(this).send(),!0),this.updateAutoRotateInterval=e=>{_.updateRotationInterval.getActionSender(this).send(e)},this.autoRotationEligible=(e,t)=>e.slides&&e.slides.length>1&&t.autoRotateIntervalMs>0,this.onMount=()=>{Object(de.a)()&&(window.addEventListener("blur",this.handleWindowBlur),window.addEventListener("focus",this.handleWindowFocus),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))},this.onUnmount=()=>{Object(de.a)()&&(window.removeEventListener("blur",this.handleWindowBlur),window.removeEventListener("focus",this.handleWindowFocus),document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange))},this.handleMouseOver=()=>{this.visualState.carouselHovered=!0,this.pauseAutoRotate()},this.handleMouseOut=()=>{this.visualState.carouselHovered=!1,this.tryResumeAutoRotate()},this.handleFocus=()=>{this.visualState.carouselFocused=!0,this.pauseAutoRotate()},this.handleBlur=()=>{this.visualState.carouselFocused=!1,this.tryResumeAutoRotate()},this.handleWindowBlur=()=>{this.visualState.isWindowFocused=!1,this.pauseAutoRotate()},this.handleSwipeBegin=e=>{e.preventDefault(),this.pauseAutoRotate(),this.handleMotionStart(e.touches[0].clientX)},this.handleSlideClick=e=>{if("prime"==J.b.TrackInfo.sitePage.page_product){const t=this.slideIdToIndex.get(this.activeSlideId)||0;!function(e,t,n){if(!function(e){if(!e.target)return!1;const t=e.target.closest("a");if(!t||!t.href)return!1;if("#"!==t.href.substr(t.href.length-1)&&"_blank"!==t.target&&(""===t.protocol||":"===t.protocol||"http:"===t.protocol||"https:"===t.protocol))return!0;return!1}(t))return;const i=ue(e,"slide",n,!1);window.history.replaceState(null,"",i)}(Object(X.b)(this.requestContext.data.locationHref,"locationHref"),e,t)}},this.handleSwiping=e=>{this.handleMotionMove(e.targetTouches[0].clientX)},this.handleSwipeEnd=(e,t,n)=>{this.handleMotionEnd(t,n)},this.goToPreviousSlide=()=>{let e=(this.slideIdToIndex.get(this.activeSlideId)||0)-1;e<0&&(e=this.indexToSlideId.size-1);const t=this.indexToSlideId.get(e);this.activeSlideId=t,_.navigateSlide.getActionSender(this).send(t)},this.goToNextSlide=()=>{let e=(this.slideIdToIndex.get(this.activeSlideId)||0)+1;e>this.indexToSlideId.size-1&&(e=0);const t=this.indexToSlideId.get(e);this.activeSlideId=t,_.navigateSlide.getActionSender(this).send(t)},this.getInitialSlideNumber=e=>{const t=Object(X.b)(this.requestContext.data.locationHref,"locationHref"),n=le.a.getQueryParameterByName("slide",t);let i=n?parseInt(n):0;return i>=e.length&&(i=0),i},this.handleFlipperClick=()=>{this.getCurrentState().nextActiveSlideId&&(_.clearNavigateSlide.getActionSender(this).send(),this.tryResumeAutoRotate())},this.handleWindowFocus=()=>{this.visualState.isWindowFocused=!0,this.tryResumeAutoRotate()},this.handleDocumentVisibilityChange=()=>{Object(de.a)()&&(this.visualState.isDocumentVisible="visible"===document.visibilityState,this.visualState.isDocumentVisible?this.tryResumeAutoRotate():this.pauseAutoRotate())},this.visualReadyHandler=()=>{this.markAndUpdateParent(oe.a.infopane,B.b.Ready)},this.unsupportedVisualReadyHandler=()=>{this.markAndUpdateParent(oe.a.infopane+"NoImg",B.b.Unsupported)},this.markAndUpdateParent=(e,t)=>{Object(W.j)(e),this.parentVisualReadinessHandler&&this.parentVisualReadinessHandler(t)}}onComponentConnect(e){return Object(H.b)(this,void 0,void 0,(function*(){yield L.a.prototype.onComponentConnect.call(this,e);const{serviceContextMetadata:t,readinessCounter:n,readinessCounterIndex:i}=e;this.parentVisualReadinessHandler=n&&n.tryCreateNotificationHandler(i),this.readinessCounter=new B.a(1,this.visualReadyHandler,this.unsupportedVisualReadyHandler),this.previousSlideArrowTelemetryObject=this.telemetryObject.addOrUpdateChild({name:"previousSlideArrow",behavior:te.b.Show,content:{headline:"previousSlideArrow"},type:te.e.ActionButton},this.previousSlideArrowTelemetryObject),this.nextSlideArrowTelemetryObject=this.telemetryObject.addOrUpdateChild({name:"nextSlideArrow",behavior:te.b.Show,content:{headline:"nextSlideArrow"},type:te.e.ActionButton},this.nextSlideArrowTelemetryObject),this.useWebWorkerCache=e.useWebWorkerCache;const a=[];if(!t)return void E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:"Infopane has invalid initial connector props to initialize"}));if(this.loadFromServiceMetadata(a,t),!a.length)return void E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:"Infopane has no slide items to initialize"}));this.mergeOrdinalChildExperiences(a,1,e=>{e.initialProps=Object.assign(Object.assign({},e.initialProps),{parentTelemetry:this.telemetryObject})}),this.initializeAutoRotateState(),this.initializeViewportState(),Object(de.a)()&&z.a.changeCardSize.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const[n,i,a]=t;this.setSlideExperienceSize(n,i,a)},{filterConnector:this});const o=this.getInitialSlideNumber(a),r=this.loadSlides(a.slice(o,o+1),!0);if(Object(de.a)()?window.needsHydrate?(yield r,G.a.updateHydrationComplete.registerObserver(()=>{(()=>{Object(H.b)(this,void 0,void 0,(function*(){yield Object(q.l)(),this.loadSlides(a,!1)}))})()})):(()=>{Object(H.b)(this,void 0,void 0,(function*(){yield Promise.all([Object(q.l)(),r]),this.loadSlides(a,!1)}))})():yield r,Object(de.a)()&&"prime"==J.b.TrackInfo.sitePage.page_product){!function(e){const t=ue(e,"slide",0,!0);window.history.replaceState(null,"",t)}(Object(X.b)(this.requestContext.data.locationHref,"locationHref"))}this.requestPageVisibleAsync().then(()=>{this.visualState=this.getInitialVisualState(),this.tryResumeAutoRotate()})}))}mapStateToProps(e){const t={config:this.config,children:this.getChildComponentInstanceList(),state:e,connectorArgs:{autoRotationEligible:this.autoRotationEligible,activeSlideChanged:this.activeSlideChanged,handleFlipperClick:this.handleFlipperClick,updateVisibilityFlag:this.updateVisibilityFlag,carouselAutoRotationEventHandlers:{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleFocus,onBlur:this.handleBlur},carouselNavigateEventHandlers:{handleSwipeBegin:this.handleSwipeBegin,handleSwipeEnd:this.handleSwipeEnd,handleSwiping:this.handleSwiping,handleSlideClick:this.handleSlideClick},renderProps:{onMount:this.onMount,onUnmount:this.onUnmount,reportDomComplete:this.reportDomComplete,domCompleteTrackingId:this.namespace,delayCreationOfCarousel:this.config.delayCreationOfCarousel},telemetryObject:this.telemetryObject,previousSlideArrowTelemetryObject:this.previousSlideArrowTelemetryObject,nextSlideArrowTelemetryObject:this.nextSlideArrowTelemetryObject}},n=d.inspect(t);return Object.assign(Object.assign({},n.props),this.telemetryTags)}getChildComponentInstanceList(){if(this.config.enableInlineContentComponents){const e={};return this.childrenOrder.forEach(t=>{this.inlineComponents.has(t)?e[t]=this.inlineComponents.get(t):this.childMap.has(t)&&(e[t]=this.childMap.get(t).componentInstance)}),e}return this.childComponentInstanceList}createContentCardInline(e){const t={config:this.config.contentPreviewConfig,initialProps:e,cardSize:this.riverCardSize,physicalSize:this.physicalCardSize,parentTelemetry:e.parentTelemetry,visualReadinessHandler:e.readinessCounter&&e.readinessCounter.tryCreateNotificationHandler(e.readinessCounterIndex)};return c.a.createElement(K.a,t,null)}createComplexContentCardInline(e){const t=Object(V.a)(this.config.complexContentPreviewConfig,e.serviceContextMetadata,e.serviceContextMetadata.subItems.map(e=>e.cardContent),this.physicalCardSize,e.parentTelemetry,e.readinessCounter&&e.readinessCounter.tryCreateNotificationHandler(e.readinessCounterIndex));return c.a.createElement(ce.a,t,null)}tryLoadInlineComponent(e,t,n){try{let i=this.inlineComponents.get(e.configInfo.instanceId);const a=Object(Q.g)(e.configInfo);return null!=i?(t[e.configInfo.instanceId]=a,i):(a===oe.a.contentPreview?i=this.createContentCardInline(e.initialProps):a===oe.a.complexContentPreview&&(i=this.createComplexContentCardInline(e.initialProps)),i&&(this.inlineComponents.set(e.configInfo.instanceId,i),t[e.configInfo.instanceId]=a,this.slideIdToIndex.set(e.configInfo.instanceId,n)),i)}catch(e){E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:`Unexpected infopane error while loading slide index ${n}: `+e}))}}getInitialVisualState(){return{isWindowFocused:Object(de.a)()&&"visible"===document.visibilityState,isDocumentVisible:Object(de.a)()&&"visible"===document.visibilityState,inViewport:!0}}isSlideInlineComponent(e){const t=Object(Q.g)(e.configInfo);return this.config.enableInlineContentComponents&&(t===oe.a.contentPreview||t===oe.a.complexContentPreview)}loadSlides(e,t){return Object(H.b)(this,void 0,void 0,(function*(){const n={};let i=!1;const a=new Set;this.config.enableInlineContentComponents&&(this.childrenOrder=e.map(e=>e.configInfo.instanceId)),e.filter(e=>e.initialProps&&!e.initialProps.experienceTelemetry&&!this.childMap.get(e.configInfo.instanceId)&&!this.inlineComponents.get(e.configInfo.instanceId)).map(e=>{e.initialProps.experienceTelemetry=Object(Y.a)(this.telemetryObject,Object(Q.g)(e.configInfo))}),yield Promise.all(e.map((e,t)=>Object(H.b)(this,void 0,void 0,(function*(){if(this.isSlideInlineComponent(e))return i=!0,void this.tryLoadInlineComponent(e,n,t);try{const o=yield this.loadSlideExperienceAsync(e);this.monetizationOption=this.monetizationOption||o&&o.monetizationOption===Z.a.NonMonetizable?Z.a.NonMonetizable:null,i=i||o&&!o.monetizationOption,o&&o.monetizationOption===Z.a.Monetization&&a.add(e.configInfo.instanceId),n[e.configInfo.instanceId]=o?o.namespace:void 0,this.slideIdToIndex.set(e.configInfo.instanceId,t)}catch(e){E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:`Unexpected infopane error while loading slide index ${t}: `+e}))}}))));const o=[],r=[];if(e.forEach((e,t)=>{const s=e.configInfo.instanceId,c=n[s];if(!c||!i&&a.has(s)){if(!c||!i){const n=Object(Q.g)(e.configInfo)||"";r.push(`${t}-${n}`)}}else o.push(e.configInfo),this.indexToSlideId.set(t,e.configInfo.instanceId)}),o.length){if(t){if(this.reportDomComplete=!0,!this.isSlideInlineComponent(e[0])){const t=e[0].configInfo;Object(P.c)(this.namespace,{experienceNamespace:Object(D.b)(t),experienceType:Object(Q.g)(t)})}this.readinessCounter.markNoNewHandlers(1)}_.updateLoadedSlides.getActionSender(this).send(o),this.tryResumeAutoRotate()}o.length<e.length&&E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:"Not all infopane slides loaded.",pb:Object.assign(Object.assign({},U.Qc.InitializeError.pb),{customMessage:`Infopane loaded ${o.length} of ${e.length} slides. Could not load slide indices [${r}]`})}))}))}loadSlideExperienceAsync(e){return Object(H.b)(this,void 0,void 0,(function*(){let t=this.childMap.get(e.configInfo.instanceId);return t||(yield this.loadChildExperience(e.configInfo,e.initialProps),t=this.childMap.get(e.configInfo.instanceId),t&&z.a.changeCardSize.getActionSender(t).send(this.riverCardSize,this.physicalCardSize.width,this.physicalCardSize.height)),t}))}loadFromServiceMetadata(e,t){const{subItems:n}=t;if(!n||!n.length)return void E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:"Service context metadata contained no sub items to initialize infopane"}));const i=this.config,a=i&&i.childExperienceMap;let o=!1;n.forEach((t,n)=>{const i=$.a[t.type];if(!i)return void E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:`Unable to get experience type for item type '${t.type}' for infopane slide`}));const r=a&&a[i];r?(e.push({configInfo:Object.assign(Object.assign({},r),{experienceType:i,instanceId:`infopane-${n}-${i}`}),initialProps:{serviceContextMetadata:t,parentTelemetry:this.telemetryObject,readinessCounter:0===n?this.readinessCounter:null,readinessCounterIndex:this.childReadinessCounterIndex++,useWebWorkerCache:this.useWebWorkerCache&&0===n}}),o=!0):E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InvalidConfig),{message:`Unable to get config for experience type '${i}' for infopane slide`}))}),o||E.a.sendAppErrorEvent(Object.assign(Object.assign({},U.Qc.InitializeError),{message:"Available service context metadata sub items could not be mapped to initialize infopane"}))}initializeViewportState(){_.updateColumnArrangement.getActionSender(this).send(Object(ie.a)().currentColumnArrangement),Object(ie.a)().subscribe(this.onBreakpointManagerCallback)}initializeAutoRotateState(){this.updateAutoRotateInterval(this.config.firstAutoRotateIntervalMs||this.config.autoRotateIntervalMs),this.tryResumeAutoRotate()||this.pauseAutoRotate()}handleMotionStart(e){this.touchState={touchStarted:!0,touchStartX:e,touchDeltaX:0}}handleMotionMove(e){this.touchState.touchStarted&&(this.touchState.touchDeltaX=e-this.touchState.touchStartX)}handleMotionEnd(e,t){this.touchState.touchStarted&&(this.onSwipeEnd(e,t),this.touchState={touchStarted:!1,touchStartX:0,touchDeltaX:0})}onSwipeEnd(e,t){this.touchState.touchDeltaX<-t?e===j.a.ltr?this.goToNextSlide():this.goToPreviousSlide():this.touchState.touchDeltaX>t&&(e===j.a.ltr?this.goToPreviousSlide():this.goToNextSlide())}}var pe=n("05Au");class ge{reduce(e,t){if(!e)return{slides:[],autoRotationEnabled:!0};if(!t)return e;let n,i;return n=pe.a.handleAction(t,_.updateLoadedSlides,t=>{i=Object.assign(Object.assign({},e),{slides:t})}),n=n||pe.a.handleAction(t,z.a.changeCardSize,(t,n,a)=>{e.cardSize===t&&e.physicalHeight===a&&e.physicalWidth===n||(i=Object.assign(Object.assign({},e),{cardSize:t,physicalHeight:a,physicalWidth:n}))}),n=n||pe.a.handleAction(t,_.pauseSlideRotation,()=>{e.autoRotationEnabled&&(i=Object.assign(Object.assign({},e),{autoRotationEnabled:!1}))}),n=n||pe.a.handleAction(t,_.updateRotationInterval,t=>{i=Object.assign(Object.assign({},e),{autoRotateIntervalMs:t,autoRotationEnabled:!1})}),n=n||pe.a.handleAction(t,_.updateRotationInterval,t=>{i=Object.assign(Object.assign({},e),{autoRotateIntervalMs:t,autoRotationEnabled:!1})}),n=n||pe.a.handleAction(t,_.resumeSlideRotation,()=>{e.autoRotationEnabled||(i=Object.assign(Object.assign({},e),{autoRotationEnabled:!0,nextActiveSlideId:null}))}),n=n||pe.a.handleAction(t,_.navigateSlide,t=>{e.nextActiveSlideId!==t&&(i=Object.assign(Object.assign({},e),{nextActiveSlideId:t,autoRotationEnabled:!1}))}),n=n||pe.a.handleAction(t,_.clearNavigateSlide,()=>{e.nextActiveSlideId&&(i=Object.assign(Object.assign({},e),{nextActiveSlideId:null}))}),n=n||pe.a.handleAction(t,_.updateColumnArrangement,t=>{const n=t===p.a.c1;e.isSingleColumn!==n&&(i=Object.assign(Object.assign({},e),{isSingleColumn:n}))}),i||e}}var me=n("XXDZ"),be=n("y4Zl"),fe=n("70mL");const Ce=Object(l.a)(y)(M),ve={reactComponent:Ce,experienceConfigSchema:N.InfopaneConfigSchema,mockConfig:me.mockConfig,mockState:fe.mockInfopaneState,mockConnectorArgs:be.mockConnectorArgs,inspector:d.inspect}},"Gcx/":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e._1x_1y="1x_1y",e._1x_2y="1x_2y",e._1x_3y="1x_3y",e._2x_2y="2x_2y"}(i||(i={}))},GytZ:function(e,t){},H3av:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return N})),n.d(t,"a",(function(){return H}));var i,a=n("rvYQ"),o=n("Tpxs"),r=n("Fpjf"),s=n("ADRF"),c=n("pCrc"),d=n("NS3c"),l=n("wUxM"),u=n("fIer"),h=n("Gcx/"),p=n("uEMx"),g=n("5neD"),m=n("c1hv");!function(e){e.SlideshowPreview="SlideshowPreview",e.ArticlePreview="ArticlePreview",e.VideoPreview="VideoPreview"}(i||(i={}));var b=n("rRnI"),f=n("6xGu"),C=n("YJhp"),v=n("u5KZ"),y=n("Am8i"),S=n("qg1f"),O=n("AHia"),w=n("KaPL"),x=n("+qLX"),j=n("ERkP"),R=n.n(j);const P={angry:C.b.EmojiAngry,like:C.b.EmojiLike,love:C.b.EmojiHeart,sad:C.b.EmojiSad,surprised:C.b.EmojiSurprised,thinking:C.b.EmojiThinking};var A=n("kpPY"),k=n("XgsJ"),I=n("w0HK"),E=n("C4R5"),M=n("3ZGc");const T={[i.VideoPreview]:O.g,[i.SlideshowPreview]:O.b};function _(e,t,n){const{loadedContent:i,physicalWidth:a,physicalHeight:o,contentCardSize:r,isMouseOverContentCard:s}=e;let c;const d=F(t,e.loadedContent,e.contentCardSize);if(d){const{initialProps:l,telemetryContext:u,visualReadinessHandler:h,cardActionConfig:p,useRouter:g}=n;c=N(t,i,l?l.serviceContextMetadata:null,d.propsToMap,r,{width:a,height:o},u,Object.assign({cardActionsMenuOpen:e.cardActionsMenuOpen,cardActionsStatus:e.cardActionsStatus,enabled:t.enableCardAction,enableSaveStoryIcon:t.enableSaveStoryIcon,enableCommentCount:t.enableCommentCount,enableCommentCountOnHover:t.enableCommentCountOnHover,enableSaveStoryOnHover:t.enableSaveStoryOnHover,enableShowMoreFewerNeutralEntryPointButton:t.enableShowMoreFewerNeutralEntryPointButton,enableShowMoreFewerTreatmentOne:t.enableShowMoreFewerTreatmentOne,enableSocialReactions:t.enableSocialReactions,enableProngOneContentCard:t.enableProngOneContentCard,enableProngOneContentCardWithCommunity:t.enableProngOneContentCardWithCommunity,isMouseOverContentCard:s},p),h,l?l.initializedForUserStory:null,g)}return{contentCardProps:c,cardActionsStatus:e.cardActionsStatus,disablePlaceholder:t.disablePlaceholder,enableFadeInAnimation:t.enableFadeInAnimation,enableBigImageOn1x2y:r&&r===w.a.Size1Wx7H,enableFlexHeightCards:t.enableFlexHeightCards,enableCommentCountOnHover:t.enableCommentCountOnHover,enableProngOneContentCard:t.enableProngOneContentCard,enableRichSocialReactions:t.enableRichSocialReactions,enableSaveStoryOnHover:t.enableSaveStoryOnHover,enableSocialReactions:t.enableSocialReactions,isBigPictureCard:r&&r===w.a.Size1Wx4H,isDenseCard:r&&r===w.a.Size1Wx2H,hideStoryOnHoverTooltip:t.cardActionTitles&&t.cardActionTitles.hideStoryOnHoverTitle,hideStoryOnHoverProps:t.enableHideStoryOnHover&&Object(O.e)(t.enableHideStoryOnHover,t.cardActionTitles&&t.cardActionTitles.hideStoryOnHoverTitle,e.cardActionsStatus&&e.cardActionsStatus.Like),isMouseOverContentCard:e.isMouseOverContentCard,onMouseOverContentCard:n.onMouseOverContentCard,physicalHeight:o?Object(M.a)(o):null,physicalWidth:a?Object(M.a)(a):null,socialBarProps:t.enableRichSocialReactions&&z(e,t,n),telemetryContext:n.telemetryContext}}function F(e,t,n){let i;if(t&&n){const a=p.b[Object(g.c)(n)];if(a){const{images:o,abstract:r}=t,{enableImageOn1x1y:s,disableAbstractCards:c}=e,d=n===w.a.Size1Wx7H,l=n===w.a.Size1Wx4H,u=Object(m.b)(o),h=Object(g.b)({image:u,abstract:r,enableImageOn1x1y:s,disableAbstractCards:c,enableBigImageOn1x2y:d,enableMSNHomePageBigPic:l});i=a.find(e=>Object(m.a)(h,e.minContentFeatures))}}return i}function N(e,t,n,i,o,s,j,A,_,F,N){const B=a.b.CurrentMarket,W=e.openLinksInNewTab,z=n&&n.metadata,$=t.category,G=z&&z.category||$&&$.product||"news",q=z&&z.subCategory||$&&$.label||"other",V=z&&z.feed&&z.feed.id,K={headline:t.title,vertical:t.category?t.category.product:null,category:t.category?t.category.label:null,id:t.id,brand:t.provider?t.provider.name:null},J=Object(g.c)(o),X=o===w.a.Size1Wx1H,Q=J===h.a._2x_2y,Y=J===h.a._1x_1y,Z=o===w.a.Size1Wx7H,ee=o===w.a.Size1Wx4H,te=Object(g.e)(J,h.a._1x_3y,i,p.a.PortraitImage_1x);let ne=b.a.Heading_1x;X?ne=b.a.Heading_Short:Q&&!Z?ne=b.a.Heading_2x:Y&&(ne=b.a.Heading_Half);const ie=Object(f.e)(t,ne),ae=function(e,t,n,i,a,o,r,s){const c=Object(f.c)(e,t,n,i);return o.destination.contract=Object.assign(Object.assign({},o.destination.contract),{destinationUrl:c,content:r,feed:{id:a}}),Object.assign({href:c,target:s?"_blank":void 0},o.destination.render())}(t,B,G,q,V,j,K,W),oe=Object(f.i)(t),re=Object(f.h)(t,oe),se=Object(f.g)(t,e.imageAttributionLabel),ce=Object(f.b)(t,e.contentProviderAttributionLabel),de=function(e){return T[e.type]}(t),le=Q||X?void 0:function(e,t,n,{renderKickerAsLink:i,xfeedConfigIndexHref:a,xfeedConfigIndexRef:o,pivotsNavInstanceId:r,enableVerticalKickerLink:s,enableCategoryKickerLink:c,disableKicker:l},u,h,p){if(l)return;const g=e&&e.metadata;if(!g||!g.kicker)return;const b=Object(m.b)(g.kicker);if(!b||!b.feedName)return;const{feedName:f,id:C}=b;t.kicker.contract=Object.assign(Object.assign({},t.kicker.contract),{destinationUrl:Object(k.l)(),content:n,action:y.a.Click,behavior:y.b.Navigate});const{subCategory:S}=g,O={};if(s||c){const e=c&&S&&S.length>0;i&&(O.href=e?U(u,S):U(u)),O.children=e?S.toLocaleUpperCase():u.toLocaleUpperCase()}else O.children=f.toLocaleUpperCase(),O.onClick=i?e=>{e&&(e.preventDefault(),n.headline=f,v.a.sendActionEvent(e.target,y.a.Click),e.stopPropagation()),p?Object(E.d)().pushHistory(f,C,{feedId:C}):Object(I.a)(r).switchPivot({pivotId:C,configIndexHref:a,configIndexRef:o,context:{feedId:C!==f?C:null,userSelected:!0,query:C===f?f:null},telemetryPageName:x.a.Xfeed,display:f})}:null;const w=!i||s||c?{}:{"data-customhandled":1};return Object.assign(Object.assign(Object.assign({appearance:d.a.justified,target:h?"_blank":void 0},O),t.kicker.render()),w)}(n,j,K,e,G,W,N);let ue=Object(m.a)(i,p.a.Image);!ue&&e.stockImage&&(i|=p.a.LandscapeImage_2x,i&=~p.a.Abstract,t.images=[e.stockImage],ue=!0);const he=ue&&!X&&function(e,t,n,i,a,o,s=!1,c=!1){const d=Object(m.b)(e.images);if(!d||!d.id)return;let l,u=n.width;if(Object(m.a)(t,p.a.LandscapeImage_2x))i?(l=b.b.BigImage_1x,u=l.width):l=b.b.Landscape_2x;else if(i&&Object(m.a)(t,p.a.BigImage_1x))l=b.b.BigImage_1x,u=l.width;else if(a&&Object(m.a)(t,p.a.Image_MSNHomePageBigPic))l=b.b.Image_MSNHomePageBigPic,u=l.width;else if(c&&Object(m.a)(t,p.a.LandscapeImage_1x))l=b.b.Landscape_ProngOne_1x;else if(Object(m.a)(t,p.a.LandscapeImage_1x))l=b.b.Landscape_1x;else if(Object(m.a)(t,p.a.PortraitImage_1x))l=b.b.Portrait_1x;else{if(!Object(m.a)(t,p.a.Image_1x1y))return;l=b.b.Image_1x1y,u=l.width}const h=Object(f.j)(l,u),g=Object(f.f)(e,h,s?r.b:60);o&&(g.onLoad=()=>o(S.b.Ready),g.onError=()=>o(S.b.Unsupported));return g}(t,i,s,Z,ee,_,e.overrideDefaultImageQuality,e.enableProngOneContentCard),pe=Object(m.a)(i,p.a.Abstract)&&!X?Object(f.a)(t):void 0;let ge=z&&z.commentSummary&&z.commentSummary.totalCount,me=0,be=[];if(e.enableSocialReactions||e.enableProngOneContentCard){const e=function(e){let t=0;const n=[];let i=e&&e.commentSummary&&e.commentSummary.totalCount||0;const a=e&&e.reactionSummary;t=a&&a.totalCount||0;const o=a&&a.subReactionSummaries&&a.subReactionSummaries||[],r=Object(k.l)();if(r&&r.indexOf("reactionstest")>-1)try{t=Math.floor(1e4*Math.random()),i=Math.floor(1e4*Math.random());["angry","like","love","sad","surprised","thinking"].sort(()=>.5-Math.random()).slice(0,Math.floor(3*Math.random())).forEach(e=>o.push({totalCount:1,type:e}))}catch(e){}if(o&&o.length)for(let e=0;e<2&&e<o.length;e++){const t=o[e]&&o[e].type,i=P[t];i&&n.push(i)}return{commentCount:i,reactionsCount:t,reactionGlyphs:n}}(z);e&&(ge=e.commentCount,me=e.reactionsCount,be=e.reactionGlyphs)}const fe=A&&A.enabled?function(e,t,n,i,a,o,r={},s,c,d,p,g,m){const{enabled:b,cardActionsMenuOpen:f,cardActionsStatus:S,enableCommentCount:w,enableCommentCountOnHover:x,enableProngOneContentCard:j,enableProngOneContentCardWithCommunity:P,enableSaveStoryIcon:A,enableSaveStoryOnHover:k,enableShowMoreFewerNeutralEntryPointButton:I,enableShowMoreFewerTreatmentOne:E,enableSocialReactions:M,initActionMenu:T,isMouseOverContentCard:_,onStatusChange:F,showMoreFewerLikeThisToast:N,showSaveStoryToast:B,updateActionsStatus:W}=e;if(!b)return{};const{provider:U}=o,z={buttonElement:null,cardStatus:S,locale:o.locale,article:{id:o.id,headlineTitle:o.title,href:t.href,image:{alt:i&&i.alt,src:i&&i.src},provider:{id:U&&U.id,name:U&&U.name,image:{alt:n&&n.alt,src:n&&n.src}}},enabled:!0,onStatusChange:F,useTelemetryTags:!0,isUserStoryCardAction:d};s.more.contract.content=c;const $=s.more.render(),G=Object.assign({label:r.moreButtonTitle,title:r.moreButtonTitle,onInvoke:e=>{T(Object.assign(Object.assign({},z),{buttonElement:e.currentTarget}))},"aria-expanded":!!f},$),q=a===h.a._2x_2y;let V=function(e,t,n,i,a,o,r,s,c,d){const u=function(e,t={},n,i,a){if(n.save.contract.content=i,n.save.contract.type=y.e.ActionButton,e)return n.save.contract.name="Undo save",n.save.contract.behavior=y.b.UndoSave,{statusButtonProps:Object.assign({title:t.undoSavedButtonTitle},n.save.render()),statusGlyph:C.b.Saved};if(a&&!e)return n.save.contract.name="Save",n.save.contract.behavior=y.b.Save,{statusButtonProps:Object.assign({title:t.savedButtonTitle},n.save.render()),statusGlyph:C.b.Save};return{}}(n.Save,o,c,d,t);u&&u.statusButtonProps&&(u.statusButtonProps.onClick=e=>{v.a.sendActionEvent(e.currentTarget,y.a.Click),e.stopPropagation(),r(n,l.b.Save),s(Object.assign(Object.assign({},i),{buttonElement:e.target}))});return u.statusButtonProps&&u.statusGlyph?t=>Object(O.f)(t,u.statusButtonProps,u.statusGlyph,e,"16px"):null}(q,A&&k&&_||A&&!k||P,S,z,o.id,r,W,B,s,c);const K=function(e,t,n,i,a,o,r,s){const c=function(e,t={},n,i){return e?(n.unMoreLike.contract.content=i,{statusButtonProps:Object.assign({title:t.undoMoreLikeThisButtonTitle},n.unMoreLike.render()),statusGlyph:C.b.ThumbUpBlue}):(n.moreLike.contract.content=i,{statusButtonProps:Object.assign({title:t.moreLikeThisButtonTitle},n.moreLike.render()),statusGlyph:C.b.ThumbUp})}(n.ShowMoreFewer===u.b.ShowMore,i,r,s);c&&c.statusButtonProps&&(c.statusButtonProps.onClick=e=>{v.a.sendActionEvent(e.currentTarget,y.a.Click),e.stopPropagation(),a(n,l.b.ShowMore),o(Object.assign(Object.assign({},t),{buttonElement:e.target}),l.b.ShowMore)});return c.statusButtonProps&&c.statusGlyph?t=>Object(O.f)(t,c.statusButtonProps,c.statusGlyph,e,"16px"):null}(q,z,S,r,W,N,s,c),J=function(e,t,n,i,a,o,r,s){const c=function(e,t={},n,i){return e?(n.unFewerLike.contract.content=i,{statusButtonProps:Object.assign({title:t.undoFewerLikeThisButtonTitle},n.unFewerLike.render()),statusGlyph:C.b.ThumbDownBlue}):(n.fewerLike.contract.content=i,{statusButtonProps:Object.assign({title:t.fewerLikeThisButtonTitle},n.fewerLike.render()),statusGlyph:C.b.ThumbDown})}(n.ShowMoreFewer===u.b.ShowFewer,i,r,s);c&&c.statusButtonProps&&(c.statusButtonProps.onClick=e=>{v.a.sendActionEvent(e.currentTarget,y.a.Click),e.stopPropagation(),a(n,l.b.ShowFewer),o(Object.assign(Object.assign({},t),{buttonElement:e.target}),l.b.ShowFewer)});return c.statusButtonProps&&c.statusGlyph?t=>Object(O.f)(t,c.statusButtonProps,c.statusGlyph,e,"16px"):null}(q,z,S,r,W,N,s,c);if(M||j&&P){const e={menuTrigger:G,likeIcon:V,saveIcon:D(q,o.id,r,s,c,t,g,m,p)};if(j){const t=[];return S.ShowMoreFewer===u.b.ShowMore?t.push(K):S.ShowMoreFewer===u.b.ShowFewer&&t.push(J),t.length&&!S.Save||t.push(V),Object.assign(Object.assign({},e),{likeIcon:e=>1===t.length?t[0](e):R.a.createElement(R.a.Fragment,null,t.map(t=>t(e)))})}return e}if(w){return{menuTrigger:G,likeIcon:V,saveIcon:w&&p&&(x&&_||!x)?L(q,o.id,r,s,c,t,p):null}}if(j&&!P)return{menuTrigger:G,likeIcon:V,saveIcon:e=>R.a.createElement(R.a.Fragment,null,K(e),J(e))};const X=S.ShowMoreFewer===u.b.ShowMore,Q=S.ShowMoreFewer===u.b.ShowFewer;if(E){let e=null;return(!S.Save||X||Q)&&(e=X?K:J),S.Save||(V=Q||X?null:K),{menuTrigger:G,likeIcon:e,saveIcon:V}}if(I){const e=function(e,t,n,i,a,o,r){o.showMoreFewerNeutralEntryPoint.contract.content=r;const s={statusButtonProps:Object.assign({"aria-expanded":!!t,label:i.showMoreFewerNeutralEntryPointButtonTitle,onClick:e=>{a(Object.assign(Object.assign({},n),{buttonElement:e.currentTarget}),!0)},title:i.showMoreFewerNeutralEntryPointButtonTitle},o.showMoreFewerNeutralEntryPoint.render())};return s.statusButtonProps?t=>Object(O.f)(t,s.statusButtonProps,C.b.ThumbsUpAndDown,e,"16px"):null}(q,f,z,r,T,s,c);let t=null;return X?t=K:Q?t=J:S.Save||(t=e),{menuTrigger:G,likeIcon:t,saveIcon:V}}return{menuTrigger:G,likeIcon:H(q,S,r,W,s,c),saveIcon:V}}(A,ae,oe,he,J,t,e.cardActionTitles,j,K,F,ge,be,me):{};let Ce;return Ce=X?b.d.Short_1x1y:te?b.d.Portrait_1x:b.d.Default,Object.assign(Object.assign({abstract:pe,destination:Object.assign(Object.assign({},ae),{title:se,"aria-label":ce}),heading:ie,image:he?e=>R.a.createElement(c.a,Object.assign(Object.assign({},he),{className:e})):null,kicker:le,icon:de,layout:J,height:s&&s.height?Object(M.a)(s.height):null,width:s&&s.width&&!Z?Object(M.a)(s.width):null,attribution:re,headingMaxLines:Ce},fe),j.contentCard.render())}function H(e,t,n,i,a,o){const r=function(e,t={},n,i){switch(e){case u.a.Like:return n.unlike.contract.content=i,n.unlike.contract.behavior=y.b.Unlike,n.unlike.contract.name="Undo like",{statusButtonProps:Object.assign({title:t.undoLikedButtonTitle},n.unlike?n.unlike.render():null),statusGlyph:C.b.Liked};case u.a.DisLike:return n.undislike.contract.content=i,n.undislike.contract.behavior=y.b.Undislike,n.undislike.contract.name="Undo dislike",{statusButtonProps:Object.assign({title:t.undoDislikedButtonTitle},n.undislike?n.undislike.render():null),statusGlyph:C.b.Disliked};default:return{}}}(t.Like,n,a,o);return r&&r.statusButtonProps&&(r.statusButtonProps.onClick=()=>i(t,l.b.Like)),r.statusButtonProps&&r.statusGlyph?t=>Object(O.f)(t,r.statusButtonProps,r.statusGlyph,e,"20px"):null}function L(e,t,n,i,a,o,r){if(!r)return null;const s=B(n,i,a,o);return s?t=>Object(O.a)(t,s.statusButtonProps,r,e,"14px"):null}function D(e,t,n,i,a,r,s,c,d){if(!c&&!d)return null;const l=s.length?function(e={},t,n,i,a,r){t.reactions.contract=Object.assign(Object.assign({},t.reactions.contract),{content:n,behavior:y.b.Navigate,destinationUrl:i.href});let s="";if(a.length>1){const t=W(a[0],e.socialReactionTitles),n=W(a[1],e.socialReactionTitles);t&&n&&(s+=Object(A.a)(e.socialReactionsCountTitle,Object(o.a)(r)+"",t,n))}else{const t=W(a[0],e.socialReactionTitles);t&&(s=Object(o.a)(r)+" "+t)}return{reactionsButtonProps:Object.assign({title:s,href:i.href,target:i.target},t.reactions.render())}}(n,i,a,r,s,c):{},u=B(n,i,a,r,d);return t=>Object(O.d)(t,l.reactionsButtonProps,s,c,u.statusButtonProps,d,e,"14px")}function B(e={},t,n,i,a){const r=(i.href||"")+"#comments";return t.comment.contract=Object.assign(Object.assign({},t.comment.contract),{content:n,behavior:y.b.Navigate,destinationUrl:r}),{statusButtonProps:Object.assign({title:(a?Object(o.a)(a)+" ":"")+e.commentCountButtonTitle,href:r,target:i.target},t.comment.render())}}function W(e,t){if(!e||!t)return null;switch(e){case C.b.EmojiAngry:return t.angryReactionTitle;case C.b.EmojiHeart:return t.loveReactionTitle;case C.b.EmojiLike:return t.likeReactionTitle;case C.b.EmojiSad:return t.sadReactionTitle;case C.b.EmojiSurprised:return t.surprisedReactionTitle;case C.b.EmojiThinking:return t.thinkingReactionTitle;default:return null}}function U(e,t){return`https://${Object(a.c)().contentLinkHost}/${Object(a.c)().CurrentMarket}/${e=s.a.encodeURIComponentForPrime(e||"")}/${t=s.a.encodeURIComponentForPrime(t||"")}`}function z(e,t,n){const{socialReactionTitles:i,ariaLabelOpenReplies:o,thousandsShort:r,ariaLabelCommentsCount:s,ariaLabelReactions:c,ariaLabelReactionsCount:d,ariaLabelShowReactions:l}=t.cardActionTitles,{likeReactionTitle:u,loveReactionTitle:h,surprisedReactionTitle:p,thinkingReactionTitle:g,sadReactionTitle:m,angryReactionTitle:b}=i;return Object.assign(Object.assign({},e.socialBarData),{localizedStrings:{thousandsShort:r,ariaLabelCommentsCount:s,ariaLabelReactions:c,ariaLabelReactionsCount:d,ariaLabelShowReactions:l,ariaLabelsOpenReplies:o,emojiLabellike:u,emojiLabellove:h,emojiLabelsurprised:p,emojiLabelthinking:g,emojiLabelsad:m,emojiLabelangry:b},market:a.a.getInstance().CurrentMarket,onReaction:n.onReaction,mainTelemetryObject:n.mainTelemetryObject})}},IDlV:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("L+J7"),a=n("lWfA"),o=n("OnwC"),r=n("CiAa"),s=n("ERkP"),c=n.n(s),d=n("FPTP"),l=n("o1qX"),u=n("X3C0");class h extends o.a{constructor(){super(...arguments),this.handledProps={children:void 0,contentCards:void 0,footer:void 0,header:void 0,height:void 0,isDefaultCard:void 0,managedClasses:void 0,shouldRemoveSeparator:void 0,tag:void 0,width:void 0,shouldRemoveCardBase:void 0}}render(){const{shouldRemoveCardBase:e}=this.props;return c.a.createElement(c.a.Fragment,null,e?c.a.createElement(c.a.Fragment,null," ",this.renderDenseListCard()):c.a.createElement(a.a,null,this.renderDenseListCard())," ")}renderDenseListCard(){const{contentCards:e,footer:t,header:n,managedClasses:i}=this.props;if(!e||!e.length)return null;const a=e.length;return c.a.createElement("div",Object.assign({},this.unhandledProps(),{className:Object(l.a)(i.DenseListCard)}),n,c.a.createElement("ul",{className:Object(l.a)(i.DenseListCard_contentList)},e.map((e,t)=>this.renderContentListItem(e,t,t===a-1))),t)}renderContentListItem(e,t,n){if(!e||!e.destination||!e.heading)return;const{managedClasses:i,isDefaultCard:a,shouldRemoveSeparator:o}=this.props,{destination:s,heading:u}=e,h=[i.DenseListCard_contentItem],p=[i.DenseList_contentRegion],g=[i.DenseListCard_heading];return a&&(h.push(i.DenseListCard_contentItem_defaultCard),p.push(i.DenseList_contentRegion_defaultCard),g.push(i.DenseListCard_heading_defaultCard)),c.a.createElement(c.a.Fragment,{key:t},c.a.createElement("li",{className:Object(l.a)(h.join(" "))},c.a.createElement(r.default,Object.assign({},s,{className:Object(l.a)(p.join(" "),i.DenseListCard_destination,i.DenseListCard_obscuredRegion)}),c.a.createElement(d.a,Object.assign({},u,{className:Object(l.a)(g.join(" "))})),a&&this.renderListItemImage(e),this.renderListItemAttribution(e))),!o&&!n&&c.a.createElement("hr",{className:i.DenseListCard_separator}))}renderListItemAttribution(e){if(!e.attribution)return;const{managedClasses:t,isDefaultCard:n}=this.props,a=n?e.attribution:Object(u.a)(e.attribution,"children"),o=n?t.DenseListCard_attributionRegion_defaultCard:t.DenseListCard_attributionRegion,r=n?t.DenseListCard_attributionContent_defaultCard:t.DenseListCard_attribution;return c.a.createElement("div",{className:Object(l.a)(o)},c.a.createElement(i.a,Object.assign({},a,{className:Object(l.a)(r)})))}renderListItemImage(e){const{managedClasses:t,isDefaultCard:n}=this.props;if(e.image&&n)return c.a.createElement(c.a.Fragment,null,e.image(t.DenseListCard_imageRegion_defaultCard))}}var p=n("+viU"),g=n("mDtb"),m=n("8yfO"),b=n("X9F+"),f=n("rRWH");const C=Object.assign(Object.assign(Object.assign({},Object(g.c)()),Object(m.c)("t7")),{overflow:"hidden",width:"100%"}),v=Object(p.a)(e=>({DenseListCard:{display:"flex","flex-direction":"column",height:"100%","justify-content":"space-between",width:"100%"},DenseListCard_contentList:{display:"flex","flex-direction":"column",height:"100%","justify-content":"space-between",margin:"6px 16px 12px 16px",overflow:"hidden",padding:"0"},DenseListCard_contentItem:{height:"32px","list-style-type":"none","flex-direction":"row","& $DenseList_contentRegion":{position:"relative",overflow:"hidden",display:"flex","flex-direction":"row",padding:"8px 0 0 0"},"& $DenseListCard_heading":{display:"-webkit-box","-webkit-line-clamp":"1","-webkit-box-orient":"vertical",cursor:"pointer"}},DenseListCard_contentItem_defaultCard:{height:"84px",position:"relative","& $DenseListCard_heading":{"-webkit-line-clamp":"2"}},DenseList_contentRegion:{},DenseList_contentRegion_defaultCard:{height:"calc(100% - 8px)"},DenseListCard_destination:{"text-decoration":"none",transition:"all .2s ease-in-out","&::after":{top:"0",[Object(f.b)("right","left",e.direction)]:"0","z-index":"1"},"&:hover, &:focus":{"& $DenseListCard_heading":{"text-decoration":"underline"}},"&:focus":{outline:"none"}},DenseListCard_obscuredRegion:{"&::after":{content:'""',position:"absolute",bottom:"0",[Object(f.b)("left","right",e.direction)]:"0"}},DenseListCard_heading:{"&&":Object.assign({},C)},DenseListCard_heading_defaultCard:{"&&":{height:"fit-content",[Object(f.b)("padding-right","padding-left",e.direction)]:"5px"}},DenseListCard_attributionRegion:{[Object(f.b)("margin-left","margin-right",e.direction)]:"8px"},DenseListCard_attributionRegion_defaultCard:{position:"absolute",top:"56px",width:"100%","& img":{height:"16px"}},DenseListCard_separator:{background:b.c,border:0,height:"1px","border-color":b.c,margin:0,width:"100%"},DenseListCard_imageRegion_defaultCard:{height:"48px",width:"48px"}}))(h)},IvTT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("KaPL"),a=n("9l6q");const o={[i.a.None]:{columns:0,rows:0},[i.a.Size1Wx1H]:{columns:1,rows:1},[i.a.Size1Wx2H]:{columns:1,rows:2},[i.a.Size1Wx3H]:{columns:1,rows:3},[i.a.Size1Wx4H]:{columns:1,rows:4},[i.a.Size1Wx5H]:{columns:1,rows:5},[i.a.Size1Wx6H]:{columns:1,rows:6},[i.a.Size1Wx7H]:{columns:1,rows:7},[i.a.Size1Wx8H]:{columns:1,rows:8},[i.a.Size1Wx9H]:{columns:1,rows:9},[i.a.Size1Wx10H]:{columns:1,rows:10},[i.a.Size1Wx12H]:{columns:1,rows:12},[i.a.Size1Wx18H]:{columns:1,rows:18},[i.a.Size2Wx2H]:{columns:2,rows:2},[i.a.Size2Wx3H]:{columns:2,rows:3},[i.a.Size2Wx6H]:{columns:2,rows:6},[i.a.Size2Wx8H]:{columns:2,rows:8},[i.a.Size2Wx12H]:{columns:2,rows:12},[i.a.Size2Wx18H]:{columns:2,rows:18},[i.a.Size3Wx2H]:{columns:3,rows:3},[i.a.Size3Wx3H]:{columns:3,rows:3},[i.a.Size3Wx6H]:{columns:3,rows:6},[i.a.Size3Wx12H]:{columns:3,rows:12},[i.a.Size3Wx18H]:{columns:3,rows:18},[i.a.Size4Wx2H]:{columns:4,rows:3},[i.a.Size4Wx3H]:{columns:4,rows:3},[i.a.Size4Wx6H]:{columns:4,rows:6},[i.a.Size4Wx12H]:{columns:4,rows:12},[i.a.Size4Wx18H]:{columns:4,rows:18},[i.a.Size5Wx3H]:{columns:5,rows:3},[i.a.Size5Wx6H]:{columns:5,rows:6}};class r{static getColumnAndRowSpan(e){return o[e]}static getColumnPositionFromCardPositionBits(e){return a.a[a.a[e&a.a.ColumnMask]]}static getColumnPositionFromColumnNumber(e){return"number"==typeof e&&e%1==0&&e>0&&e<=r.MaxColumns?1<<e-1:void 0}static getRowPositionsFromCardPositionBits(e){const t=e&a.b.RowMask;return t&t-1?t===a.b.Any?a.b.Any:a.b.None:t}static getRowNumberFromCardPositionBits(e){const t=(e&a.b.RowMask)>>r.MaxColumns;return t&&0==(t&t-1)?Math.log2(t)+1:0}static getRowPositionBitFromRow(e){return e?e>a.b.RowMax?a.b.None:a.b.Row1<<e-1:a.b.Any}}r.MaxColumns=8,r.MaxRows=r.getRowNumberFromCardPositionBits(a.b.RowMax)},KaPL:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.None=0]="None",e[e.Size1Wx2H=1]="Size1Wx2H",e[e.Size1Wx3H=2]="Size1Wx3H",e[e.Size1Wx4H=4]="Size1Wx4H",e[e.Size1Wx5H=8]="Size1Wx5H",e[e.Size1Wx6H=16]="Size1Wx6H",e[e.Size1Wx7H=32]="Size1Wx7H",e[e.Size1Wx8H=64]="Size1Wx8H",e[e.Size1Wx9H=128]="Size1Wx9H",e[e.Size1Wx10H=256]="Size1Wx10H",e[e.Size1Wx12H=512]="Size1Wx12H",e[e.Size1Wx18H=1024]="Size1Wx18H",e[e.Size1Wx1H=2048]="Size1Wx1H",e[e.Size2Wx2H=65536]="Size2Wx2H",e[e.Size2Wx3H=131072]="Size2Wx3H",e[e.Size2Wx6H=262144]="Size2Wx6H",e[e.Size2Wx8H=524288]="Size2Wx8H",e[e.Size2Wx12H=1048576]="Size2Wx12H",e[e.Size2Wx18H=2097152]="Size2Wx18H",e[e.Size3Wx2H=4194304]="Size3Wx2H",e[e.Size3Wx3H=2147483648]="Size3Wx3H",e[e.Size3Wx6H=8388608]="Size3Wx6H",e[e.Size3Wx12H=16777216]="Size3Wx12H",e[e.Size3Wx18H=33554432]="Size3Wx18H",e[e.Size4Wx2H=67108864]="Size4Wx2H",e[e.Size4Wx3H=134217728]="Size4Wx3H",e[e.Size4Wx6H=268435456]="Size4Wx6H",e[e.Size4Wx12H=536870912]="Size4Wx12H",e[e.Size4Wx18H=1073741824]="Size4Wx18H",e[e.Size5Wx3H=4096]="Size5Wx3H",e[e.Size5Wx6H=8192]="Size5Wx6H"}(i||(i={}))},"L+J7":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("+viU"),a=n("MF9s"),o=n("8yfO"),r=n("mDtb"),s=n("XI4f"),c=n("zP2P"),d=n("objN"),l=n("rRWH"),u=n("3ZGc"),h=n("mIHV");var p={attribution:{"box-sizing":"border-box",display:"inline-flex","align-items":"center","& $attribution_image":{"margin-right":Object(l.c)(Object(u.a)(Object(h.c)(a.p,2)),""),"margin-left":Object(l.c)("",Object(u.a)(Object(h.c)(a.p,2)))}},attribution_contentRegion:Object.assign(Object.assign(Object.assign({},Object(o.b)("t8")),Object(r.c)()),{color:s.a}),attribution_image:{height:c.b,[d.D]:Object.assign(Object.assign({},d.w),{background:d.a.background,"border-color":d.a.text})}},g=n("qKya");const m=Object(i.a)(p)(g.default)},LJMo:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Article="article",e.Slideshow="slideshow",e.Video="video",e.Spotlight="content360",e.Infopane="infopane",e.TabbedInfopane="tabbedInfopane",e.HalfPane="HalfPane",e.HeadToHead="HeadToHead",e.Mosaic="Mosaic",e.Triptych="Triptych",e.TabbedInfopaneTab="tabbedInfopaneTab",e.WebContent="webcontent",e.ExternalLink="link",e.DenseList="DenseList",e.BackFillContent="BackfillContent",e.MyBriefRiverCard="toppicks",e.NativeAd="nativead",e.TopStories="topStories",e.BingVideo="BingVideo",e.WeatherSummary="WeatherSummary",e.StockQuote="StockQuote",e.SportsMatch="SportsMatch",e.TrafficDelays="TrafficDelays",e.ShoppingMerchantCategoryDeals="ShoppingMerchantCategoryDeals",e.Group="group"}(i||(i={}))},Mm8i:function(e,t){},NJ5d:function(e,t,n){"use strict";n.r(t),n.d(t,"getTemplateCollectionForType",(function(){return r}));var i=n("D57K"),a=n("tMmC"),o=n("2R5J");function r(e){return Object(i.b)(this,void 0,void 0,(function*(){try{let t;return t=yield n("9IeT")("./"+e).catch(e=>null),t?new t.default:void 0}catch(t){a.a.log(`Error getting template collection for type ${e}: ${t}`)}}))}n.d(t,"UnifiedMobileRowHeight",(function(){return o.UnifiedMobileRowHeight})),n.d(t,"CategoryMobileRowHeight",(function(){return o.CategoryMobileRowHeight})),n.d(t,"CategoryMobile1uHeight",(function(){return o.CategoryMobile1uHeight})),n.d(t,"LegacyCssRowHeight",(function(){return o.LegacyCssRowHeight})),n.d(t,"LegacyGutterSize",(function(){return o.LegacyGutterSize})),n.d(t,"RiverBannerRowHeight",(function(){return o.RiverBannerRowHeight})),n.d(t,"LegacyCssColumnWidth",(function(){return o.LegacyCssColumnWidth})),n.d(t,"LegacyRowVirtualRowCount",(function(){return o.LegacyRowVirtualRowCount})),n.d(t,"DisplayAdCssRowHeight",(function(){return o.DisplayAdCssRowHeight})),n.d(t,"ShortCssRowHeight",(function(){return o.ShortCssRowHeight})),n.d(t,"WindowsShellCssRowHeight",(function(){return o.WindowsShellCssRowHeight})),n.d(t,"Column1Row1",(function(){return o.Column1Row1})),n.d(t,"Column2Row1",(function(){return o.Column2Row1})),n.d(t,"Column3Row1",(function(){return o.Column3Row1})),n.d(t,"Column4Row1",(function(){return o.Column4Row1})),n.d(t,"Column5Row1",(function(){return o.Column5Row1})),n.d(t,"Column1Row2",(function(){return o.Column1Row2})),n.d(t,"Column2Row2",(function(){return o.Column2Row2})),n.d(t,"Column3Row2",(function(){return o.Column3Row2})),n.d(t,"Column4Row2",(function(){return o.Column4Row2})),n.d(t,"Column5Row2",(function(){return o.Column5Row2})),n.d(t,"Column1Row3",(function(){return o.Column1Row3})),n.d(t,"Column2Row3",(function(){return o.Column2Row3})),n.d(t,"Column3Row3",(function(){return o.Column3Row3})),n.d(t,"Column4Row3",(function(){return o.Column4Row3})),n.d(t,"Column5Row3",(function(){return o.Column5Row3})),n.d(t,"Column1Row4",(function(){return o.Column1Row4})),n.d(t,"Column2Row4",(function(){return o.Column2Row4})),n.d(t,"Column3Row4",(function(){return o.Column3Row4})),n.d(t,"Column4Row4",(function(){return o.Column4Row4})),n.d(t,"Column5Row4",(function(){return o.Column5Row4})),n.d(t,"Column1Row5",(function(){return o.Column1Row5})),n.d(t,"Column2Row5",(function(){return o.Column2Row5})),n.d(t,"Column3Row5",(function(){return o.Column3Row5})),n.d(t,"Column4Row5",(function(){return o.Column4Row5})),n.d(t,"Column5Row5",(function(){return o.Column5Row5})),n.d(t,"Column1Row6",(function(){return o.Column1Row6})),n.d(t,"Column2Row6",(function(){return o.Column2Row6})),n.d(t,"Column3Row6",(function(){return o.Column3Row6})),n.d(t,"Column4Row6",(function(){return o.Column4Row6})),n.d(t,"Column5Row6",(function(){return o.Column5Row6})),n.d(t,"Column1Row7",(function(){return o.Column1Row7})),n.d(t,"Column2Row7",(function(){return o.Column2Row7})),n.d(t,"Column3Row7",(function(){return o.Column3Row7})),n.d(t,"Column4Row7",(function(){return o.Column4Row7})),n.d(t,"Column5Row7",(function(){return o.Column5Row7})),n.d(t,"Column1Row8",(function(){return o.Column1Row8})),n.d(t,"Column2Row8",(function(){return o.Column2Row8})),n.d(t,"Column3Row8",(function(){return o.Column3Row8})),n.d(t,"Column4Row8",(function(){return o.Column4Row8})),n.d(t,"Column5Row8",(function(){return o.Column5Row8})),n.d(t,"DoubleWide",(function(){return o.DoubleWide})),n.d(t,"HalfHeight",(function(){return o.HalfHeight})),n.d(t,"FullHeight",(function(){return o.FullHeight})),n.d(t,"Tall",(function(){return o.Tall})),n.d(t,"DoubleFullHeight",(function(){return o.DoubleFullHeight})),n.d(t,"DisplayAd",(function(){return o.DisplayAd})),n.d(t,"ShortHeight",(function(){return o.ShortHeight})),n.d(t,"OneRowHeights",(function(){return o.OneRowHeights})),n.d(t,"TwoRowHeights",(function(){return o.TwoRowHeights})),n.d(t,"ThreeRowHeights",(function(){return o.ThreeRowHeights})),n.d(t,"FourRowHeights",(function(){return o.FourRowHeights})),n.d(t,"FiveRowHeights",(function(){return o.FiveRowHeights})),n.d(t,"SixRowHeights",(function(){return o.SixRowHeights})),n.d(t,"SevenRowHeights",(function(){return o.SevenRowHeights})),n.d(t,"EightRowHeights",(function(){return o.EightRowHeights})),n.d(t,"NineRowHeights",(function(){return o.NineRowHeights})),n.d(t,"WindowsShellOneRowHeights",(function(){return o.WindowsShellOneRowHeights})),n.d(t,"WindowsShellTwoRowHeights",(function(){return o.WindowsShellTwoRowHeights})),n.d(t,"WindowsShellThreeRowHeights",(function(){return o.WindowsShellThreeRowHeights})),n.d(t,"WindowsShellFourRowHeights",(function(){return o.WindowsShellFourRowHeights})),n.d(t,"WindowsShellSixRowHeights",(function(){return o.WindowsShellSixRowHeights})),n.d(t,"WindowsShellEightRowHeights",(function(){return o.WindowsShellEightRowHeights})),n.d(t,"WindowsShellNineRowHeights",(function(){return o.WindowsShellNineRowHeights})),n.d(t,"OneRowHeightsLength",(function(){return o.OneRowHeightsLength})),n.d(t,"TwoRowHeightsLength",(function(){return o.TwoRowHeightsLength})),n.d(t,"ThreeRowHeightsLength",(function(){return o.ThreeRowHeightsLength})),n.d(t,"FourRowHeightsLength",(function(){return o.FourRowHeightsLength})),n.d(t,"FiveRowHeightsLength",(function(){return o.FiveRowHeightsLength})),n.d(t,"SixRowHeightsLength",(function(){return o.SixRowHeightsLength})),n.d(t,"SevenRowHeightsLength",(function(){return o.SevenRowHeightsLength})),n.d(t,"EightRowHeightsLength",(function(){return o.EightRowHeightsLength})),n.d(t,"NineRowHeightsLength",(function(){return o.NineRowHeightsLength})),n.d(t,"WindowsShellTwoRowHeightsLength",(function(){return o.WindowsShellTwoRowHeightsLength})),n.d(t,"WindowsShellThreeRowHeightsLength",(function(){return o.WindowsShellThreeRowHeightsLength})),n.d(t,"WindowsShellFourRowHeightsLength",(function(){return o.WindowsShellFourRowHeightsLength})),n.d(t,"WindowsShellSixRowHeightsLength",(function(){return o.WindowsShellSixRowHeightsLength})),n.d(t,"WindowsShellEightRowHeightsLength",(function(){return o.WindowsShellEightRowHeightsLength})),n.d(t,"WindowsShellNineRowHeightsLength",(function(){return o.WindowsShellNineRowHeightsLength})),n.d(t,"OneFlexibleColumnWidths",(function(){return o.OneFlexibleColumnWidths})),n.d(t,"TwoColumnWidths",(function(){return o.TwoColumnWidths})),n.d(t,"ThreeColumnWidths",(function(){return o.ThreeColumnWidths})),n.d(t,"FourColumnWidths",(function(){return o.FourColumnWidths})),n.d(t,"FiveColumnWidths",(function(){return o.FiveColumnWidths}))},NLaq:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("fIer"),a=n("XG5Y"),o=n("BQb/"),r=n("wUxM"),s=n("H3av"),c=n("Gcx/"),d=n("ggrA"),l=n("xaBU"),u=n("w5AX"),h=n("OnwC"),p=n("ERkP"),g=n.n(p),m=n("5neD");class b extends h.a{constructor(e){super(e),this.state={cardLikeActionStatus:void 0};const t=this.props.initialProps.serviceContextMetadata.metadata,n={enableCommentCount:this.props.config.enableCommentCount,enabled:this.props.config.enableCardAction};if(n.enabled&&t){const e=t.actions&&this.props.initialProps.serviceContextMetadata.metadata.actions.indexOf(i.a.Like)>=0;n.cardActionsStatus={Like:e?i.a.Like:i.a.None},n.onStatusChange=this.onStatusChange.bind(this),n.updateActionsStatus=this.updateActionsStatus.bind(this),n.showSaveStoryToast=e=>{},n.initActionMenu=this.initActionMenu.bind(this)}this.props.parentTelemetry&&(this.telemetryContext=new u.a(this.props.parentTelemetry));const a=Object(s.b)(this.props.config,this.props.initialProps.serviceContextMetadata.cardContent,this.props.cardSize);this.contentCardProps=Object(s.c)(this.props.config,this.props.initialProps.serviceContextMetadata.cardContent,this.props.initialProps.serviceContextMetadata,a?a.propsToMap:void 0,this.props.cardSize,this.props.physicalSize,this.telemetryContext,n,this.props.visualReadinessHandler),this.contentCardProps.jssStyleSheet=l.h}initActionMenu(e){let t=e.cardStatus;!this.state.cardLikeActionStatus||e.cardStatus&&e.cardStatus.Like===this.state.cardLikeActionStatus||(t=Object.assign(Object.assign({},e.cardStatus),{Like:this.state.cardLikeActionStatus})),a.b.Init.getGlobalActionSender().send(Object.assign(Object.assign({},e),{cardStatus:t}))}updateActionsStatus(e,t){const n=new o.a(window.fetch.bind(window));let s=void 0;switch(t){case r.b.Like:e.Like===i.a.Like?(s=r.b.Like,a.b.UnlikeCard.getGlobalActionSender().send()):e.Like===i.a.DisLike?(s=r.b.Dislike,a.b.UndislikeCard.getGlobalActionSender().send()):s=null}const c=this.props.initialProps.serviceContextMetadata.id;n.PostCardActionEvent(e,s,c,this.onStatusChange.bind(this))}onStatusChange(e){const t=this.props.initialProps.serviceContextMetadata.cardContent,n={headline:t.title,vertical:t.category?t.category.product:null,category:t.category?t.category.label:null,id:t.id,brand:t.provider?t.provider.name:null};this.contentCardProps.likeIcon=Object(s.a)(Object(m.c)(this.props.cardSize)===c.a._2x_2y,e,this.props.config.cardActionTitles,this.updateActionsStatus.bind(this),this.telemetryContext,n),this.setState({cardLikeActionStatus:e.Like})}render(){return g.a.createElement(d.a,this.contentCardProps)}}},NZD6:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("+viU"),a=n("8MWm"),o=n("OnwC"),r=n("F+C/"),s=n("h/k5"),c=n("o1qX"),d=n("yqT/"),l=n("r6MD"),u=n("XJ1h"),h=n("ERkP"),p=n.n(h),g=n("3MbD"),m=n("/nBc"),b=n("yR4y"),f=n("B5vd");class C extends o.a{constructor(e){super(e),this.handledProps={autoplay:void 0,autoplayInterval:void 0,managedClasses:void 0,nextFlipper:void 0,previousFlipper:void 0,label:void 0,loop:void 0,activeId:void 0,onActiveIdUpdate:void 0,items:void 0},this.slideTransitionDirection=null,this.assignTransitionDirectionClassName=()=>{const{carousel__slideAnimateNext:e,carousel__slideAnimatePrevious:t}=this.props.managedClasses;return" "+(this.slideTransitionDirection===g.a.next?e:t)},this.assignSlideThemeClassName=()=>{const{carousel__themeLight:e,carousel__themeDark:t}=this.props.managedClasses;return" "+(this.getSlideTheme()===f.a.light?e:t)},this.handleUpdate=e=>{"function"==typeof this.props.onActiveIdUpdate&&this.props.onActiveIdUpdate(e,!1),this.setState({activeId:e});const t=this.slides.map(e=>e.id).indexOf(e);this.setTransitionDirection(t)},this.autoplayNextSlide=()=>{let e=this.getActiveIndex()+1;e>this.slides.length-1&&(e=0);const t=this.slides[e].id;this.setTransitionDirection(e),"function"==typeof this.props.onActiveIdUpdate&&this.props.onActiveIdUpdate(t,!0),this.setState({activeId:t})},this.nextSlide=()=>{let e=this.getActiveIndex()+1;e>this.slides.length-1&&(e=0),this.setTransitionDirection(e),this.setNewSlidePosition(e)},this.previousSlide=()=>{let e=this.getActiveIndex()-1;e<0&&(e=this.slides.length-1),this.setTransitionDirection(e),this.setNewSlidePosition(e)},this.rootEl=p.a.createRef(),Array.isArray(this.props.items)&&(this.state={activeId:"string"==typeof this.props.activeId?this.props.activeId:Object(l.a)(this.props.items[0],"id"," ")})}static getDerivedStateFromProps(e,t){return e.activeId&&e.activeId!==t.activeId?{activeId:e.activeId}:null}render(){return p.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),ref:this.rootEl}),this.generatePreviousFlipper(),p.a.createElement(r.default,{label:this.props.label,activeId:this.state.activeId,onUpdate:this.handleUpdate,items:this.slides,managedClasses:this.generateTabsClassNames(),orientation:s.a.horizontal,disableTabFocus:this.props.autoplay}),this.generateNextFlipper())}componentDidMount(){Object(d.a)()&&this.props.autoplay&&(this.autoplayTimer=window.setInterval(this.autoplayNextSlide,this.props.autoplayInterval))}componentDidUpdate(){this.props.autoplay&&Object(u.a)(this.autoplayTimer)?this.autoplayTimer=window.setInterval(this.autoplayNextSlide,this.props.autoplayInterval):this.props.autoplay||Object(u.a)(this.autoplayTimer)||(this.autoplayTimer=window.clearInterval(this.autoplayTimer))}componentWillUnmount(){Object(u.a)(this.autoplayTimer)||(this.autoplayTimer=window.clearInterval(this.autoplayTimer))}generateClassNames(){return super.generateClassNames(Object(c.a)(this.props.managedClasses.carousel,[this.assignSlideThemeClassName,!!this.getSlideTheme()],[this.assignTransitionDirectionClassName(),!!this.slideTransitionDirection]))}generateTabsClassNames(){const{carousel_slides:e,carousel_tabPanels:t,carousel_sequenceIndicators:n,carousel_tabPanelContent:i,carousel_sequenceIndicator:a,carousel_sequenceIndicator__active:o,carousel_tabPanel:r,carousel_tabPanel__hidden:s}=this.props.managedClasses;return{tabs:e,tabs_tabPanels:t,tabs_tabList:n,tabs_tabPanelContent:i,tab:a,tab__active:o,tabPanel:r,tabPanel__hidden:s}}get slides(){return Array.isArray(this.props.items)?this.props.items.map(e=>Object.assign({},e,{tab:()=>p.a.createElement(p.a.Fragment,null)})):[]}get isMultipleSlides(){return 1!==this.slides.length}get isFirstSlide(){if(this.slides.length){return this.slides[0].id===this.state.activeId}return!1}get isLastSlide(){const e=this.slides.length-1;if(e>=0){return this.slides[e].id===this.state.activeId}return!1}getActiveIndex(){return this.slides.map(e=>e.id).indexOf(this.state.activeId)}getSlideTheme(){if(!(this.slides.length<=0))return this.slides[this.getActiveIndex()].theme?this.slides[this.getActiveIndex()].theme:f.a.dark}setTransitionDirection(e){this.getActiveIndex()<e?this.slideTransitionDirection=g.a.next:this.slideTransitionDirection=g.a.previous}generatePreviousFlipper(){if(!this.isMultipleSlides||this.isFirstSlide&&!this.props.loop)return;const e=this.props.managedClasses.carousel_flipperPrevious;return"function"==typeof this.props.previousFlipper?this.props.previousFlipper(this.previousSlide,e):p.a.createElement(m.a,{direction:g.a.previous,onClick:this.previousSlide,className:e})}generateNextFlipper(){if(!this.isMultipleSlides||this.isLastSlide&&!this.props.loop)return;const e=this.props.managedClasses.carousel_flipperNext;return"function"==typeof this.props.nextFlipper?this.props.nextFlipper(this.nextSlide,e):p.a.createElement(m.a,{direction:g.a.next,onClick:this.nextSlide,className:e})}setNewSlidePosition(e){const t=this.slides[e].id;"function"==typeof this.props.onActiveIdUpdate&&this.props.onActiveIdUpdate(t,!1),this.setState({activeId:t})}}C.displayName=b.a+"Carousel",C.defaultProps={autoplay:!1,autoplayInterval:6e3,loop:!0,managedClasses:{}};var v=C;const y=Object(i.a)(a.a)(v)},Nt1x:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.contentRegionSizeChanged=new i.a("contentRegionSizeChanged")},PTSW:function(e,t){},PVsn:function(e,t){},RNO0:function(e,t){},TRvk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("XgsJ"),a=n("dTwT"),o=n("9y7U"),r=n("WO7E");const s="myReaction";class c{static convertContent(e){const t={};return o.a.reactionOrder.map(n=>{e&&(e.reactionSummary?t[n]=(e.reactionSummary.subReactionSummaries.find(e=>e.type.toLowerCase()==n)||{totalCount:0}).totalCount:t[n]=0)}),e?Object.assign(Object.assign({},e),{totalCommentCount:e.commentSummary?e.commentSummary.totalCount:0,reactionCounts:t}):null}static convertUser(e){if(e){let t;return t=e.isSocialUser?o.a.userStateType.existingUser:e.id&&!e.id.startsWith("m-")?o.a.userStateType.newUser:o.a.userStateType.anonymous,Object.assign(Object.assign({},e),{name:e.primaryName,avatarUrl:e.notUseAvatar||!e.primaryAvatar?void 0:e.primaryAvatar,likesCount:e.reactionSummary?e.reactionSummary.totalCount:0,postsCount:e.commentSummary?e.commentSummary.totalCount:0,followersCount:(e.followSummary&&e.followSummary.subFollowSummaries.find(e=>"FollowBy"==e.type)||{totalCount:0}).totalCount,followingCount:(e.followSummary&&e.followSummary.subFollowSummaries.find(e=>"Follow"==e.type)||{totalCount:0}).totalCount,reactionsCount:e.reactionSummary&&e.reactionSummary.totalCount||0,badge:"Commenter",state:t,avatarStatus:e.avatarStatus||o.a.userAvatarStatusType.normal,nameStatus:e.nameStatus||o.a.userNameStatusType.normal,ageGroup:e.ageGroup||o.a.userAgeGroup.above18})}return{state:o.a.userStateType.anonymous}}static convertUserList(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top+e.skip),totalCount:e.totalCount,list:e.items.map(e=>this.convertUser(e.links.find(e=>"User"==e.type).item||null))}:null}static convertComment(e){if(!e)return null;let t=null,n=null;if(e.links){const i=e.links.find(t=>"User"==t.type&&t.item.id==e.createdBy);t=i?c.convertUser(i.item):null;const a=e.links.find(e=>"Content"==e.type);n=a?c.convertContent(a.item):null}const i=e.visibleStatus!=o.a.visibleStatusType.Normal,a=e.visibleStatus==o.a.visibleStatusType.InReview,r=[o.a.visibleStatusType.DeletedByAI,o.a.visibleStatusType.DeletedByHI,o.a.visibleStatusType.DeletedByUser].includes(e.visibleStatus),s=a,d={};return o.a.reactionOrder.map(t=>{e.reactionSummary?d[t]=(e.reactionSummary.subReactionSummaries.find(e=>e.type.toLowerCase()==t)||{totalCount:0}).totalCount:d[t]=0}),Object.assign(Object.assign({},e),{ownerId:e.createdBy,text:e.body.replace(/(?:\r\n|\r|\n)/g,"<br>"),createDatetime:e.createdTime,reactionCounts:d,user:t,content:n,isHidden:i,isInReview:a,isDeleted:r,skipRender:s,replies:[],replyCount:e.commentSummary?e.commentSummary.totalCount:0})}static convertCommentList(e){return e?{commentStatus:"On",skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top-1+e.skip-1+2),totalCount:e.totalCount,list:e.items.map(e=>c.convertComment(e))}:null}static convertReactionsResponseToReactionBreakdownData(e){if(!e)return null;const t=e.items;let n;try{n=e.links.find(e=>"Content"==e.type||"Comment"==e.type).item.reactionSummary.subReactionSummaries}catch(e){n=null}const i={reactionCounts:{all:0},items:{all:[]}};return o.a.reactionOrder.map(e=>{i.reactionCounts[e]=0,i.items[e]=[]}),n&&n.map(e=>{i.reactionCounts[e.type.toLowerCase()]=e.totalCount,i.reactionCounts.all+=e.totalCount}),t&&t.map(e=>{const t=e.subType.toLowerCase(),n=e.links.find(e=>"User"==e.type)?e.links.find(e=>"User"==e.type).item:{state:o.a.userStateType.anonymous,primaryName:"You"};n.isFollowingFetched=!0,n.isFollowing=!!e.links.find(e=>"Follow"==e.type),i.items[e.subType.toLowerCase()].push({user:n,rateValue:t}),i.items.all.push({user:n,rateValue:t})}),i}static convertRatingToRateValue(e){e&&e.items&&(e=e.items[0]);return e&&e.subType?e.subType.toLowerCase():null}static convertUserActivities(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top-1+e.skip-1+2),totalCount:e.totalCount,list:e.items.map(e=>this.convertUserActivity(e))}:null}static convertUserActivity(e){if(!e)return null;const t={id:e.id,type:e.type,datetime:e.createdDateTime,isSeen:e.read,notification:e.notification};switch(e.type){case o.a.activityType.follow:{const n=e.links.find(e=>"User"==e.type);return Object.assign(Object.assign({},t),{user:this.convertUser(n&&n.item)})}case o.a.activityType.badge:{const n=e.links.find(e=>"Achievement"==e.type);return Object.assign(Object.assign({},t),{badgeType:n&&n.item.subType})}case o.a.activityType.reply:{const n=e.links.find(e=>"User"==e.type),i=e.links.find(e=>"Content"==e.type),a=e.links.find(e=>"Comment"==e.type);return Object.assign(Object.assign({},t),{user:this.convertUser(n&&n.item),target:{url:i&&i.item.url,body:a&&a.item.body.replace(/(?:\r\n|\r|\n)/g,"<br>"),comment:a&&this.convertComment(a.item)}})}case o.a.activityType.reaction:{const n=e.links.find(e=>"User"==e.type),i=e.links.find(e=>"Content"==e.type),a=e.links.find(e=>"Comment"==e.type),o=e.links.find(e=>"Reaction"==e.type),r=o&&"Comment"==o.item.targetType?this.convertSubReactionSummariesToReactionCounts(a&&a.item.reactionSummary&&a.item.reactionSummary.subReactionSummaries):this.convertSubReactionSummariesToReactionCounts(i&&i.item.reactionSummary&&i.item.reactionSummary.subReactionSummaries),s=o&&"Comment"==o.item.targetType?a&&a.item.body:i&&i.item.title;return Object.assign(Object.assign({},t),{user:this.convertUser(n&&n.item),target:{url:i&&i.item.url,reactionCounts:r,body:s.replace(/(?:\r\n|\r|\n)/g,"<br>"),comment:a&&this.convertComment(a.item)}})}case o.a.activityType.moderation:{const n=e.links.find(e=>"Comment"==e.type),i=e.links.find(e=>"ModerationRecord"==e.type),a=i&&i.item.subType;let r;switch(a){case o.a.moderationErrorType.takedown:r="This comment was removed because it didn't meet our guidelines.";break;case o.a.moderationErrorType.ban:r="You've been banned due to violations of our guidelines.";break;case o.a.moderationErrorType.notAllowName:r="Your profile name didn't meet our guidelines.";break;case o.a.moderationErrorType.notAllowPicture:r="Your profile picture didn't meet our guidelines.";break;case o.a.moderationErrorType.approveUserAppeal:r="At your request, we've reviewed your case and reversed the prior decision. You should be able to post again soon. Thank you.";break;case o.a.moderationErrorType.approveCommentAppeal:r="At your request, we've reviewed your post and reversed the decision to remove it. This post will be restored shortly. Thank you.";break;case o.a.moderationErrorType.approveProfilePicAppeal:r="At your request, we've reviewed your profile picture and reversed the decision to remove it. Your profile picture will be restored shortly. Thank you.";break;case o.a.moderationErrorType.rejectUserAppeal:r="At your request, we've reviewed your case and found that your posts violated our community guidelines.";break;case o.a.moderationErrorType.rejectCommentAppeal:r="At your request, we've reviewed your post that was removed and found it violated our community guidelines.";break;case o.a.moderationErrorType.rejectProfilePicAppeal:r="At your request, we've reviewed your case and found that your profile picture violated our community guidelines.";break;default:r=""}return Object.assign(Object.assign({},t),{moderationErrorType:a,message:r,target:n&&{id:n.item.id,body:n.item.body}})}}return t}static convertSubReactionSummariesToReactionCounts(e){if(!e)return null;const t={all:0};return o.a.reactionOrder.map(e=>{t[e]=0}),e.map(e=>{t[e.type.toLowerCase()]=e.totalCount}),t}static convertUGContentListView(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top+e.skip),totalCount:e.totalCount,list:e.map(e=>this.convertUGContent(e))}:null}static convertUGContent(e){return e?{id:e.id,type:e.type,title:e.title,abstract:e.abstract,body:e.body,market:e.market,tags:e.tags,categories:e.categories,locations:e.locations,resources:this.convertResources(e.resources),authorUserId:e.createdBy,isPublished:e.isPublished,createdDateTime:e.createdDateTime,lastEditedDateTime:e.lastEditedDateTime,lastPublishedDateTime:e.lastPublishedDateTime,displayPublishedDateTime:e.displayPublishedDateTime}:null}static convertResources(e){return e?e.map((e,t)=>({id:e.item.id,type:e.item.type,url:e.item.url,isCover:0==t})):null}static convertTags(e){return e?e.map(e=>({id:e.id,title:e.name,locale:e.locale})):null}static convertUGContentPublishResponse(e){return e?{id:e.id,status:e.status}:null}static mapFeedResponseToSocialBarData(e,t,n,o){const c=Object(i.l)();if(c&&c.indexOf("reactionstest")>-1)try{o={totalCount:0,subCommentSummaries:[]},(n={totalCount:0,subReactionSummaries:[]}).totalCount=Math.floor(1e4*Math.random()),o.totalCount=Math.floor(1e4*Math.random());["angry","like","love","sad","surprised","thinking"].sort(()=>.5-Math.random()).slice(0,Math.floor(3*Math.random())).forEach(e=>n.subReactionSummaries.push({totalCount:Math.floor(10*Math.random()),type:e}))}catch(e){}const d=n&&n.subReactionSummaries?n.subReactionSummaries:[],l=e=>{const t=d.filter(t=>t.type===e);return t&&t.length>0?t[0].totalCount:0},u={angry:l(r.a.angry),like:l(r.a.like),love:l(r.a.love),sad:l(r.a.sad),surprised:l(r.a.surprised),thinking:l(r.a.thinking)};return!t&&a.a&&a.a.getItem(`${s}${e}`)&&u[t=a.a.getItem(`${s}${e}`)]++,{myReaction:t,id:e,totalCommentsCount:o&&o.totalCount,reactionCounts:u}}}},Tpxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));function i(e){if(void 0===e||e<1)return;if(e<1e3)return e;if(e>999499&&e<=1e6)return"1M";if(e>1e6)return"1M+";return function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(e/1e3,(Math.log(e)*Math.LOG10E+1|0)%3==1?1:0)+"k"}},U9NI:function(e,t,n){"use strict";n.r(t),n.d(t,"createContentPreviewConfigProperties",(function(){return r.createContentPreviewConfigProperties})),n.d(t,"ContentPreview",(function(){return sn})),n.d(t,"ContentPreviewActions",(function(){return a})),n.d(t,"ContentPreviewConnector",(function(){return Zt})),n.d(t,"ContentPreviewReducer",(function(){return nn})),n.d(t,"ContentCardWrapper",(function(){return kt.a})),n.d(t,"resetContentPreviewActions",(function(){return o})),n.d(t,"ToolingInfo",(function(){return cn}));var i=n("G82u");class a{}function o(){a.contentLoaded.unregisterObservers(),a.contentError.unregisterObservers(),a.actionsChanged.unregisterObservers(),a.overlayReady.unregisterObservers(),a.updateCardActionsMenuState.unregisterObservers(),a.iframeOverlayReady.unregisterObservers(),a.updateSocialBarData.unregisterObservers()}a.actionsChanged=new i.a("actionsChanged"),a.contentError=new i.a("contentError"),a.contentLoaded=new i.a("contentLoaded"),a.overlayReady=new i.a("overlayReady"),a.iframeOverlayReady=new i.a("iframeOverlayReady"),a.mouseOverContentCard=new i.a("mouseOverContentCard"),a.updateCardActionsMenuState=new i.a("cardActionsMenuClosed"),a.updateSocialBarData=new i.a("updateSocialBarData");var r=n("x0ne"),s=n("+viU"),c=n("Gcx/"),d=n("ggrA"),l=n("L+J7"),u=n("5mwN"),h=n("egFJ"),p=n("83R0"),g=n("idb7"),m=n("FPTP"),b=n("wUxM"),f=n("2R5J"),C=n("lbfK"),v=n("ERkP"),y=n.n(v);const S=y.a.createContext({}),{Provider:O,Consumer:w}=S;var x=n("b4vE"),j=n("omUM"),R=n.n(j);const P=Object(x.create)(R()()),A=(new x.SheetsManager,new x.SheetsRegistry);function k(e,t){return"string"==typeof e&&"string"==typeof t?e.concat(" ",t):"string"==typeof e?e:"string"==typeof t?t:void 0}class I extends y.a.Component{constructor(e,t){super(e,t),this.hasCreatedIntialStyleSheets=!1,this.index=I.index-=1,this.designSystem=t}static set jss(e){I.sheetManager.jss=e}static get jss(){return I.sheetManager.jss}static subscribe(e){return I.sheetManager.subscribe(e)}static unsubscribe(e){I.sheetManager.unsubscribe(e)}render(){if(!this.hasCreatedIntialStyleSheets){if(this.styles){const e={meta:this.managedComponent.displayName||this.managedComponent.name,index:this.index};"function"==typeof I.createGenerateClassName&&(e.generateClassName=I.createGenerateClassName(this.designSystem)),I.sheetManager.add(this.styles,this.designSystem,e)}this.props.jssStyleSheet&&this.createPropStyleSheet(),this.hasCreatedIntialStyleSheets=!0}return y.a.createElement(this.managedComponent,this.managedComponentProps())}componentDidUpdate(e){const t=!!this.props.jssStyleSheet,n=!!e.jssStyleSheet;this.designSystem!==this.context?(this.styles&&(I.sheetManager.update(this.styles,this.designSystem,this.context),this.forceUpdate()),n&&t?(e.jssStyleSheet===this.props.jssStyleSheet?I.sheetManager.update(this.props.jssStyleSheet,this.designSystem,this.context):(I.sheetManager.remove(e.jssStyleSheet,this.designSystem),this.createPropStyleSheet(this.context)),this.forceUpdate()):n&&!t?I.sheetManager.remove(e.jssStyleSheet,this.designSystem):!n&&t&&(this.createPropStyleSheet(this.context),this.forceUpdate()),this.designSystem=this.context):n&&t&&e.jssStyleSheet!==this.props.jssStyleSheet&&(I.sheetManager.remove(e.jssStyleSheet,this.designSystem),this.createPropStyleSheet(),this.forceUpdate()),n&&!t?I.sheetManager.remove(e.jssStyleSheet,this.designSystem):!n&&t&&(this.createPropStyleSheet(),this.forceUpdate())}componentWillUnmount(){this.styles&&I.sheetManager.remove(this.styles,this.designSystem),this.props.jssStyleSheet&&I.sheetManager.remove(this.props.jssStyleSheet,this.designSystem),I.index++,this.hasCreatedIntialStyleSheets=!1}primaryStyleSheet(){if(this.styles)return I.sheetManager.get(this.styles,this.designSystem)}secondaryStyleSheet(){if(this.props.jssStyleSheet)return I.sheetManager.get(this.props.jssStyleSheet,this.designSystem)}managedComponentProps(){const e=Object.assign(Object.assign({},this.props),{managedClasses:this.getManagedClassNames(),ref:this.props.innerRef});return delete e.jssStyleSheet,delete e.innerRef,e}getManagedClassNames(){let e={},t={};const n=this.primaryStyleSheet(),i=this.secondaryStyleSheet();return n&&n.hasOwnProperty("classes")&&(e=Object.assign({},n.classes)),i&&i.hasOwnProperty("classes")&&(t=Object.assign({},i.classes)),Object(C.a)(e,t,k)}createPropStyleSheet(e=this.designSystem){const t=this.primaryStyleSheet(),n={meta:(this.managedComponent.displayName||this.managedComponent.name)+" - jssStyleSheet",index:t?t.options.index+1:this.index+1};"function"==typeof I.createGenerateClassName&&(n.generateClassName=I.createGenerateClassName(e)),I.sheetManager.add(this.props.jssStyleSheet,e,n)}}I.contextType=S,I.index=-1e3,I.sheetManager=new class{constructor(){this.jss=P,this.registry=new WeakMap}add(e,t,n){const i=this.getTracker(e,t);if(Array.isArray(i))return void i[1]++;let a=this.registry.get(e);void 0===a&&(a=new WeakMap,this.registry.set(e,a)),this.registry.get(e).set(t,[this.createStyleSheet(e,t,n),1])}get(e,t){const n=this.getTracker(e,t);if(Array.isArray(n)&&n[0])return n[0]}update(e,t,n){const i=this.getTracker(e,t);if(i)if(1===i[1]&&!this.get(e,n)&&e&&"object"==typeof e){const a=i[0];a.update(n),this.notify("update",a),this.registry.get(e).delete(t),this.registry.get(e).set(n,i)}else this.remove(e,t),this.add(e,n,i[0].options)}remove(e,t){const n=this.getTracker(e,t);if(Array.isArray(n)&&(n[1]--,0===n[1])){const i=n[0];this.jss.removeStyleSheet(i),A.remove(i),this.notify("remove",i),this.registry.get(e).delete(t)}}count(e,t){const n=this.getTracker(e,t);return Array.isArray(n)?n[1]:-1}clean(){this.registry=new WeakMap}getTracker(e,t){const n=this.registry.get(e);if(n instanceof WeakMap){const e=n.get(t);if(Array.isArray(e))return e}}createStyleSheet(e,t,n={}){const i="function"==typeof e?e(t):e,a=this.jss.createStyleSheet(i,Object.assign({link:!0},n));return a.update(t).attach(),A.add(a),this.notify("add",a),a}notify(e,t){Array.isArray(this.subscribers)&&this.subscribers.forEach(n=>n({type:e,sheet:t}))}subscribe(e){return Array.isArray(this.subscribers)||(this.subscribers=[]),-1===this.subscribers.indexOf(e)&&this.subscribers.push(e),()=>{this.unsubscribe(e)}}unsubscribe(e){if(Array.isArray(this.subscribers)){const t=this.subscribers.indexOf(e);-1!==t&&this.subscribers.splice(t,1)}}};const E=n("oXkQ");var M=function(e){return function(t){class n extends I{constructor(){super(...arguments),this.styles=e,this.managedComponent=t}}return n.displayName=`withJSS(${t.displayName||t.name})`,E(n,t)}},T=n("qibw"),_=n("mObi");var F=n("LB+V"),N=n("YBl9");const H={steps:94,clipLight:0,clipDark:0},L=(Object.assign({},H),Object.assign(Object.assign({},H),{baseColor:Object(N.c)("#0078D4")}),{backgroundColor:"#FFFFFF",contrast:0,density:0,designUnit:4,baseHeightMultiplier:8,baseHorizontalSpacingMultiplier:3,direction:T.a.ltr,cornerRadius:2,elevatedCornerRadius:4,focusOutlineWidth:2,fontWeight:{light:100,semilight:200,normal:400,semibold:600,bold:700},disabledOpacity:.3,outlineWidth:1,neutralPalette:["#FFFFFF","#FCFCFC","#FAFAFA","#F7F7F7","#F5F5F5","#F2F2F2","#EFEFEF","#EDEDED","#EAEAEA","#E8E8E8","#E5E5E5","#E2E2E2","#E0E0E0","#DDDDDD","#DBDBDB","#D8D8D8","#D6D6D6","#D3D3D3","#D0D0D0","#CECECE","#CBCBCB","#C9C9C9","#C6C6C6","#C3C3C3","#C1C1C1","#BEBEBE","#BCBCBC","#B9B9B9","#B6B6B6","#B4B4B4","#B1B1B1","#AFAFAF","#ACACAC","#A9A9A9","#A7A7A7","#A4A4A4","#A2A2A2","#9F9F9F","#9D9D9D","#9A9A9A","#979797","#959595","#929292","#909090","#8D8D8D","#8A8A8A","#888888","#858585","#838383","#808080","#7D7D7D","#7B7B7B","#787878","#767676","#737373","#717171","#6E6E6E","#6B6B6B","#696969","#666666","#646464","#616161","#5F5F5F","#5C5C5C","#5A5A5A","#575757","#545454","#525252","#4F4F4F","#4D4D4D","#4A4A4A","#484848","#454545","#424242","#404040","#3D3D3D","#3B3B3B","#383838","#363636","#333333","#313131","#2E2E2E","#2B2B2B","#292929","#262626","#242424","#212121","#1E1E1E","#1B1B1B","#181818","#151515","#121212","#101010","#000000"],accentPalette:["#FFFFFF","#FBFDFE","#F6FAFE","#F2F8FD","#EEF6FC","#E9F4FB","#E5F1FB","#E1EFFA","#DCEDF9","#D8EAF8","#D4E8F8","#CFE6F7","#CBE4F6","#C7E1F6","#C2DFF5","#BEDDF4","#BADAF3","#B6D8F3","#B1D6F2","#ADD4F1","#A9D1F0","#A4CFF0","#A0CDEF","#9CCAEE","#97C8EE","#93C6ED","#8FC4EC","#8AC1EB","#86BFEB","#82BDEA","#7DBAE9","#79B8E8","#75B6E8","#70B3E7","#6CB1E6","#68AFE5","#63ADE5","#5FAAE4","#5BA8E3","#56A6E3","#52A3E2","#4EA1E1","#499FE0","#459DE0","#419ADF","#3D98DE","#3896DD","#3493DD","#3091DC","#2B8FDB","#278DDB","#238ADA","#1E88D9","#1A86D8","#1683D8","#1181D7","#0D7FD6","#097DD5","#047AD5","#0078D4","#0075CF","#0072C9","#006FC4","#006CBE","#0069B9","#0066B4","#0063AE","#0060A9","#005CA3","#00599E","#005699","#005393","#00508E","#004D88","#004A83","#00477D","#004478","#004173","#003E6D","#003B68","#003862","#00355D","#003258","#002F52","#002B4D","#002847","#002542","#00223C","#001F36","#001B30","#00182B","#001525","#00121F","#000000"],accentBaseColor:"#0078D4",accentFillRestDelta:0,accentFillHoverDelta:4,accentFillActiveDelta:-5,accentFillFocusDelta:0,accentFillSelectedDelta:12,accentForegroundRestDelta:0,accentForegroundHoverDelta:6,accentForegroundActiveDelta:-4,accentForegroundFocusDelta:0,neutralFillRestDelta:7,neutralFillHoverDelta:10,neutralFillActiveDelta:5,neutralFillFocusDelta:0,neutralFillSelectedDelta:7,neutralFillInputRestDelta:0,neutralFillInputHoverDelta:0,neutralFillInputActiveDelta:0,neutralFillInputFocusDelta:0,neutralFillInputSelectedDelta:0,neutralFillStealthRestDelta:0,neutralFillStealthHoverDelta:5,neutralFillStealthActiveDelta:3,neutralFillStealthFocusDelta:0,neutralFillStealthSelectedDelta:7,neutralFillToggleHoverDelta:8,neutralFillToggleActiveDelta:-5,neutralFillToggleFocusDelta:0,baseLayerLuminance:-1,neutralFillCardDelta:3,neutralForegroundDarkIndex:93,neutralForegroundLightIndex:0,neutralForegroundHoverDelta:0,neutralForegroundActiveDelta:0,neutralForegroundFocusDelta:0,neutralDividerRestDelta:8,neutralOutlineRestDelta:25,neutralOutlineHoverDelta:40,neutralOutlineActiveDelta:16,neutralOutlineFocusDelta:25});function D(e,t){return Object(F.a)(e)?e(t):e}var B=L;function W(e){return t=>t&&void 0!==t[e]?t[e]:B[e]}const U=W("backgroundColor"),z=(W("accentBaseColor"),W("cornerRadius"),W("elevatedCornerRadius"),W("neutralPalette")),$=(W("accentPalette"),W("contrast"),W("designUnit"),W("baseHeightMultiplier"),W("baseHorizontalSpacingMultiplier"),W("direction"),W("outlineWidth"),W("focusOutlineWidth"),W("disabledOpacity"),W("accentFillRestDelta"),W("accentFillHoverDelta"),W("accentFillActiveDelta"),W("accentFillFocusDelta"),W("accentFillSelectedDelta"),W("accentForegroundRestDelta"),W("accentForegroundHoverDelta"),W("accentForegroundActiveDelta"),W("accentForegroundFocusDelta"),W("neutralFillRestDelta"),W("neutralFillHoverDelta"),W("neutralFillActiveDelta"),W("neutralFillFocusDelta"),W("neutralFillSelectedDelta"),W("neutralFillInputRestDelta"),W("neutralFillInputHoverDelta"),W("neutralFillInputActiveDelta"),W("neutralFillInputFocusDelta"),W("neutralFillInputSelectedDelta"),W("neutralFillStealthRestDelta"),W("neutralFillStealthHoverDelta"),W("neutralFillStealthActiveDelta"),W("neutralFillStealthFocusDelta"),W("neutralFillStealthSelectedDelta"),W("neutralFillToggleHoverDelta"),W("neutralFillToggleActiveDelta"),W("neutralFillToggleFocusDelta"),W("baseLayerLuminance"),W("neutralFillCardDelta"),W("neutralForegroundDarkIndex"),W("neutralForegroundLightIndex"),W("neutralForegroundHoverDelta")),G=W("neutralForegroundActiveDelta"),q=W("neutralForegroundFocusDelta");W("neutralDividerRestDelta"),W("neutralOutlineRestDelta"),W("neutralOutlineHoverDelta"),W("neutralOutlineActiveDelta"),W("fontWeight"),W("neutralOutlineFocusDelta");var V,K=n("swXE");function J(e){const t=Object(_.a)(e);return function(e){return"function"==typeof e?n=>t(Object.assign({},n,{backgroundColor:e(n)})):t(e)}}function X(e,t){const n=Object(_.a)(t);return t=>"function"==typeof t?i=>n(Object.assign({},i,{backgroundColor:t(i)}))[e]:n(t)[e]}!function(e){e.rest="rest",e.hover="hover",e.active="active",e.focus="focus",e.selected="selected"}(V||(V={}));const Q=Object(_.a)(e=>{let t=Object(N.c)(e);if(null!==t)return t;if(t=Object(N.d)(e),null!==t)return t;throw new Error(e+' cannot be converted to a ColorRGBA64. Color strings must be one of the following formats: "#RGB", "#RRGGBB", or "rgb(r, g, b)"')});function Y(e){return Object(N.a)(e)||Object(N.b)(e)}const Z=Object(_.a)((e,t)=>Object(K.a)(Q(e),Q(t)),(e,t)=>e+t);function ee(e){return Object(K.k)(Q(e))}const te=(e,t,n)=>Math.min(Math.max(e,t),n);var ne;function ie(e,t){return n=>{if(!Y(t))return-1;const i=D(e,n),a=i.indexOf(t);return-1!==a?a:i.findIndex(e=>{return Y(e)&&(n=e,Q(t).equalValue(Q(n)));var n})}}function ae(e,t){return n=>{const i=D(e,n),a=D(t,n),o=ie(i,a)(n);let r;if(-1!==o)return o;try{r=ee(a)}catch(e){r=-1}return-1===r?0:i.map((e,t)=>({luminance:ee(e),index:t})).reduce((e,t)=>Math.abs(t.luminance-r)<Math.abs(e.luminance-r)?t:e).index}}function oe(e){return ee(U(e))<=(-.1+Math.sqrt(.21))/2}function re(e,t){return"function"==typeof e?n=>t(n)[te(e(n),0,t(n).length-1)]:t[te(e,0,t.length-1)]}function se(e){return t=>n=>i=>a=>o=>{const r=D(e,o),s=D(t,o),c=s.length,d=te(n(r,s,o),0,c-1),l=i(d,s,o);const u=[].concat(s),h=c-1;let p=d;return-1===l&&(u.reverse(),p=h-p),function e(t,n,i=0,a=t.length-1){if(a===i)return t[i];const o=Math.floor((a-i)/2)+i;return n(t[o])?e(t,n,i,o):e(t,n,o+1,a)}(u,(function(e){return a(Z(r,e))}),p,h)}}function ce(e,t,n){return ae(t,e)(n)}function de(e,t,n,i,a,o){return r=>{const s=D(e,r),c=oe(r)?-1:1,d=se(U)(s)(ce)(()=>c)((l=D(t,r),e=>e>=l))(r);var l;const u=ie(e,d)(r),h=D(n,r),p=D(i,r),g=D(a,r),m=D(o,r);return function(e,t,n,i,a,o,r){const s=e+n*Math.abs(i-a),c=1===n?i<a:n*i>n*a,d=c?e:s,l=c?s:e,u=d+n*o,h=d+n*r;return{rest:re(d,t),hover:re(l,t),active:re(u,t),focus:re(h,t)}}(u,s,c,h,p,g,m)}}function le(e){return de(z,e,0,0,0,0)}!function(e){e.neutral="neutral",e.accent="accent"}(ne||(ne={}));const ue=X(V.rest,J(le(4.5)));X(V.rest,J(le(3)));function he(e="px"){return t=>t+e}const pe=he();function ge(e){return Object(F.a)(e)?t=>pe(e(t)):pe(e)}var me,be=n("Dfx/");function fe(e,t,n){return i=>{const a=function(e){const t=W("density")(e);return t>=2?me.spacious:t<=-2?me.compact:me.normal}(i);return D(a===me.compact?e:a===me.spacious?n:t,i)}}!function(e){e.compact="compact",e.normal="normal",e.spacious="spacious"}(me||(me={}));const Ce=[[60,72],[46,56],[34,44],[28,36],[20,28],[16,24],[14,20],[12,16],[10,16]].reduce((e,t,n)=>Object.assign(e,{["t"+(n+1)]:{fontSize:t[0],lineHeight:t[1]}}),{});function ve(e){return Ce.hasOwnProperty(e)?e:"t7"}function ye(e){return t=>{const n=parseInt(e.replace("t",""),10),i=fe(-1,0,1)(t),a=Object(be.a)(n-i,1,9);return ve("t".concat(a.toString()))}}function Se(e){return Ce[ve(e)].fontSize}function Oe(e){return Ce[ve(e)].lineHeight}function we(e){return ge(Se(e))}function xe(e){return ge(Oe(e))}function je(e,t){return n=>({"font-size":e(n),"line-height":t(n)})}je(we,xe);const Re=je((function(e){return t=>we(ye(e)(t))}),(function(e){return t=>xe(ye(e)(t))})),Pe=J(de(z,14,0,$,G,q)),Ae=X(V.rest,Pe);X(V.hover,Pe),X(V.active,Pe),X(V.focus,Pe);var ke;function Ie(e,t){return n=>{const i=(n&&n.direction?n.direction:ke.ltr)===ke.rtl?t:e;return"function"==typeof i?i(n):i}}!function(e){e.ltr="ltr",e.rtl="rtl"}(ke||(ke={}));n("MptA");function Ee(e,...t){return n=>t.reduce((e,t,i)=>e.replace(new RegExp(`\\{${i}\\}`,"g"),t(n)),e)}var Me=n("FGLN");function Te(e=""){return"&:focus-visible"+e}function _e(e=""){return`body:not(.js-focus-visible) &:focus${e}, .js-focus-visible &.focus-visible${e}, .js-focus-visible [data-focus-visible-added]&${e}`}var Fe={contentCard:{display:"flex",position:"relative",width:"auto","box-sizing":"border-box","flex-direction":"column",outline:"none",height:"100%",overflow:"hidden","&:hover, &:focus":{"& $contentCard_hoverActions":{opacity:"1"}}},contentCard_body:{display:"grid","justify-content":"center","row-gap":"8px","column-gap":"10px","grid-template-columns":"1fr auto","grid-template-rows":"auto"},contentCard__default:{"& $contentCard_abstract":{display:"none"},"& $contentCard_body, $contentCard__hasAbstract":{display:"block"},"& $contentCard_mediaWrapper":{float:Ie("right","left")},"& $contentCard__hasAbstract":{"& $contentCard_mediaWrapper":{"margin-left":Ie("16px",void 0),"margin-right":Ie(void 0,"16px")},"& $contentCard_abstract":{display:"block",padding:"0 16px 16px 16px"}},"& $contentCard__hasAbstractFooter":{position:"absolute",bottom:"0",right:"0",left:"0",background:U,"box-shadow":Ee("0px -25px 15px {0}",U)}},contentCard_footer:{position:"relative",padding:"0 16px 6px","margin-top":"auto",display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between",color:ue,fill:ue},contentCard_footer__hidden:{display:"none"},contentCard_headingContainer:{"grid-row":"1",display:"flex","flex-direction":"column",padding:"16px 16px 0"},contentCard__condensed:{"& $contentCard_body":{"row-gap":"0"},"& $contentCard_footer":{"grid-row":"2","grid-column":"1","padding-left":Ie("16px",void 0),"padding-right":Ie(void 0,"16px"),"padding-bottom":"0"},"& $contentCard_mediaWrapper":{position:"relative","grid-row":"1 / span 2"},"& $contentCard_heading":Object.assign(Object.assign({},Re("t6")),{"-webkit-line-clamp":"2"})},contentCard_icon:{position:"absolute",display:"inline-flex",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"48px",height:"48px","justify-content":"center","align-items":"center","border-radius":"50%",background:"rgba(0,0,0,0.4)",margin:"0 auto","& svg":{width:"24px",height:"24px",fill:"#FFF"}},contentCard_mediaWrapper:{position:"relative","grid-row":"1","grid-column":"2","margin-right":Ie("16px",void 0),"margin-left":Ie(void 0,"16px"),"margin-top":"16px",height:"fit-content"},contentCard_imagePriority:{"& $contentCard_body":{"grid-template-columns":"1fr"},"& $contentCard_mediaWrapper":{"grid-row":"1","grid-column":"span 2",margin:"0"},"& $contentCard_attribution":{"padding-bottom":"8px"},"& $contentCard_footer":{"padding-bottom":"4px"},"& $contentCard_headingContainer":{"grid-row":"2","grid-column":"span 2","padding-top":"10px","padding-left":Ie("16px",void 0),"padding-right":Ie(void 0,"16px")},"& $contentCard_icon":{top:"initial",left:"0",transform:"none",bottom:"8px","margin-bottom":"8px","margin-left":Ie("12px",void 0),"margin-right":Ie(void 0,"12px")},"& $contentCard_heading":Object.assign({},Re("t6")),"& $contentCard_media":{"& img":{"border-radius":"4px 4px 0 0"}},"& $contentCard__hasAbstract":{"& $contentCard_mediaWrapper":{"margin-left":Ie("0",void 0),"margin-right":Ie(void 0,"0")}}},contentCard_abstract:Object.assign(Object.assign({position:"relative",margin:"0"},Re("t7")),{"font-weight":"400","grid-column":"span 2","box-sizing":"content-box",color:ue,padding:"0 16px"}),contentCard_heading:Object.assign(Object.assign(Object.assign(Object.assign({"text-decoration":"none",outline:"none",color:Ae},Re("t7")),{"font-weight":"600",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical","&:hover":{"text-decoration":"underline"}}),function(e,t){let n,i;if("object"==typeof e&&null!==e)i="",n=e;else{if("string"!=typeof e)return{};i=e,n=t}return Object.assign({"&:focus":{outline:"none"}},Object(Me.b)()?{[Te(i)]:n}:{[_e(i)]:n})}({"text-decoration":"underline"})),{"&::after":{position:"absolute",content:"''",top:"0",left:"0",right:"0",bottom:"0","z-index":"1"}}),contentCard_mask:{display:"none"},contentCard__infoPane:{color:Ae,"justify-content":"flex-end",border:"none","& $contentCard__hasAbstractFooter":{position:"absolute",bottom:"0",right:"0",left:"0"},"& $contentCard__hasAbstract":{"grid-template-columns":"1fr 1fr","& $contentCard_headingContainer":{"grid-column":"1","grid-row":"1 / span 2","padding-left":Ie("16px","0"),"padding-right":Ie("0","16px"),"padding-bottom":"16px","padding-top":"8px"},"& $contentCard__hasAbstractFooter":{"grid-column":"2","grid-row":"2",position:"relative"}},"& $contentCard_headingContainer":{"grid-column":"1","z-index":"1"},"& $contentCard_abstract":{"grid-column":"2",color:Ae,padding:"8px 16px 0 16px"},"& $contentCard_mask":{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:Ee("linear-gradient(0deg, {0} 0, transparent 40%)",()=>"#000000")},"& $contentCard_footer":{"margin-top":"unset","grid-row":"2","grid-column":"1 / span 2","padding-top":"4px","padding-left":"16px","padding-right":"16px"},"& $contentCard_heading":Object.assign(Object.assign({},Re("t6")),{"-webkit-line-clamp":"2",color:Ae})},contentCard__infoPaneSplitVertical:{"grid-template-columns":"304px 1fr","grid-template-rows":"auto","& $contentCard_mediaWrapper":{"grid-row":"1 / span 2","grid-column":"1",margin:"0"},"& $contentCard_headingContainer":{"grid-row":"1","grid-column":"2","padding-left":Ie("4px","16px"),"padding-right":Ie("16px","4px"),"padding-bottom":"0","padding-top":"16px"},"& $contentCard_footer":{"grid-row":"2","grid-column":"2","padding-left":Ie("0","16px"),"padding-right":Ie("16px","0"),"padding-top":"0","padding-bottom":"6px"},"& $contentCard_heading":Object.assign({},Re("t6")),"& $contentCard_media":{"& img":{"border-radius":"4px 0 0 4px"}}},contentCard__infoPaneSplitHorizontal:{"& $contentCard_body":{"grid-template-columns":"1fr 1fr",height:"100%"},"& $contentCard_mediaWrapper":{"grid-column":"1 / span 2",margin:"0"},"& $contentCard_headingContainer":{"grid-column":"1","grid-row":"2 / span 2","padding-left":Ie("16px","0"),"padding-right":Ie("0","16px"),"padding-top":"0"},"& $contentCard_footer":{"grid-column":"2","grid-row":"2","padding-bottom":"0"},"& $contentCard_abstract":{"grid-column":"2","grid-row":"2",padding:"12px 16px 0 16px"},"& $contentCard_heading":Object.assign({},Re("t6")),"& $contentCard_media":{"& img":{"border-radius":"4px 4px 0 0"}},"& $contentCard__hasAbstractFooter":{position:"absolute",bottom:"0",right:"0",left:"0",background:U,"box-shadow":Ee("0px -25px 15px {0}",U)}},contentCard_backgroundImage:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0","& img, & div, & span":{width:"100%",height:"100%","object-fit":"cover"}},contentCard_media:{"& img":{"border-radius":"4px"}},contentCard_attribution:{color:Ae,"padding-bottom":"6px"},contentCard__hasAbstract:{},contentCard_headingWrapper:{},contentCard__hasAbstractFooter:{},contentCard_hoverActions:{position:"absolute",top:"8px",right:Ie("8px","auto"),left:Ie("auto","8px"),opacity:"0","z-index":"2"},contentCard_startActions:{"z-index":"2"},contentCard_endActions:{"z-index":"2"}},Ne=n("r6MD"),He=n("FYor"),Le=n("bOQk"),De=n("hTSy");class Be extends y.a.Component{constructor(){super(...arguments),this.referenceResolverStore={},this.referenceStore={}}setRef(...e){const t=this.processStorageKey(e);let n=Object(Ne.a)(this.referenceResolverStore,t);if(t&&!Object(He.a)(n)&&!Array.isArray(n))return"function"==typeof n||(n=e=>{Object(Le.a)(this.referenceStore,t,e)},Object(Le.a)(this.referenceResolverStore,t,n)),n}getRef(...e){return Object(Ne.a)(this.referenceStore,this.processStorageKey(e))}unhandledProps(){const e=Object.keys(this.props).filter(e=>!(Be.defaultHandledProps.indexOf(e)>-1)&&this.handledProps&&!this.handledProps.hasOwnProperty(e));return Object(De.a)(this.props,e)}generateClassNames(e=""){return e.concat(" "+(this.props.className||"")).trim().replace(/(\s){2,}/g," ")||null}withSlot(e,t=this.props.children){return y.a.Children.map(t,t=>this.hasSlot(e,t)?t:null)}withoutSlot(e,t=this.props.children){return y.a.Children.map(t,t=>this.hasSlot(e,t)?null:t)}hasSlot(e,t){const n=Object(Ne.a)(t,"props.slot");return Array.isArray(e)?-1!==e.indexOf(n):e===n}processStorageKey(e){return e.filter(e=>"string"==typeof e||"number"==typeof e).map((e,t)=>0===t?e:`[${e}]`).join("")}}Be.defaultHandledProps=["children"];var We,Ue=Be,ze=n("o1qX");!function(e){e.default="default",e.condensed="condensed",e.infoPane="infoPane",e.infoPaneSplitVertical="infoPaneSplitVertical",e.infoPaneSplitHorizontal="infoPaneSplitHorizontal"}(We||(We={}));class $e extends Ue{constructor(e){super(e),this.handledProps={headingLevel:void 0,href:void 0,imagePriority:void 0,layout:void 0,managedClasses:void 0,target:void 0},this.state={hasAbstract:!1,isImagePriority:this.props.imagePriority||!1,hoverActionFocused:!1},this.hasElementSlot("hover-actions")&&(this.hoverActionsRef=y.a.createRef())}render(){return y.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),y.a.createElement("span",{className:this.props.managedClasses.contentCard_backgroundImage},this.withSlot("background-image")),y.a.createElement("div",{className:this.props.managedClasses.contentCard_mask}),this.renderBodyContent(),this.props.layout===We.default?this.generateFooterArea():null,this.renderHoverActionsSlot())}componentDidMount(){this.hoverActionsRef&&this.hoverActionsRef.current&&(this.hoverActionsRef.current.addEventListener("focusin",()=>{this.setState({hoverActionFocused:!0})}),this.hoverActionsRef.current.addEventListener("focusout",()=>{this.setState({hoverActionFocused:!1})}),this.hoverActionsRef.current.addEventListener("mouseleave",()=>{this.setState({hoverActionFocused:!1})}))}generateClassNames(){const{contentCard:e,contentCard_imagePriority:t}=this.props.managedClasses;return super.generateClassNames(Object(ze.a)(e,[this.getClassNameByLayout(),!!this.props.layout],[t,this.state.isImagePriority]))}getClassNameByLayout(){const{contentCard__default:e,contentCard__condensed:t,contentCard__infoPane:n,contentCard__infoPaneSplitHorizontal:i,contentCard__infoPaneSplitVertical:a}=this.props.managedClasses;switch(this.props.layout){case We.default:return e;case We.condensed:return t;case We.infoPane:return n;case We.infoPaneSplitHorizontal:return i;case We.infoPaneSplitVertical:return a;default:return e}}generateBodyClassNames(){const{contentCard_body:e,contentCard__hasAbstract:t}=this.props.managedClasses;return Object(ze.a)(e,[t,this.hasElementSlot("abstract")])}renderBodyContent(){const{contentCard_attribution:e,contentCard_heading:t,contentCard_headingContainer:n,contentCard_headingWrapper:i,contentCard_abstract:a}=this.props.managedClasses;return y.a.createElement("div",{className:this.generateBodyClassNames()},this.renderMediaWrapper(),y.a.createElement("div",{className:n},y.a.createElement("span",{className:e},this.withSlot("attribution")),y.a.createElement("span",{className:i,role:"heading","aria-level":this.props.headingLevel},y.a.createElement("a",{className:t,href:this.props.href,target:this.props.target},this.withoutSlot(["start-actions","hover-actions","end-actions","background-image","media","icon","attribution","abstract","call-to-action"])))),y.a.createElement("div",{className:a},this.withSlot("abstract")),this.props.layout!==We.default?this.generateFooterArea():null)}renderMediaWrapper(){if(this.hasElementSlot("media")||this.hasElementSlot("icon"))return y.a.createElement("div",{className:this.props.managedClasses.contentCard_mediaWrapper},this.renderMediaSlot(),this.renderIconSlot())}renderIconSlot(){if(this.hasElementSlot("icon"))return y.a.createElement("span",{className:this.props.managedClasses.contentCard_icon},this.withSlot("icon"))}renderHoverActionsSlot(){if(this.hasElementSlot("hover-actions"))return y.a.createElement("span",{ref:this.hoverActionsRef,className:this.props.managedClasses.contentCard_hoverActions,style:this.state.hoverActionFocused?{opacity:"1"}:null},this.withSlot("hover-actions"))}renderMediaSlot(){if(this.hasElementSlot("media"))return y.a.createElement("div",{className:this.props.managedClasses.contentCard_media},this.withSlot("media"))}hasElementSlot(e){if(!this.props.children)return!1;const t=this.withSlot(e);return y.a.Children.toArray(t).filter(e=>null!==e).length>0}generateFooterClassNames(){const{contentCard_footer:e,contentCard_footer__hidden:t,contentCard__hasAbstractFooter:n}=this.props.managedClasses;return Object(ze.a)(e,[t,this.hasElementSlot("footer")||!this.hasElementSlot("start-actions")&&!this.hasElementSlot("end-actions")],[n,this.hasElementSlot("abstract")])}generateFooterArea(){const{contentCard_startActions:e,contentCard_endActions:t}=this.props.managedClasses;return y.a.createElement("div",{className:this.generateFooterClassNames()},y.a.createElement("span",{className:e},this.withSlot("start-actions")),y.a.createElement("span",{className:t},this.withSlot("end-actions")))}}$e.displayName="ContentCard",$e.defaultProps={headingLevel:2,layout:We.default};var Ge=$e;const qe=M(Fe)(Ge);var Ve;!function(e){e.default="default",e.condensed="condensed",e.infoPane="infoPane",e.infoPaneSplitVertical="infoPaneSplitVertical",e.infoPaneSplitHorizontal="infoPaneSplitHorizontal"}(Ve||(Ve={}));var Ke=n("OnwC");class Je extends Ke.a{constructor(e){super(e),this.handledProps={headingLevel:void 0,href:void 0,imagePriority:void 0,layout:void 0,managedClasses:void 0,target:void 0},this.state={hasAbstract:!1,isImagePriority:this.props.imagePriority||!1}}render(){return y.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),y.a.createElement("span",{className:this.props.managedClasses.contentCard_backgroundImage},this.withSlot("background-image")),y.a.createElement("div",{className:this.props.managedClasses.contentCard_mask}),this.renderBodyContent(),this.props.layout===Ve.default?this.generateFooterArea():null)}generateClassNames(){const{contentCard:e,contentCard_imagePriority:t}=this.props.managedClasses;return super.generateClassNames(Object(ze.a)(e,[this.getClassNameByLayout(),!!this.props.layout],[t,this.state.isImagePriority]))}getClassNameByLayout(){const{contentCard__default:e,contentCard__condensed:t,contentCard__infoPane:n,contentCard__infoPaneSplitHorizontal:i,contentCard__infoPaneSplitVertical:a}=this.props.managedClasses;switch(this.props.layout){case Ve.default:return e;case Ve.condensed:return t;case Ve.infoPane:return n;case Ve.infoPaneSplitHorizontal:return i;case Ve.infoPaneSplitVertical:return a;default:return e}}generateBodyClassNames(){const{contentCard_body:e,contentCard__hasAbstract:t}=this.props.managedClasses;return Object(ze.a)(e,[t,this.hasElementSlot("abstract")])}renderBodyContent(){const{contentCard_attribution:e,contentCard_heading:t,contentCard_headingContainer:n,contentCard_headingWrapper:i,contentCard_abstract:a}=this.props.managedClasses;return y.a.createElement("div",{className:this.generateBodyClassNames()},this.renderMediaWrapper(),y.a.createElement("div",{className:n},y.a.createElement("span",{className:e},this.withSlot("attribution")),y.a.createElement("span",{className:i,role:"heading","aria-level":this.props.headingLevel},y.a.createElement("a",{className:t,href:this.props.href,target:this.props.target},this.withoutSlot(["start-actions","end-actions","background-image","media","icon","attribution","abstract","call-to-action"])))),y.a.createElement("div",{className:a},this.withSlot("abstract")),this.props.layout!==Ve.default?this.generateFooterArea():null)}renderMediaWrapper(){if(this.hasElementSlot("media")||this.hasElementSlot("icon"))return y.a.createElement("div",{className:this.props.managedClasses.contentCard_mediaWrapper},this.renderMediaSlot(),this.renderIconSlot())}renderIconSlot(){if(this.hasElementSlot("icon"))return y.a.createElement("span",{className:this.props.managedClasses.contentCard_icon},this.withSlot("icon"))}renderMediaSlot(){if(this.hasElementSlot("media"))return y.a.createElement("div",{className:this.props.managedClasses.contentCard_media},this.withSlot("media"))}hasElementSlot(e){if(!this.props.children)return!1;const t=this.withSlot(e);return y.a.Children.toArray(t).filter(e=>null!==e).length>0}generateFooterClassNames(){const{contentCard_footer:e,contentCard_footer__hidden:t,contentCard__hasAbstractFooter:n}=this.props.managedClasses;return Object(ze.a)(e,[t,this.hasElementSlot("footer")||!this.hasElementSlot("start-actions")&&!this.hasElementSlot("end-actions")],[n,this.hasElementSlot("abstract")])}generateFooterArea(){const{contentCard_startActions:e,contentCard_endActions:t}=this.props.managedClasses;return y.a.createElement("div",{className:this.generateFooterClassNames()},y.a.createElement("span",{className:e},this.withSlot("start-actions")),y.a.createElement("span",{className:t},this.withSlot("end-actions")))}}Je.displayName="ContentCardReactions",Je.defaultProps={headingLevel:2,layout:Ve.default};var Xe=n("rRWH"),Qe=n("fz//"),Ye=n("iuMt"),Ze=n("MF9s"),et=n("XI4f"),tt=n("8yfO"),nt=n("SP+O");const it={contentCard:{display:"flex",position:"relative",width:"auto","box-sizing":"border-box","flex-direction":"column",outline:"none",height:"100%",overflow:"hidden","&:hover, &:focus":{"& $contentCard_hoverActions":{opacity:"1"}}},contentCard_body:{display:"grid","justify-content":"center","row-gap":"8px","column-gap":"10px","grid-template-columns":"1fr auto","grid-template-rows":"auto"},contentCard__default:{"& $contentCard_abstract":{display:"none"},"& $contentCard_body, $contentCard__hasAbstract":{display:"block"},"& $contentCard_mediaWrapper":{float:Object(Xe.c)("right","left")},"& $contentCard__hasAbstract":{"& $contentCard_mediaWrapper":{"margin-left":Object(Xe.c)("16px",void 0),"margin-right":Object(Xe.c)(void 0,"16px")},"& $contentCard_abstract":{display:"block",padding:"0 16px 16px 16px"}},"& $contentCard__hasAbstractFooter":{position:"absolute",bottom:"0",right:"0",left:"0",background:Ze.k,"box-shadow":Object(Qe.a)("0px -25px 15px {0}",Ze.k)}},contentCard_footer:{position:"relative",padding:"0 16px 6px","margin-top":"auto",display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between",color:et.a,fill:et.a},contentCard_footer__hidden:{display:"none"},contentCard_headingContainer:{"grid-row":"1",display:"flex","flex-direction":"column",padding:"16px 16px 0"},contentCard__condensed:{"& $contentCard_body":{"row-gap":"0"},"& $contentCard_footer":{"grid-row":"2","grid-column":"1","padding-left":Object(Xe.c)("16px",void 0),"padding-right":Object(Xe.c)(void 0,"16px"),"padding-bottom":"0"},"& $contentCard_mediaWrapper":{position:"relative","grid-row":"1 / span 2"},"& $contentCard_heading":Object.assign(Object.assign({},Object(tt.b)("t6")),{"-webkit-line-clamp":"2"})},contentCard_icon:{position:"absolute",display:"inline-flex",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"48px",height:"48px","justify-content":"center","align-items":"center","border-radius":"50%",background:"rgba(0,0,0,0.4)",margin:"0 auto","& svg":{width:"24px",height:"24px",fill:"#FFF"}},contentCard_mediaWrapper:{position:"relative","grid-row":"1","grid-column":"2","margin-right":Object(Xe.c)("16px",void 0),"margin-left":Object(Xe.c)(void 0,"16px"),"margin-top":"16px",height:"fit-content"},contentCard_imagePriority:{"& $contentCard_body":{"grid-template-columns":"1fr"},"& $contentCard_mediaWrapper":{"grid-row":"1","grid-column":"span 2",margin:"0"},"& $contentCard_attribution":{"padding-bottom":"8px"},"& $contentCard_footer":{"padding-bottom":"4px"},"& $contentCard_headingContainer":{"grid-row":"2","grid-column":"span 2","padding-top":"10px","padding-left":Object(Xe.c)("16px",void 0),"padding-right":Object(Xe.c)(void 0,"16px")},"& $contentCard_icon":{top:"initial",left:"0",transform:"none",bottom:"8px","margin-bottom":"8px","margin-left":Object(Xe.c)("12px",void 0),"margin-right":Object(Xe.c)(void 0,"12px")},"& $contentCard_heading":Object.assign({},Object(tt.b)("t6")),"& $contentCard_media":{"& img":{"border-radius":"4px 4px 0 0"}},"& $contentCard__hasAbstract":{"& $contentCard_mediaWrapper":{"margin-left":Object(Xe.c)("0",void 0),"margin-right":Object(Xe.c)(void 0,"0")}}},contentCard_abstract:Object.assign(Object.assign({position:"relative",margin:"0","margin-top":"6px"},Object(tt.b)("t7")),{"font-weight":"400","grid-column":"span 2","box-sizing":"content-box",color:et.a,padding:"0 16px"}),contentCard_heading:Object.assign(Object.assign(Object.assign(Object.assign({"text-decoration":"none",outline:"none",color:nt.c},Object(tt.b)("t7")),{"font-weight":"600",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical","&:hover":{"text-decoration":"underline"}}),Object(Ye.a)({"text-decoration":"underline"})),{"&::after":{position:"absolute",content:"''",top:"0",left:"0",right:"0",bottom:"0","z-index":"1"},"& h3":{"font-weight":"600 !important"}}),contentCard_mask:{display:"none"},contentCard__infoPane:{color:nt.c,"justify-content":"flex-end",border:"none","& $contentCard__hasAbstractFooter":{position:"absolute",bottom:"0",right:"0",left:"0"},"& $contentCard__hasAbstract":{"grid-template-columns":"1fr 1fr","& $contentCard_headingContainer":{"grid-column":"1","grid-row":"1 / span 2","padding-left":Object(Xe.c)("16px","0"),"padding-right":Object(Xe.c)("0","16px"),"padding-bottom":"16px","padding-top":"8px"},"& $contentCard__hasAbstractFooter":{"grid-column":"2","grid-row":"2",position:"relative"}},"& $contentCard_headingContainer":{"grid-column":"1","z-index":"1"},"& $contentCard_abstract":{"grid-column":"2",color:nt.c,padding:"8px 16px 0 16px"},"& $contentCard_mask":{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:Object(Qe.a)("linear-gradient(0deg, {0} 0, transparent 40%)",()=>"#000000")},"& $contentCard_footer":{"margin-top":"unset","grid-row":"2","grid-column":"1 / span 2","padding-top":"4px","padding-left":"16px","padding-right":"16px"},"& $contentCard_heading":Object.assign(Object.assign({},Object(tt.b)("t6")),{"-webkit-line-clamp":"2",color:nt.c})},contentCard__infoPaneSplitVertical:{"grid-template-columns":"304px 1fr","grid-template-rows":"auto","& $contentCard_mediaWrapper":{"grid-row":"1 / span 2","grid-column":"1",margin:"0"},"& $contentCard_headingContainer":{"grid-row":"1","grid-column":"2","padding-left":Object(Xe.c)("4px","16px"),"padding-right":Object(Xe.c)("16px","4px"),"padding-bottom":"0","padding-top":"16px"},"& $contentCard_footer":{"grid-row":"2","grid-column":"2","padding-left":Object(Xe.c)("0","16px"),"padding-right":Object(Xe.c)("16px","0"),"padding-top":"0","padding-bottom":"6px"},"& $contentCard_heading":Object.assign({},Object(tt.b)("t6")),"& $contentCard_media":{"& img":{"border-radius":"4px 0 0 4px"}}},contentCard__infoPaneSplitHorizontal:{"& $contentCard_body":{"grid-template-columns":"1fr 1fr",height:"100%"},"& $contentCard_mediaWrapper":{"grid-column":"1 / span 2",margin:"0"},"& $contentCard_headingContainer":{"grid-column":"1","grid-row":"2 / span 2","padding-left":Object(Xe.c)("16px","0"),"padding-right":Object(Xe.c)("0","16px"),"padding-top":"0"},"& $contentCard_footer":{"grid-column":"2","grid-row":"2","padding-bottom":"0"},"& $contentCard_abstract":{"grid-column":"2","grid-row":"2",padding:"12px 16px 0 16px"},"& $contentCard_heading":Object.assign({},Object(tt.b)("t6")),"& $contentCard_media":{"& img":{"border-radius":"4px 4px 0 0"}},"& $contentCard__hasAbstractFooter":{position:"absolute",bottom:"0",right:"0",left:"0",background:Ze.k,"box-shadow":Object(Qe.a)("0px -25px 15px {0}",Ze.k)}},contentCard_backgroundImage:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0","& img, & div, & span":{width:"100%",height:"100%","object-fit":"cover"}},contentCard_media:{"& img":{"border-radius":"4px"}},contentCard_attribution:{color:nt.c,"padding-bottom":"6px"},contentCard__hasAbstract:{},contentCard_headingWrapper:{},contentCard__hasAbstractFooter:{},contentCard_hoverActions:{position:"absolute",top:"8px",right:Object(Xe.c)("8px","auto"),left:Object(Xe.c)("auto","8px"),opacity:"0","z-index":"2"},contentCard_startActions:{"z-index":"3"},contentCard_endActions:{"z-index":"2"}},at=Object(s.a)(it)(Je);var ot=n("xaBU"),rt=n("wirn"),st=n("YJhp"),ct=n("u5KZ"),dt=n("Am8i"),lt=n("B9ci"),ut=n("AHia");class ht extends Ke.a{constructor(){super(...arguments),this.handledProps={height:void 0,width:void 0,placeholderId:void 0}}render(){const e={height:this.props.height,width:this.props.width};return y.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-ad-placeholder":JSON.stringify(e),id:this.props.placeholderId,style:{display:"none"}}))}}var pt=n("CiAa"),gt=n("mDtb");const mt={attribution_contentRegion:{"&&":{color:"#FFFFFF"}}};class bt extends Ke.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,attribution:void 0,destination:void 0,image:void 0,heading:void 0},this.hasImage="function"==typeof this.props.image}render(){const{attribution:e,destination:t,heading:n,image:i,managedClasses:a}=this.props;return y.a.createElement(h.a,Object.assign({},this.unhandledProps()),y.a.createElement(pt.default,Object.assign({},t,{className:a.cardContainer}),this.hasImage&&y.a.createElement("div",{className:a.imageContainer},i(Object(ze.a)(a.image))),y.a.createElement("div",{className:a.contentContainer},y.a.createElement(m.a,Object.assign({className:a.title},n)),y.a.createElement(l.a,Object.assign({},e,{jssStyleSheet:mt})))))}}const ft=Object(s.a)(e=>({cardContainer:{position:"relative",display:"flex",height:"100%",overflow:"hidden","text-decoration":"none","&:hover":{cursor:"pointer","& $image":{opacity:".8"},"& $title":{"text-decoration":"underline"}}},contentContainer:{position:"relative",display:"flex","background-image":"linear-gradient(to bottom, rgba(0, 0, 0, 0) 55%, black)",padding:"8px","flex-direction":"column","justify-content":"space-between","text-align":"start"},title:Object.assign({color:"#FFFFFF",overflow:"hidden","margin-top":"150px !important","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"},Object(gt.d)()),imageContainer:{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",[Object(Xe.b)("padding-right","padding-left",e.direction)]:"0"},image:{}}))(bt);var Ct=n("gQ7Y"),vt=n("y2Il");class yt extends Ke.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,attribution:void 0,destination:void 0,image:void 0,heading:void 0},this.hasImage="function"==typeof this.props.image}render(){const{attribution:e,destination:t,heading:n,image:i,managedClasses:a}=this.props,o=this.hasImage?"200px":"100%";return y.a.createElement(h.a,Object.assign({},this.unhandledProps()),y.a.createElement(pt.default,Object.assign({},t,{className:a.cardContainer}),this.hasImage&&y.a.createElement("div",{className:a.imageContainer},i(Object(ze.a)(a.image))),y.a.createElement("div",{className:a.contentContainer,style:{width:o}},y.a.createElement(m.a,Object.assign({className:a.title},n,{size:vt.a._7})),y.a.createElement(l.a,Object.assign({},e)))))}}const St=Object(s.a)(e=>({cardContainer:{display:"flex",height:"100%",overflow:"hidden","text-decoration":"none","&:hover":{cursor:"pointer","& $image":{opacity:".8"},"& $title":{"text-decoration":"underline"}}},contentContainer:{display:"flex",padding:"8px","flex-direction":"column","justify-content":"space-between","text-align":"start"},title:Object.assign({color:nt.c,overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"},Object(gt.d)()),imageContainer:{padding:"8px",[Object(Xe.b)("padding-right","padding-left",e.direction)]:"0"},image:{width:"84px",height:"84px","border-radius":"4px"}}))(yt);var Ot=n("qGiF"),wt=n("7nmT"),xt=n.n(wt),jt=n("x0nu"),Rt=n("oFIr");const Pt=()=>({});class At extends u.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},u.b),{cardId:void 0,cardActionsStatus:void 0,contentCardProps:void 0,disablePlaceholder:void 0,enableBigImageOn1x2y:void 0,enableCommentCountOnHover:void 0,enableFadeInAnimation:void 0,enableFlexHeightCards:void 0,enableProngOneContentCard:void 0,enableRichSocialReactions:void 0,enableSaveStoryOnHover:void 0,enableSocialReactions:void 0,hideStoryOnHoverTooltip:void 0,hideStoryOnHoverProps:void 0,isBigPictureCard:void 0,isDenseCard:void 0,iframeOverlayComponent:void 0,isMouseOverContentCard:void 0,managedClasses:void 0,onComponentMount:void 0,onMouseOverContentCard:void 0,overlayComponent:void 0,physicalHeight:void 0,physicalWidth:void 0,renderAdPlaceholderOnLayout:void 0,reportDomComplete:void 0,socialBarProps:void 0,styles:void 0,telemetryContext:void 0,updateActionsStatus:void 0,useRegularFontHeading:void 0}),this.renderSocialBar=e=>y.a.createElement(jt.a,Object.assign({},this.props.socialBarProps,{likeButtonVisible:this.state.likeButtonVisible,useLabelStyle:!0})),this.onHideStoryClick=e=>{const t={Like:this.props.hideStoryOnHoverProps.likeStatus,Hide:!1};this.props.updateActionsStatus(t,b.b.HideStory)},this.onMouseOverContentCard=e=>()=>{this.props.onMouseOverContentCard(e),this.props.enableRichSocialReactions&&this.setState({likeButtonVisible:e})},this.onMouseEnterContentCard=()=>{this.setState({likeButtonVisible:!0})},this.onMouseLeaveContentCard=()=>{this.setState({likeButtonVisible:!1})},this.getAdditionalCardStyles=()=>{const{contentCardProps:e,enableBigImageOn1x2y:t,physicalHeight:n,useRegularFontHeading:i,enableFlexHeightCards:a}=this.props;return a?ot.l:i?e.layout===c.a._1x_1y?ot.m:t&&e.layout===c.a._2x_2y?ot.f:ot.e:e.layout===c.a._1x_1y?n===f.UnifiedMobileRowHeight+"px"?ot.o:n===f.CategoryMobileRowHeight+"px"?ot.g:e.image?ot.n:null:t&&e.layout===c.a._2x_2y?n===f.CategoryMobile1uHeight+"px"?ot.j:ot.i:Object(ot.h)(e.headingMaxLines)},this.generateBoxShadowStyles=Object(_.a)(e=>({card:{"&&&":Object.assign({},e)},contentCard:{"&&&":Object.assign({},e)}}),(...e)=>e.join()),this.getAdditionalReactionsCardContentCardStyles=Object(_.a)(e=>{const t=this.getAdditionalCardStyles()||{};t.contentCard_headingContent&&(t.contentCard_heading=t.contentCard_headingContent);t.contentCard_imageRegion&&(t.contentCard_media=t.contentCard_imageRegion);const n=e&&Object(ot.d)(e);if(n)for(const e in n)t[e]?Object.assign(t[e],n[e]):t[e]=n[e];return t},(...e)=>e.join()),this.state={likeButtonVisible:!1}}render(){super.render();const{cardId:e,contentCardProps:t,disablePlaceholder:n,enableBigImageOn1x2y:i,physicalWidth:a,physicalHeight:o,styles:r,overlayComponent:s,managedClasses:c,iframeOverlayComponent:d,enableFadeInAnimation:l,hideStoryOnHoverProps:u}=this.props;if(n&&!t)return null;const h=s||t&&this.renderContentCard(),p=this.renderAdPlaceholder(),g=Object(ze.a)(c.contentPreview,[c.fadeInAnimation,l&&!!t],[c.contentPreview_loading,!t]),m=i?Object.assign({height:o},r):Object.assign({width:a,height:o},r);return y.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-card-id":e,className:this.generateClassNames(g),style:m,onMouseEnter:u&&u.isEnabled?this.onMouseOverContentCard(!0):Pt,onMouseLeave:u&&u.isEnabled?this.onMouseOverContentCard(!1):Pt}),this.renderHideStoryIcon(),p,h,d)}renderHideStoryIcon(){const{hideStoryOnHoverProps:e,isMouseOverContentCard:t,managedClasses:n,overlayComponent:i}=this.props;return e&&e.isEnabled&&!i&&t?y.a.createElement(Ct.default,Object.assign({className:n.hideStoryGlyphButton,title:e.toolTipText,onClick:this.onHideStoryClick},this.props.telemetryContext.hideStoryOnHover.render()),y.a.createElement(rt.a,{className:n.hideStoryGlyph,glyphType:st.b.HideStoryV2})):null}renderContentCard(){const{enableCommentCountOnHover:e,enableSaveStoryOnHover:t,isDenseCard:n,isBigPictureCard:i,enableSocialReactions:a,enableRichSocialReactions:o,enableProngOneContentCard:r,contentCardProps:s,socialBarProps:l}=this.props;if(o&&(this.props.contentCardProps.saveIcon=this.renderSocialBar),n)return this.renderDenseCard();if(i)return this.renderBigPictureCard();if((o||a)&&!r&&s&&s.layout!==c.a._2x_2y)return this.renderContentCardReactions();if(r&&s&&s.layout!==c.a._2x_2y)return this.renderProngOneContentCard();const u=Object.assign(this.getAdditionalCardStyles()?this.getAdditionalCardStyles():{},this.generateBoxShadowStyles(Rt.a.getBoxShadowStyle()));return y.a.createElement(d.a,Object.assign({jssStyleSheet:u},this.props.contentCardProps,{onMouseEnter:e||t||o?this.onMouseOverContentCard(!0):Pt,onMouseLeave:e||t||o?this.onMouseOverContentCard(!1):Pt,onFocusCapture:o?()=>this.onMouseEnterContentCard():Pt,onBlurCapture:o?()=>this.onMouseLeaveContentCard():Pt}))}renderAdPlaceholder(){const{contentCardProps:e,cardId:t,physicalWidth:n,physicalHeight:i,renderAdPlaceholderOnLayout:a}=this.props;return e&&e.layout&&a&&a.indexOf(e.layout)>-1?y.a.createElement(ht,{height:i,width:n,placeholderId:"rivervideo-"+t}):null}componentDidMount(){super.componentDidMount(),this.props.onComponentMount&&this.props.onComponentMount()}componentDidUpdate(){if(Object(lt.b)())return;const{contentCardProps:e}=this.props,{heading:t,headingMaxLines:n}=e,i=xt.a.findDOMNode(this),a=i&&i.querySelector("[class*=contentCard_headingContent]");Object(lt.a)(a,t.size,n)}endDomCompleteMilestone(){this.props.reportDomComplete&&super.endDomCompleteMilestone()}renderDenseCard(){const{attribution:e,destination:t,image:n,heading:i}=this.props.contentCardProps;return y.a.createElement(St,{attribution:e,destination:t,image:n,heading:i})}renderBigPictureCard(){const{attribution:e,destination:t,image:n,heading:i}=this.props.contentCardProps;return y.a.createElement(ft,{attribution:e,destination:t,image:n,heading:i})}renderProngOneContentCard(){const{abstract:e,attribution:t,destination:n,icon:i,image:a,heading:o,layout:r,likeIcon:s,menuTrigger:d,saveIcon:u}=this.props.contentCardProps,{hideStoryOnHoverTooltip:m}=this.props,f=a&&"function"==typeof a&&a(),C=f&&r!==c.a._1x_1y&&i&&"function"==typeof i&&i(),v=s&&"function"==typeof s&&s(),S=u&&"function"==typeof u&&u(),O=f&&r!==c.a._1x_1y&&r!==c.a._2x_2y,w=Object.assign({jssStyleSheet:ot.p,title:m,onClick:e=>{ct.a.sendActionEvent(e.currentTarget,dt.a.Click),e.stopPropagation(),this.props.updateActionsStatus(Object.assign({},this.props.cardActionsStatus),b.b.HideStory)}},this.props.telemetryContext.hideStoryOnHover?this.props.telemetryContext.hideStoryOnHover.render():null),x=Object(ut.f)(null,w,st.b.CloseV2,!1,"8px");return y.a.createElement(h.a,null,y.a.createElement(Ot.a,null,i=>y.a.createElement(qe,Object.assign({},n,{onMouseEnter:()=>this.onMouseEnterContentCard(),onMouseLeave:()=>this.onMouseLeaveContentCard(),onFocusCapture:()=>this.onMouseEnterContentCard(),onBlurCapture:()=>this.onMouseLeaveContentCard(),onClick:e=>ct.a.sendActionEvent(e.currentTarget,dt.a.Click),layout:We.default,imagePriority:O,jssStyleSheet:ot.q.bind(this,i)}),y.a.createElement("span",Object.assign({},n),o.children),f?y.a.createElement("span",{slot:"media"},f):null,C?y.a.createElement("span",{slot:"icon"},C):null,t?y.a.createElement(p.a,{slot:"attribution"},y.a.createElement(l.a,Object.assign({},t))):null,e?y.a.createElement(g.a,Object.assign({slot:"abstract"},e)):null,y.a.createElement("span",{slot:"start-actions"},S),y.a.createElement("span",{slot:"hover-actions"},x),y.a.createElement("span",{slot:"end-actions"},v,Object(ut.c)(d,"16px")))))}renderContentCardReactions(){const{abstract:e,attribution:t,destination:n,icon:i,image:a,heading:o,layout:r,likeIcon:s,menuTrigger:d,saveIcon:u}=this.props.contentCardProps,b=a&&"function"==typeof a&&a(),f=b&&r!==c.a._1x_1y&&i&&"function"==typeof i&&i(),C=s&&"function"==typeof s&&s(),v=u&&"function"==typeof u&&u(),S=b&&r!==c.a._1x_1y&&r!==c.a._2x_2y;return y.a.createElement(h.a,null,y.a.createElement(Ot.a,null,i=>y.a.createElement(at,Object.assign({},n,{onMouseEnter:()=>this.onMouseEnterContentCard(),onMouseLeave:()=>this.onMouseLeaveContentCard(),onFocusCapture:()=>this.onMouseEnterContentCard(),onBlurCapture:()=>this.onMouseLeaveContentCard(),layout:Ve.default,imagePriority:S,jssStyleSheet:this.getAdditionalReactionsCardContentCardStyles(i)}),y.a.createElement("span",Object.assign({},n),y.a.createElement(m.a,Object.assign({},o))),b?y.a.createElement("span",{slot:"media"},b):null,f?y.a.createElement("span",{slot:"icon"},f):null,t?y.a.createElement(p.a,{slot:"attribution"},y.a.createElement(l.a,Object.assign({},t))):null,e?y.a.createElement(g.a,Object.assign({slot:"abstract"},e)):null,y.a.createElement("span",{slot:"start-actions"},v),y.a.createElement("span",{slot:"end-actions"},C,Object(ut.c)(d,"16px")))))}}At.defaultProps={experienceName:"ContentPreview"},At.renderCounterPrefix="Content";var kt=n("NLaq"),It=n("D57K"),Et=n("ADRF"),Mt=n("y+Kz"),Tt=n("BQb/"),_t=n("fIer"),Ft=n("XG5Y"),Nt=n("WfnD"),Ht=n("HxRh"),Lt=n("qg1f"),Dt=n("pbks"),Bt=n("Z/Ea"),Wt=n("860H"),Ut=n("TRvk"),zt=n("KaPL"),$t=n("s9+9"),Gt=n("H3av"),qt=n("Zn5T");const Vt={inspect:e=>{const{config:t,state:n,connectorArgs:i,children:a}=e,o=Object(Gt.d)(n,t,i),r=[];if(t.openInIframeOverlay&&t.childExperienceMap.Overlay&&o.contentCardProps&&o.contentCardProps.destination){const e=o.contentCardProps.destination.href;o.contentCardProps.destination.href=void 0,o.contentCardProps.destination.target=void 0,o.iframeOverlayComponent=a&&t.childExperienceMap?a[t.childExperienceMap.Overlay.instanceId]:null,o.iframeOverlayComponent||r.push({instanceId:qt.a.overlay,experienceType:qt.a.overlay}),o.contentCardProps.destination.onClick=()=>i.onClick(e)}return o&&(o.useRegularFontHeading=t.useRegularFontHeading),{props:o,missingChildren:r}}};var Kt=n("w5AX"),Jt=n("0MnL"),Xt=n("9J8d"),Qt=n("b3T/"),Yt=n("5neD");class Zt extends Nt.a{constructor(){super(...arguments),this._supportedRiverCardSizes=zt.a.None,this.useRouter=!1,this.reportDomComplete=!1,this.onClick=e=>{const{childExperienceMap:t,openInIframeOverlay:n}=this.config;if(!t)return void ct.a.sendAppErrorEvent(Object.assign(Object.assign({},Ht.Cd.LoadExperienceError),{message:"Child experience map in content preview config is invalid"}));const{Overlay:i}=t;if(!i)return void ct.a.sendAppErrorEvent(Object.assign(Object.assign({},Ht.Cd.LoadExperienceError),{message:"Overlay child experience is not found in content preview config"}));const o=this.childMap.get(i.instanceId);if(o)Bt.a.setOpen.getActionSender(o).send(!0);else{const t={iframeSourceUrl:this.getOverlayUrl(e),openInIframeOverlay:n};this.loadChildExperience(i,t).then(()=>{a.iframeOverlayReady.getActionSender(this).send(!0)})}},this.getOverlayUrl=e=>{let t=new URL(e);return t=Et.a.appendSearchParam(t,Mt.w.ocid,this.config.overlayOcid),t.href},this.onStatusChange=e=>{e!==this.getCurrentState().cardActionsStatus&&Qt.a.requestContentAndWebViewRefresh.getActionSender(this).send(!0),a.actionsChanged.getActionSender(this).send(e),e&&this.config.enableOverlay&&e.Hide&&this.loadOverlay(e)},this.updateActionsStatus=(e,t)=>{const n=new Tt.a(window.fetch.bind(window)),i=this.getCurrentState().loadedContent;if(!i)return void ct.a.sendAppErrorEvent(Object.assign(Object.assign({},Ht.db.ErrorWhileFetchingContentPreviewContent),{message:"Error while fetching a single ContentPreview content for updating action"}));const{id:a}=i;let o=void 0;switch(t){case b.b.Like:o=e.Like===_t.a.Like?b.b.Like:e.Like===_t.a.DisLike?b.b.Dislike:null;break;case b.b.Save:o=b.b.Save;break;case b.b.HideStory:o=b.b.HideStory;break;case b.b.ShowMore:o=b.b.ShowMore;break;case b.b.ShowFewer:o=b.b.ShowFewer}n.PostCardActionEvent(e,o,a,this.onStatusChange)},this.initActionMenu=(e,t)=>{Ft.b.Init.getGlobalActionSender().send(Object.assign(Object.assign({},e),{onMenuClose:()=>a.updateCardActionsMenuState.getActionSender(this).send(!1)}),t),e.enabled&&a.updateCardActionsMenuState.getActionSender(this).send(!0)},this.showSaveStoryToast=e=>{const{article:{id:t},cardStatus:n}=e;t&&(n.Save?Ft.b.UnsaveCard.getGlobalActionSender().send(t,e):Ft.b.SaveCard.getGlobalActionSender().send(t,e))},this.onReaction=(e,t,n)=>{a.updateSocialBarData.getActionSender(this).send(t,n),Wt.a.sendContentReaction(e,t,n)},this.showMoreFewerLikeThisToast=(e,t)=>{const{article:{id:n},cardStatus:i}=e;if(!n)return;let a;t===b.b.ShowMore?(a=`${n}-${b.b.ShowMore}`,i.ShowMoreFewer===_t.b.ShowMore?Ft.b.UnshowMoreLikeThisCard.getGlobalActionSender().send(a,e):Ft.b.ShowMoreLikeThisCard.getGlobalActionSender().send(a,e)):t===b.b.ShowFewer&&(a=`${n}-${b.b.ShowFewer}`,i.ShowMoreFewer===_t.b.ShowFewer?Ft.b.UnshowFewerLikeThisCard.getGlobalActionSender().send(a,e):Ft.b.ShowFewerLikeThisCard.getGlobalActionSender().send(a,e))},this.onMouseOverContentCard=e=>{a.mouseOverContentCard.getActionSender(this).send(e)}}onComponentConnect(e){return Object(It.b)(this,void 0,void 0,(function*(){yield Nt.a.prototype.onComponentConnect.call(this,e);const{readinessCounter:t,serviceContextMetadata:n,readinessCounterIndex:i}=e;this.initialProps=e,this.visualReadinessHandler=t&&t.tryCreateNotificationHandler(i),n&&(this.contentId=n.id,this.cardId="cp_"+this.contentId,n.cardContent&&this.setCardContent(n.cardContent)),this.telemetryContext=new Kt.a(this.telemetryObject);const a=Xt.a.getInstance().rootReducer.connector($t.a.SharedState);this.useRouter=a&&a.getCurrentState().useHistory}))}mapStateToProps(e){const t={initialProps:this.initialProps,telemetryContext:this.telemetryContext,visualReadinessHandler:this.visualReadinessHandler,onClick:this.onClick,onMouseOverContentCard:this.onMouseOverContentCard,cardActionConfig:{onStatusChange:this.onStatusChange,updateActionsStatus:this.updateActionsStatus,initActionMenu:this.initActionMenu,showMoreFewerLikeThisToast:this.showMoreFewerLikeThisToast,showSaveStoryToast:this.showSaveStoryToast},useRouter:this.useRouter,onReaction:this.onReaction,mainTelemetryObject:this.telemetryObject},{loadedContent:n,cardActionsStatus:i}=e;let a,{props:o}=Vt.inspect({config:this.config,state:e,connectorArgs:t,children:this.childComponentInstanceList});if(o&&this.setupImageStatusNotification(o.contentCardProps,e),i&&i.Hide){const t=this.childMap.get(e.overlayInstanceId);t&&(a=t.componentInstance)}return o=Object.assign(Object.assign(Object.assign({},o),{cardId:this.cardId,onComponentMount:n?void 0:this.initializeContentAsync.bind(this),reportDomComplete:this.reportDomComplete,renderAdPlaceholderOnLayout:this.config.renderAdPlaceholderOnLayout,overlayComponent:a,updateActionsStatus:this.updateActionsStatus}),this.telemetryTags||{}),o}get supportedRiverCardSizes(){if(this._supportedRiverCardSizes||!this.initialProps.serviceContextMetadata)return this._supportedRiverCardSizes;const e=this.config.disableAbstractCards,{titleLength:t,abstractLength:n,primaryImage:i}=this.initialProps.serviceContextMetadata.metadata;return this._supportedRiverCardSizes=Object(Yt.d)({titleLength:t,abstractLength:n,primaryImage:i,disableAbstractCards:e})}initializeContentAsync(){return Object(It.b)(this,void 0,void 0,(function*(){const{serviceContextMetadata:e}=this.initialProps,{cardContent:t}=e;let n;if(t)n=t;else{const t=!0!==this.config.skipWebWorker&&(this.initialProps&&this.initialProps.useWebWorkerCache);n=yield Object(Dt.a)(e,t,this.config.wwFetchTimeoutInMs)}if(!n)return a.contentError.getActionSender(this).send(),void(this.visualReadinessHandler&&this.visualReadinessHandler(Lt.b.Unsupported));this.setCardContent(n)}))}setCardContent(e){this.reportDomComplete=!0;if(this.getCurrentState().loadedContent)return;const{serviceContextMetadata:t}=this.initialProps,{metadata:n}=t,i=n&&n.actions&&n.actions.indexOf(_t.a.Like)>=0,o=i?_t.a.Like:_t.a.None,r=n&&n.actions&&n.actions.indexOf(b.b.Save)>=0,s=i?_t.b.ShowMore:_t.b.None,c=n&&n.actions&&n.actions.indexOf(b.b.HideStory)>=0,d=n?Ut.b.mapFeedResponseToSocialBarData(`${e.id}_${e.locale}`,n.myReaction,n.reactionSummary,n.commentSummary):void 0;a.contentLoaded.getActionSender(this).send(e,{Hide:c,Like:o,Save:r,ShowMoreFewer:s},d)}loadOverlay(e){return Object(It.b)(this,void 0,void 0,(function*(){const t="hidden-content-card-"+this.cardId;let n=this.childMap.get(t);if(!n){const{configInfo:e}=this.getOverlayExperienceInfo(t);yield this.loadChildExperience(e),n=this.childMap.get(e.instanceId),a.overlayReady.getActionSender(this).send(e.instanceId),Jt.a.actionStatusHandler.getActionSender(n).send(this.updateActionsStatus)}n&&Jt.a.actionsStatusChanged.getActionSender(n).send(e)}))}getOverlayExperienceInfo(e){const t=this.config,n=t&&t.childExperienceMap,i=n&&n.HiddenContent;return{configInfo:Object.assign(Object.assign({},i),{instanceId:e})}}setupImageStatusNotification(e,t){const n=this.visualReadinessHandler;if(!n||null==t.contentLoadError&&null==t.loadedContent)return;e&&e.image||n(Lt.b.Unsupported)}}var en=n("05Au"),tn=n("5p4t");class nn{reduce(e,t){if(!e)return{};if(!t)return e;let n,i=!1;return i=en.a.handleAction(t,a.contentLoaded,(t,i,a)=>{!t||e.loadedContent===t&&e.cardActionsStatus===i||(n=Object.assign(Object.assign({},e),{cardActionsStatus:i,loadedContent:t,socialBarData:a}))}),i=i||en.a.handleAction(t,a.actionsChanged,t=>{t!==e.cardActionsStatus&&(n=Object.assign(Object.assign({},e),{cardActionsStatus:t}))}),i=i||en.a.handleAction(t,a.overlayReady,t=>{n=Object.assign(Object.assign({},e),{overlayInstanceId:t})}),i=i||en.a.handleAction(t,tn.a.changeCardSize,(t,i,a)=>{e.contentCardSize===t&&e.physicalHeight===a&&e.physicalWidth===i||(n=Object.assign(Object.assign({},e),{contentCardSize:t,physicalHeight:a,physicalWidth:i}))}),i=i||en.a.handleAction(t,a.contentError,()=>{e.contentLoadError||(n=Object.assign(Object.assign({},e),{contentLoadError:!0}))}),i=i||en.a.handleAction(t,a.updateCardActionsMenuState,t=>{n=Object.assign(Object.assign({},e),{cardActionsMenuOpen:t})}),i=i||en.a.handleAction(t,a.iframeOverlayReady,t=>{n=Object.assign(Object.assign({},e),{iframeOverlayReady:t})}),i=i||en.a.handleAction(t,a.mouseOverContentCard,t=>{t!==e.isMouseOverContentCard&&(n=Object.assign(Object.assign({},e),{isMouseOverContentCard:t}))}),i=i||en.a.handleAction(t,a.updateSocialBarData,(t,i)=>{const a=i?void 0:t,o=Object.assign(Object.assign({},e.socialBarData),{myReaction:a}),r=e.socialBarData.myReaction;i||(o.reactionCounts[t]=e.socialBarData.reactionCounts[t]+1),(i||r)&&(o.reactionCounts[r]=e.socialBarData.reactionCounts[r]-1),n=Object.assign(Object.assign({},e),{socialBarData:o})}),n||e}}var an=n("bPP+"),on=n("7wJ/"),rn=n("x2Ry");const sn=Object(s.a)(ot.k)(At),cn={reactComponent:sn,experienceConfigSchema:r.ContentPreviewConfigSchema,mockState:rn.mockContentPreviewState,mockConfig:an.mockConfig,mockConnectorArgs:on.mockContentPreviewConnectorArgs,inspector:Vt.inspect}},"USk/":function(e,t){},UyrJ:function(e,t,n){"use strict";n.r(t),n.d(t,"River",(function(){return We})),n.d(t,"RiverActions",(function(){return N})),n.d(t,"RiverConnector",(function(){return _e})),n.d(t,"RiverReducer",(function(){return Ne})),n.d(t,"ToolingInfo",(function(){return Ue}));var i=n("uT2j"),a=n("FPTP"),o=n("5mwN"),r=n("JpJ4"),s=n("q/RY"),c=n("iX/D"),d=n("I6Lx"),l=n("+djJ"),u=n("HDSB"),h=n("XgsJ"),p=n("DYG5"),g=n("1aPi"),m=n("1j0g"),b=n("wXkv"),f=n("Zn5T"),C=n("OnwC"),v=n("HxRh"),y=n("3ZGc");class S{static getTemplateColumnCss(e){let t="";return e.columnWidths.forEach(e=>{if("number"==typeof e)t+=Object(y.a)(e)+" ";else{const n=e;t+=`minmax(${Object(y.a)(n.minWidthPx)}, ${Object(y.a)(n.maxWidthPx)}) `}}),t}static getTemplateColumnCssMsGrid(e,t){let n="";const i=e.columnWidths.length;return e.columnWidths.forEach((e,a)=>{if("number"==typeof e)n+=a!==i-1?`${Object(y.a)(e)} ${Object(y.a)(t)} `:Object(y.a)(e)+" ";else{const o=e;n+=a!==i-1?`minmax(${Object(y.a)(o.minWidthPx)}, ${Object(y.a)(o.maxWidthPx)}) ${Object(y.a)(t)} `:`minmax(${Object(y.a)(o.minWidthPx)}, ${Object(y.a)(o.maxWidthPx)}) `}}),n}static getTemplateRowCss(e){if(!e.rowHeights||!e.rowHeights.length)return"auto";let t="";return e.rowHeights.forEach(e=>{t+=Object(y.a)(e)+" "}),t}static getTemplateRowCssMsGrid(e,t){let n="";const i=e.rowHeights.length;return e.rowHeights.forEach((e,a)=>{n+=a!==i-1?`${Object(y.a)(e)} ${Object(y.a)(t)} `:Object(y.a)(e)+" "}),n}static getCombinedGridSize(e,t,n,i){let a=0;const o=e-1;for(let e=0;e<t;e++){if("number"!=typeof i[o+e])return;a+=i[o+e]}return a+=(t-1)*n,a}}var O=n("ERkP"),w=n.n(O),x=n("u5KZ");class j extends C.a{constructor(){super(...arguments),this.rootRef=w.a.createRef(),this.handledProps={gutterSize:void 0,managedClasses:void 0,onChangeSize:void 0,sectionCards:void 0,sectionTemplate:void 0,shouldFocusOnUpdate:void 0,useMsGrid:void 0}}render(){return w.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-template-key":this.props.sectionTemplate.templateKey},this.generateSectionStyleAttributes(this.props.sectionTemplate),{ref:this.props.shouldFocusOnUpdate?this.rootRef:null}),this.generateGridSectionCards())}shouldComponentUpdate(e){const t=this.props.sectionTemplate,n=e.sectionTemplate;if(!t||!n||t.templateKey!==n.templateKey)return!0;const i=this.props.sectionCards,a=e.sectionCards;if(!i||!a||i.length!==a.length)return!0;for(let e=0;e<i.length;e++)if(i[e].instanceId!==a[e].instanceId)return!0;return!0===this.props.shouldFocusOnUpdate}componentDidUpdate(){if(this.props.shouldFocusOnUpdate){const e=this.rootRef.current.querySelectorAll('button, [href], input, select, textarea, iframe, contentEditable, [tabindex]:not([tabindex="-1"])');e&&e[e.length-1].focus()}}generateGridSectionCards(){const e=this.props.sectionTemplate,t=this.props.sectionCards,n=e.cardTemplates;if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return void x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.Gc.GridSectionCardGenerationError),{message:"Unable to generate grid section cards: invalid sectionCards or cardTemplates"}));const i=this.props.gutterSize;return this.props.sectionCards.map((t,a)=>{const o=n[a],r=S.getCombinedGridSize(o.cssGridRowStart,o.cssGridRowSpan,i,e.rowHeights),s=S.getCombinedGridSize(o.cssGridColumnStart,o.cssGridColumnSpan,i,e.columnWidths);this.props.onChangeSize&&this.props.onChangeSize(t.instanceId,o.virtualCardSize,s,r);const c=this.generateCardAttributes(o,a);return w.a.createElement("div",c,t.cardComponentInstance)})}generateSectionStyleAttributes(e){const t=Object(y.a)(this.props.gutterSize);return this.props.useMsGrid?{style:{display:"-ms-grid",msGridRows:S.getTemplateRowCssMsGrid(e,this.props.gutterSize),msGridColumns:S.getTemplateColumnCssMsGrid(e,this.props.gutterSize),marginBottom:t}}:{style:{display:"grid",gridGap:t,gridTemplateColumns:S.getTemplateColumnCss(e),gridTemplateRows:S.getTemplateRowCss(e),marginBottom:t}}}generateCardAttributes(e,t){return this.props.useMsGrid?{key:t,style:{msGridColumn:""+(2*e.cssGridColumnStart-1),msGridColumnSpan:""+(2*(e.cssGridColumnStart+e.cssGridColumnSpan)-3),msGridRow:""+(2*e.cssGridRowStart-1),msGridRowSpan:""+(2*(e.cssGridRowStart+e.cssGridRowSpan)-3)}}:{key:t,style:{gridColumn:`${e.cssGridColumnStart} / span ${e.cssGridColumnSpan}`,gridRow:`${e.cssGridRowStart} / span ${e.cssGridRowSpan}`}}}}var R=n("+viU");const P=Object(R.a)(e=>({}))(j);var A=n("ABUT"),k=n("Nt1x"),I=n("o1qX"),E=n("1I/+"),M=n("Z3LZ"),T=n("+8mm");class _ extends o.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},o.b),{breakpointManager:void 0,contentExhausted:void 0,disablePagination:void 0,domCompleteTrackingId:void 0,emptyRiverMessage:void 0,gutterSize:void 0,managedClasses:void 0,manualPaginationEnabled:void 0,manualPaginationText:void 0,onBreakpointChange:void 0,onChangeSize:void 0,onUserPaginate:void 0,paginationSentinelPositionFromBottomPx:void 0,designSystemOverrides:void 0,riverSections:void 0,reportDomComplete:void 0,showMoreTelemetry:void 0}),this.checkPaginationCore=()=>{if(!this.paginationSentinelRef||!this.paginationSentinelRef.current)return;const e=this.paginationSentinelRef.current.getBoundingClientRect();Object(u.a)()?this.windowInnerHeight=this.windowInnerHeight||window.innerHeight||document.documentElement.clientHeight:this.windowInnerHeight=this.windowInnerHeight||Object(h.h)(),e&&e.top<=this.windowInnerHeight&&this.paginate()},this.onSentinelChange=e=>{if(!e||e.length<1)return;e[0].isIntersecting?(this.sentinelInView=!0,this.paginate()):this.sentinelInView=!1},this.paginate=()=>{this.props.onUserPaginate&&this.props.onUserPaginate()},this.manualPaginate=()=>{this.paginate()},this.checkPagination=Object(p.a)(this.checkPaginationCore,100),this.nullifyWindowHeightCache=Object(g.a)(()=>{this.windowInnerHeight=null},100),this.paginationSentinelRef=w.a.createRef(),this.riverContainerRef=w.a.createRef(),this.ttfFirstSectionFired=!1,this.ttvrFirstSectionFired=!1}componentDidMount(){super.componentDidMount(),!this.ttvrFirstSectionFired&&this.props.riverSections&&this.props.riverSections.length>0&&(Object(l.j)(b.a.riverFirstSection),this.ttvrFirstSectionFired=!0),!this.ttfFirstSectionFired&&this.props.riverSections&&this.props.riverSections.length>0&&(Object(l.g)(b.a.riverFirstSection),this.ttfFirstSectionFired=!0);const e=Object(E.b)(this.props.requestContext.data.ssrRiver,"ssrRiver",!1);if(Object(u.a)()&&!window.RENDER&&e){const e=Object(M.g)();e&&T.a.updateRiverHydrationComplete.getActionSender(e).send()}this.props.onBreakpointChange&&(this.props.breakpointManager.subscribe(this.props.onBreakpointChange),this.props.onBreakpointChange(this.props.breakpointManager.currentColumnArrangement)),this.props.disablePagination||("IntersectionObserver"in window&&!this.props.manualPaginationEnabled?d.b.IsPrerender&&"visible"!==document.visibilityState?this.addScrollObserver():this.addSentinelObserver():this.addScrollObserver(),window.addEventListener("resize",this.nullifyWindowHeightCache,!1),this.checkPaginationListeners())}componentWillUnmount(){this.props.onBreakpointChange&&this.props.breakpointManager.unsubscribe(this.props.onBreakpointChange),this.sentinelObserver?(this.sentinelObserver.disconnect(),this.sentinelObserver=null,this.observingSentinel=!1):window.removeEventListener("scroll",this.checkPagination,!1),window.removeEventListener("resize",this.nullifyWindowHeightCache,!1)}render(){super.render();const{managedClasses:e,designSystemOverrides:t}=this.props,n=Object(I.a)(e.river,"river-rc",[e.riverAutoPagination,!this.props.manualPaginationEnabled]);return w.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(n),ref:this.riverContainerRef}),w.a.createElement("div",{className:e.riverSections},w.a.createElement(i.a,Object.assign({},r.a),w.a.createElement(m.a,{designSystem:t},this.generateRiverSections(),!this.props.manualPaginationEnabled||this.props.contentExhausted||this.props.disablePagination?null:w.a.createElement(A.a,{linkText:this.props.manualPaginationText,onShowMoreClick:this.manualPaginate,showMoreTelemetry:this.props.showMoreTelemetry}))),this.props.disablePagination?null:w.a.createElement("div",{className:e.paginationSentinel,ref:this.paginationSentinelRef,style:{height:this.props.paginationSentinelPositionFromBottomPx}})))}componentDidUpdate(){if(super.componentDidUpdate(),!this.ttvrFirstSectionFired&&this.props.riverSections&&this.props.riverSections.length>0&&(Object(l.j)(b.a.riverFirstSection),this.ttvrFirstSectionFired=!0),!this.ttfFirstSectionFired&&this.props.riverSections&&this.props.riverSections.length>0&&(Object(l.g)(b.a.riverFirstSection),this.ttfFirstSectionFired=!0),!this.props.manualPaginationEnabled&&!this.props.disablePagination)return this.sentinelObserver&&this.observingSentinel&&this.props.contentExhausted?(this.sentinelObserver.unobserve(this.paginationSentinelRef.current),void(this.observingSentinel=!1)):void this.checkPaginationListeners()}endDomCompleteMilestone(){this.props.reportDomComplete&&-1===this.domCompleteTracker.getEnd()&&Object(s.a)(this.props.domCompleteTrackingId,()=>{this.dependenciesDomComplete(this.domCompleteTracker,this.props.onExperienceMilestoneTimingUpdate),x.a.resetContentViewTimeout()})}generateRiverSections(){const{riverSections:e,emptyRiverMessage:t,contentExhausted:n,onChangeSize:i,manualPaginationEnabled:o,disablePagination:r}=this.props;return Array.isArray(e)&&0!==e.length?e.map((e,t)=>w.a.createElement(P,Object.assign({},e,{onChangeSize:i,key:t,shouldFocusOnUpdate:o&&!r}))):n?[w.a.createElement(a.a,Object.assign({key:"emptyRiverSection"},t))]:void 0}checkPaginationListeners(){!this.props.disablePagination&&!this.props.manualPaginationEnabled&&this.props.riverSections&&this.props.riverSections.length&&(this.sentinelObserver?(this.startObservingSentinel(),this.paginationAnimationFrameId&&cancelAnimationFrame(this.paginationAnimationFrameId),this.checkPaginationTimeout&&clearTimeout(this.checkPaginationTimeout),this.checkPaginationTimeout=setTimeout(()=>{this.sentinelInView&&(this.paginationAnimationFrameId=requestAnimationFrame(()=>{this.paginationAnimationFrameId=null,this.checkPaginationTimeout=null,this.checkPaginationCore()}))},100)):requestAnimationFrame(()=>{setTimeout(this.checkPagination,100)}))}startObservingSentinel(){this.observingSentinel||this.props.contentExhausted||(this.observingSentinel=!0,requestAnimationFrame(()=>{this.sentinelObserver.observe(this.paginationSentinelRef.current)}))}dependenciesDomComplete(e,t){e.setEnd(),t&&t(c.a.domComplete,void 0,e.getEnd())}addScrollObserver(){this.props.manualPaginationEnabled||(window.addEventListener("scroll",this.checkPagination,!1),requestAnimationFrame(()=>{setTimeout(this.checkPagination,100)})),k.a.contentRegionSizeChanged.registerObserver(e=>this.checkPagination())}addSentinelObserver(){window.removeEventListener("scroll",this.checkPagination,!1),this.sentinelObserver=new IntersectionObserver(this.onSentinelChange,{threshold:[0,1]}),this.observingSentinel=!1}}_.defaultProps={experienceName:f.a.river,riverSections:[]};var F=n("G82u");class N{}N.setSections=new F.a("SetSectionsSignature"),N.contentExhausted=new F.a("ContentExhausted");var H=n("bqTr"),L=n("D57K"),D=n("Jw3B"),B=n("0dho"),W=n("wKWo");class U{constructor(e){this.subscribers=[],this.initialize(e)}get currentColumnArrangement(){return this.lastKnownColumnArrangement}subscribe(e){this.subscribers.push(e)}unsubscribe(e){Object(W.a)(this.subscribers,e)}updateSubscribers(){const e=this.lastKnownColumnArrangement;this.subscribers.forEach(t=>t(e))}initialize(e){const t=Object(E.b)(e.data.mediaBreakpoint,"mediaBreakpoint",!1),n=void 0!==t?t:Object(E.b)(e.data.breakpoint,"breakpoint"),i=[{query:Object(D.c)(null,D.a.c2),columnArrangement:D.a.c2},{query:Object(D.d)(D.a.c3),columnArrangement:D.a.c3}];B.a.fiveColSupported()?i.push({query:Object(D.d)(D.a.c4),columnArrangement:D.a.c4},{query:Object(D.c)(D.a.c5,null),columnArrangement:D.a.c5}):i.push({query:Object(D.c)(D.a.c4,null),columnArrangement:D.a.c4}),i.forEach(e=>{Object(h.a)(e.query,n)&&(this.lastKnownColumnArrangement=e.columnArrangement)}),Object(u.a)()&&i.forEach(e=>{window.matchMedia(e.query).addListener(()=>{Object(h.a)(e.query)&&(this.lastKnownColumnArrangement=e.columnArrangement,this.updateSubscribers())})})}}let z;var $,G=n("plCa"),q=n("IvTT");!function(e){e.OneService="OneService",e.WindowsShell="WindowsShell"}($||($={}));var V=n("BQg2"),K=n("rvYQ"),J=n("y+Kz"),X=n("ADRF"),Q=n("6ADy"),Y=n("KETb"),Z=n("msIb"),ee=n("hxZq"),te=n("tERu"),ne=n("/+Un");class ie{fetch(e){return Object(L.b)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit(),{nextPageUrl:n,templateId:i,ocid:a,flightData:o}=e||{},r=Object(ee.b)(),s="news/feed/windows/"+i,c=Object(Q.b)(s);if(n){const e=new V.a(new URL(n).search);r>0&&e.set(ee.a,r.toString()),!K.b.SendFeedCallActivityIdInHeader&&K.b.ActivityId&&e.set(J.w.activityId,K.b.ActivityId),c.search=e.toString()}else{const e=[...yield this.getCommonParams(a,o)];r>0&&e.push({key:ee.a,value:r.toString()}),e.forEach(e=>e.value&&c.searchParams.set(e.key,e.value))}K.b.SendFeedCallActivityIdInHeader&&c.searchParams.delete(J.w.activityId);const d=X.a.getParamsWithItems(location.search);if(d){const t=d.find(e=>"idxExperienceTypeOverride"===e.key),n=d.find(e=>"idxContentTypeOverride"===e.key),i=d.find(e=>"idxTreatmentOverride"===e.key);if(t&&c.searchParams.set("Experience",t.value),n){const t=e.contentType?e.contentType:"article,video,slideshow",i=[...new Set(`${t},${n.value}`.split(","))];c.searchParams.set("contentType",i.join(","))}i&&c.searchParams.set("Treatment",i.value)}c.searchParams.sort();try{const e=yield Object(Y.a)(()=>Object(L.b)(this,void 0,void 0,(function*(){return yield fetch(decodeURIComponent(c.href),t)})),"WindowsCardProvider.fetch");if(!e||!e.ok){const n=e?`OneService returned error response. status: ${e.status} - ${e.statusText}`:"OneService response was null";return void x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.vf),{message:n,pb:Object.assign(Object.assign({},v.vf.pb),{customMessage:`ServiceUrl: [${c.href}], requestHeaders: [${JSON.stringify(t&&t.headers)}]`})}))}return yield e.json()}catch(e){x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.uf),{message:"Error while fetching OneService response",pb:Object.assign(Object.assign({},v.uf.pb),{customMessage:`Error: ${e} serviceUrl: ${c.href} headers: ${JSON.stringify(t.headers)} activityId: ${K.b.ActivityId}`})}))}}))}getRequestInit(e={method:"GET"}){return Object(L.b)(this,void 0,void 0,(function*(){return(yield Object(ne.c)())===te.c.SignedIn&&(e.credentials="include"),e.headers=yield Z.a.getOneServiceFeedCallHeaders(),e}))}getCommonParams(e,t){return Object(L.b)(this,void 0,void 0,(function*(){return(yield Object(ne.c)())===te.c.SignedIn?Z.a.getOneServiceParamsWithAuth(K.b.UserId,e,!1,t):Z.a.getOneServiceParamsWithoutAuth(K.b.UserId,e,!1,t)}))}}var ae=n("n+04"),oe=n("zJcZ");class re{constructor(e={}){this.config=e,this.oneServiceCardProvider=new ie}fetch(e){return Object(L.b)(this,void 0,void 0,(function*(){let t,n,i=this.config.initialRequest;if(e&&(i=Object.assign(Object.assign({},i),e)),!e||!e.nextPageUrl)try{t=JSON.parse(yield window.ShellFeedsApp.tryGetIDXContentAsync())}catch(e){window.ShellFeedsApp&&window.ShellFeedsApp.tryGetIDXContentAsync&&Object(ae.b)(e,v.xf,"failed to get content from shell")}if(t&&(n=this.processResponse(t)),!n||!n.cardMetadata||!n.cardMetadata.length){Object(ae.a)(v.xf,"response from shell did not contain items, falling back to making service call");const e=yield this.oneServiceCardProvider.fetch(i);n=this.processResponse(e)}return n}))}clearCache(){}convertTemplateResponse(e){return e.cards&&e.cards.length?"group"===e.cards[0].type?e.cards[0]:{type:"group",subCards:e.cards}:(Object(ae.a)(v.wf,"unrecognized format in response"),null)}processResponse(e){if(!e)return Object(ae.a)(v.wf,"falsy response was provided"),null;const t=Object(oe.a)(this.convertTemplateResponse(e));return t?{cardMetadata:t.feedItems,nextPageRequest:null,template:e.template}:null}}var se=n("rPvf");var ce,de=n("qTXI");!function(e){e.CategoryRiverSections="CategoryRiverSections",e.DisplayAdsRiverSections="DisplayAdsRiverSections",e.HomepageRiverSections="HomepageRiverSections",e.LegacyRiverSections="LegacyRiverSections",e.OfficeNewsSections="OfficeNewsSections",e.OneColumnFullHeightRiverSections="OneColumnFullHeightRiverSections",e.OneColumnLegacyRiverSections="OneColumnLegacyRiverSections",e.OneColumnUnifiedMobileRiverSections="OneColumnUnifiedMobileRiverSections",e.OneColumnCategoryRiverSections="OneColumnCategoryRiverSections",e.OneColumnSuperAppRiverSections="OneColumnSuperAppRiverSections",e.FinanceThreeColumnRiverSections="FinanceThreeColumnRiverSections",e.WindowsShellRiverSections="WindowsShellRiverSections"}(ce||(ce={}));var le=n("NJ5d");const ue={[de.a.Any]:null,[de.a.OneColumn]:D.a.c1,[de.a.TwoColumn]:D.a.c2,[de.a.ThreeColumn]:D.a.c3,[de.a.FourColumn]:D.a.c4,[de.a.FiveColumn]:D.a.c5},he=B.a.fiveColSupported();var pe=n("H3ag"),ge=n("9l6q"),me=n("KaPL"),be=n("2Mxw");class fe{static getSectionTemplate(e,t,n,i,a,o,r,s,c,d,l,u,h){pe.a.startMark("getRiverSectionTemplate");const p=t.length,g=p-n,m=i.length,b=r.length,f=c.length;if(g<=0&&d>=f&&a>=m)return{newTemplate:null};let C=fe.tryGetSectionTemplate(e,0,t,n,i,a,o,r,s,c,d,l);if(C.newTemplate)return pe.a.endMark("getRiverSectionTemplate"),C;pe.a.singleMark("getRiverSectionTemplate-strict-failed");let y="";const S=m-a;if(S){y=", next:";i.slice(a,a+5).forEach(e=>{const{instanceId:t,supportedCardSizes:n,cardGridPosition:i}=e;y+=` [id: ${t} - s: ${n} p: ${JSON.stringify(i)}],`})}let O="";const w=f-d;if(w){O=", next:";c.slice(d,d+5).forEach(e=>{const{instanceId:t,supportedCardSizes:n,cardGridPosition:i}=e;O+=` [id: ${t} - s: ${n} p: ${JSON.stringify(i)}],`})}let x="";const j=b-s;if(j){x=", next:";r.slice(s,s+5).forEach(e=>{const{instanceId:t,supportedCardSizes:n,cardOrdinalPosition:i}=e;x+=` [id: ${t} - s: ${n} p: ${i}],`})}const R=e.map(e=>e.templateKey).slice(0,10),P=e.filter(e=>e.isFallback).map(e=>e.templateKey).slice(0,10),A=` cards rendered: ${n}, remaining: ${p-n}; column-constrained cards rendered: ${a}, remaining: ${S}${y}; positioned cards rendered: ${d}, remaining: ${w}${O}; ordinal cards rendered: ${s}, remaining: ${j}${x}; template count: ${e.length}, column count: ${e[0].columnCount}, first templates tried: ${R}, fallback templates: ${P}; config: ${h};`;if(C.positionedCardsTried&&(u?this.trackAppErrorHelper(v.Rb,"Couldn't find a section template to satisfy the positioned and column-constrained cards. Trying again by forcing full height cards.",A):this.trackAppErrorHelper(v.Sb,"Couldn't find a section template to satisfy the positioned and column-constrained cards. If there are content cards, we'll try to render them.",A)),g<=0)return{newTemplate:null};let k=0;if(C.positionedCardsTried&&!u){const t=e.length;for(;k<t&&!e[k].isFallback;)++k}return C=this.tryGetSectionTemplate(e,k,t,n,i,a,o,r,s,c,d,l,{useFullHeightCardFallback:u}),pe.a.endMark("getRiverSectionTemplate"),C.newTemplate?C:(g>=e[0].columnCount&&(u?this.trackAppErrorHelper(v.Dc,"Forcing fullheight cards did not work, and we have enough cards to render a full row. Rendering blank.",A):this.trackAppErrorHelper(v.ee.SkipPositionedCardsFallbackStrategyFailed,"Couldn't find an appropriate template despite skipping positioned and column constrained cards and having enough content cards for the columns.",A)),{newTemplate:null})}static tryGetSectionTemplate(e,t,n,i,a,o,r,s,c,d,l,u,h=null){const p=ge.a.ColumnMask,g=ge.b.RowMask,m=h&&h.useFullHeightCardFallback,b=!h||m;let f=!1;const C=e.length;for(;t<C;){const h=e[t++];let C=i,v=o,y=c,S=l,O=1+C+v+y+S,w=s[y],x=a[v],j=x&&x.cardGridPosition,R=j&&j.columnPosition,P=d[S],A=P&&P.cardGridPosition,k=A&&A.row-u;for(;P&&k<=0;)P=d[++S],A=P&&P.cardGridPosition,k=A&&A.row-u;let I=q.a.getRowPositionBitFromRow(k),E=A&&A.columnPosition|I;const M=[];if(h.cardTemplates.every(e=>{const t=e.virtualCardSize,i=e.virtualCardPosition;if(P)if((i&E)===i){if(f=!0,(!r||P.monetizationOption!==be.a.Monetization)&&fe.tryAddChildCard(t,P,M))return P=d[++S],P&&(A=P&&P.cardGridPosition,I=A&&q.a.getRowPositionBitFromRow(A.row-u),E=A&&A.columnPosition|I),++O,!0;if(b)return!1}else if(b){const e=i&p,n=i&g,a=A.columnPosition;if(n<I||e<a){const i=q.a.getColumnAndRowSpan(t),o=e<<i.columns,r=n<<i.rows;for(let t=e;t<o;t<<=1)for(let e=n;e<r;e<<=1)if(t===a&&e===I)return f=!0,!1}}if(i&R){if(f=!0,x&&(!r||x.monetizationOption!==be.a.Monetization)&&fe.tryAddChildCard(t,x,M))return++O,x=a[++v],j=x&&x.cardGridPosition,R=j&&j.columnPosition,!0;if(b)return!1}return w&&w.cardOrdinalPosition<=O&&(!r||w.monetizationOption!==be.a.Monetization)?!!fe.tryAddChildCard(t,w,M)&&(++O,w=s[++y],!0):(++O,r=r||n[C]&&n[C].monetizationOption===be.a.NonMonetizable,fe.tryAddChildCard(t,n[C++],M,m))}))return{newTemplate:h,sectionCards:M,nextCardIndex:C,nextColumnConstrainedCardIndex:v,nextOrdinalCardIndex:y,nextPositionedCardIndex:S,hasNonMonetizableContent:r}}return{newTemplate:null,positionedCardsTried:f}}static tryAddChildCard(e,t,n,i=!1){if(!t)return;let a=t.supportedCardSizes;return i&&a!==me.a.Size2Wx6H&&(a|=me.a.Size1Wx6H),e&a?(n.push(t),!0):void 0}static trackAppErrorHelper(e,t,n){x.a.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:n})}))}}var Ce=n("5p4t"),ve=n("ffy4"),ye=n("rGfm"),Se=n("zfSW"),Oe=n("RIQ7"),we=n("gmMM"),xe=n("qg1f");var je;(je||(je={})).inspect=function(e){const{state:t,config:n,connectorArgs:i}=e,a=[],o=function(e,t){let n,i;return e&&e.templateScreenConfigs&&e.templateScreenConfigs.length?(e.templateScreenConfigs.forEach(e=>{const a=e.gutterSize;if(a){if(e.screenWidth===de.a.Any)return void(n=a);ue[e.screenWidth]===t&&(i=a)}}),i||n||24):24}(n.riverTemplateConfig,i.breakpointManager.currentColumnArrangement),r=[];return t.riverSections.forEach(t=>{const i={gutterSize:o,useMsGrid:n.useMsGrid,sectionCards:[],sectionTemplate:t.sectionTemplate};t.sectionCards.forEach(t=>{const n={cardComponentInstance:e.children?e.children[t.instanceId]:null,instanceId:t.instanceId};n.cardComponentInstance||a.push({instanceId:t.instanceId,experienceType:t.experienceType}),i.sectionCards.push(n)}),i.gutterSize=o,i.useMsGrid=n.useMsGrid,r.push(i)}),{props:{contentExhausted:t.contentExhausted,emptyRiverMessage:n.emptyRiverMessage,gutterSize:o,riverSections:r,manualPaginationEnabled:n.manualPaginationEnabled,manualPaginationText:n.localizedStrings&&n.localizedStrings.manualPaginationText?n.localizedStrings.manualPaginationText:n.manualPaginationText||"",paginationSentinelPositionFromBottomPx:Object(y.a)(n.paginationSentinelPositionFromBottom||500),disablePagination:n.disablePagination,breakpointManager:i.breakpointManager,onUserPaginate:i.onUserPaginate,onBreakpointChange:i.onBreakpointChange,onChangeSize:i.onChangeSize,showMoreTelemetry:i.showMoreTelemetryTags?i.showMoreTelemetryTags:null,reportDomComplete:i.reportDomComplete,domCompleteTrackingId:i.domCompleteTrackingId,designSystemOverrides:n.designSystemOverrides},missingChildren:a}};var Re=n("6UxA"),Pe=n("WfnD"),Ae=n("Am8i"),ke=n("JnE6"),Ie=n("l+Jz"),Ee=n("C8K2");var Me=n("r6MD");const Te=/^fi-([a-z0-9]{6})$/;class _e extends Pe.a{constructor(e,t,n,i,a,o,r){super(e,t,n,i,a,o,r),this.arrangementToColumnCount={[D.a.c1]:1,[D.a.c2]:2,[D.a.c3]:3,[D.a.c4]:4,[D.a.c5]:5},this.isFetchingContent=!1,this.providerContentExhausted=!1,this.reportDomComplete=!1,this.ordinalRiverChildExperiences=new Map,this.positionedRiverChildExperiences=new Map,this.columnArrangementToConfigMap=new Map,this.cardProviders=new WeakMap,this.riverContentConnectorMap=new WeakMap,this.childReadinessCounterIndex=0,this.isInitialLoad=!0,this.onBreakpointChange=()=>{this.isInitialLoad?this.isInitialLoad=!1:(this.providerContentExhausted=!1,this.riverContentConnectors.size?this.updateFirstPage(!0):(this.contentResponse=null,this.fetchContentForFirstPage(!1).then(()=>{this.firstSectionResponse&&this.updateFirstPage()})))},this.onChangeSize=(e,t,n,i)=>{const a=this.childMap.get(e);a&&Ce.a.changeCardSize.getActionSender(a).send(t,n,i)},this.onUserPaginate=()=>{if(!this.firstSectionResponse)return;if(this.fetchingNextPageContent)return void(this.paginationPending=!0);const{riverSections:e,contentExhausted:t,cardCount:n,columnConstrainedCardCount:i,hasNonMonetizableContent:a,ordinalCardCount:o,positionedCardCount:r,rowCount:s}=this.getCurrentState(),{useFullHeightCardFallback:c}=this.config,d=this.getSectionTemplate(n,i,a,o,r,s,c);this.displayRiverPage(d,e,s,t)},this.onPerfMarkersReady=()=>{this.canUseDOM&&window.requestAnimationFrame(()=>{setTimeout(()=>{this.ttvrTimeout&&clearTimeout(this.ttvrTimeout),Object(l.i)(f.a.river),this.parentVisualReadinessHandler&&this.parentVisualReadinessHandler(xe.b.Ready);const e=Object(M.g)();e&&T.a.updateVisuallyReadyTiming.getActionSender(e).send(Object(M.c)(f.a.river,void 0,void 0,void 0,window.performance.now()))},0)})},this.visuallyReadyComplete=()=>{this.markRiverTtvrStatus("sup")},this.visuallyReadyUnsupportedComplete=()=>{this.markRiverTtvrStatus("uns")},this.visuallyReadyTimeout=()=>{this.markRiverTtvrStatus("to")},this.markRiverTtvrStatus=e=>{this.canUseDOM&&(Object(l.j)(`${f.a.river}_${e}`),this.onPerfMarkersReady())},this.contentCardCount=0,this.canUseDOM=Object(u.a)(),this.readinessCounter=new xe.a(this.config.visualReadinessCounter||4,this.visuallyReadyComplete,this.visuallyReadyUnsupportedComplete),this.canUseDOM&&(this.ttvrTimeout=setTimeout(this.visuallyReadyTimeout,this.config.onVisuallyReadyTimeoutMs||1e4)),this.breakpointManager=this.config.useMediaBreakpointManager?((e,t)=>(z&&!t||(z=new U(e)),z))(r):Object(G.a)(r),this.oneServiceMetadataTypeToExperienceTypeMap=Object(ve.b)(this.config.oneServiceMetadataTypeToExperienceTypeMapOverride),this.config.riverTemplateConfig=function(e){if(e.riverTemplateConfig)return e.riverTemplateConfig;const t={templateScreenConfigs:[]},n=e.gutterSize||Ee.a;return t&&t.templateScreenConfigs&&t.templateScreenConfigs.length||(t.templateScreenConfigs=[{screenWidth:de.a.Any,templateTypes:[ce.LegacyRiverSections],gutterSize:n}]),e.templateCategoryName&&!t.templateCategoryName&&(t.templateCategoryName=e.templateCategoryName),e.templateCategoryFiltersMap&&!t.templateCategoryFiltersMap&&(t.templateCategoryFiltersMap=e.templateCategoryFiltersMap),t.templateScreenConfigs.forEach(i=>{t.templateCategoryFiltersMap&&(i.templateTypes=[ce.CategoryRiverSections]),e.singleColumnRiverTemplatesEnabled&&!i.templateTypes.includes(ce.OneColumnLegacyRiverSections)&&i.templateTypes.push(ce.OneColumnLegacyRiverSections),e.singleColumnFullHeightRiverTemplatesEnabled&&!i.templateTypes.includes(ce.OneColumnFullHeightRiverSections)&&i.templateTypes.push(ce.OneColumnFullHeightRiverSections),e.useDisplayAdsTemplates&&!i.templateTypes.includes(ce.DisplayAdsRiverSections)&&i.templateTypes.unshift(ce.DisplayAdsRiverSections),i.gutterSize||(i.gutterSize=n)}),t}(this.config)}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{breakpointManager:this.breakpointManager,onUserPaginate:this.onUserPaginate,onBreakpointChange:this.onBreakpointChange,onChangeSize:this.onChangeSize,telemetryObject:this.telemetryObject,showMoreTelemetryTags:this.showMoreTelemetryTags,reportDomComplete:this.reportDomComplete,domCompleteTrackingId:this.namespace}},n=je.inspect(t);return Object.assign(Object.assign({},n.props),this.telemetryTags||{})}onComponentConnect(e){return Object(L.b)(this,void 0,void 0,(function*(){const t=Pe.a.prototype.onComponentConnect.call(this,e);ye.a.refreshRiver.registerObserver(()=>Object(L.b)(this,void 0,void 0,(function*(){yield Object(ee.d)(),this.refreshRiver()}))),ye.a.repaintRiver.registerObserver(()=>{this.repaintRiver()}),this.initialProps=e;const{readinessCounter:n,readinessCounterIndex:i}=this.initialProps||{};this.parentVisualReadinessHandler=n&&n.tryCreateNotificationHandler(i);const a=this.canUseWebWorker();this.ordinalChildExperienceInfo=this.getOrdinalChildExperiences();const o=this.canUseDOM&&window.needsHydrate&&this.getCurrentState().feedServiceFirstSectionResponse,r=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"show more",type:Ae.e.ActionButton}):null;if(this.showMoreTelemetryTags=r?r.render():null,o)return yield t,yield this.hydrateFirstPage(o),void(this.sectionTemplates=yield this.getRiverSectionTemplates());const s=[this.getRiverSectionTemplates(),t,this.fetchContentForFirstPage(a)];this.canUseDOM?Promise.all(s).then(([e])=>{this.sectionTemplates=e,this.displayFirstPage()}):yield Promise.all(s).then(([e])=>{this.sectionTemplates=e,this.displayFirstPage()})}))}getPositionedChildExperiences(){const e=this.config,t=[];if(!e||!e.riverGridChildren||0===e.riverGridChildren.length)return t;const n=this.getGridObjectForCurrentBreakpoint(e.riverGridChildren);if(n){const e=this.arrangementToColumnCount[this.breakpointManager.currentColumnArrangement];n.children.forEach(n=>{const i=n.arrangement,a=i&&i.column;a&&a<=e&&t.push({configInfo:n.childExperienceConfigInfo,initialProps:{gridArrangement:i}})})}return t}getGridObjectForCurrentBreakpoint(e){switch(this.breakpointManager.currentColumnArrangement){case D.a.c1:return this.getGridByScreenWidth(de.a.OneColumn,e);case D.a.c2:return this.getGridByScreenWidth(de.a.TwoColumn,e);case D.a.c3:return this.getGridByScreenWidth(de.a.ThreeColumn,e);case D.a.c4:return this.getGridByScreenWidth(de.a.FourColumn,e);case D.a.c5:return this.getGridByScreenWidth(de.a.FiveColumn,e);default:return this.getGridByScreenWidth(de.a.FourColumn,e)}}revalidateExperienceStaleState(e){const t=Object.create(null,{revalidateExperienceStaleState:{get:()=>super.revalidateExperienceStaleState}});return Object(L.b)(this,void 0,void 0,(function*(){t.revalidateExperienceStaleState.call(this,e),e&&this.refreshRiver(!0,!0,e)}))}canUseWebWorker(){if(this.config.bypassWebWorkerCache)return!1;const e=this.initialProps&&this.initialProps.context;return!(e&&(e.feedId||e.query))&&Se.b&&!this.currentColumnOverrides}getGridByScreenWidth(e,t){return t.find(t=>t.screenWidth===e)}get cardProviderConfig(){const e=this.breakpointManager.currentColumnArrangement,t=this.currentColumnOverrides;if(!t)return this.config.cardProviderConfig;const n=this.columnArrangementToConfigMap.get(e);if(n)return n;const i=Object(Re.a)({},this.config.cardProviderConfig,t);return this.columnArrangementToConfigMap.set(e,i),i}get currentColumnOverrides(){return this.config.cardProviderConfigColumnOverrides&&this.config.cardProviderConfigColumnOverrides[this.breakpointManager.currentColumnArrangement]}refreshRiver(e=!1,t=!1,n=!1){return Object(L.b)(this,void 0,void 0,(function*(){this.cardProvider.clearCache(),this.riverContentConnectors.clear(),this.firstSectionResponse=null,this.contentResponse=null,this.providerContentExhausted=!1,yield this.fetchContentForFirstPage(!1),this.firstSectionResponse&&this.displayFirstPage(),!e&&ye.a.riverRefreshed.getActionSender(this).send(),t&&this.repaintRiver(),n?(x.a.addOrUpdateTmplProperty("prerenderRiverStaleRevalidation","1"),this.requestPageVisibleCompleteAsync().then(()=>{x.a.scheduleContentViewEvent(ke.b.Partial)})):x.a.sendPageView(null,!1)}))}getRiverSectionTemplates(){return Object(L.b)(this,void 0,void 0,(function*(){const{riverTemplateConfig:e}=this.config;return e.templateCategoryFiltersMap&&!e.templateCategoryName&&this.initialProps&&this.initialProps.context&&this.initialProps.context.canonicalName&&(e.templateCategoryName=this.initialProps.context.canonicalName),yield function(e){return Object(L.b)(this,void 0,void 0,(function*(){const t={[D.a.c1]:[],[D.a.c2]:[],[D.a.c3]:[],[D.a.c4]:[],[D.a.c5]:[]};if(!e||!e.templateScreenConfigs.length)return t;const n={[D.a.c1]:null,[D.a.c2]:null,[D.a.c3]:null,[D.a.c4]:null};he&&(n[D.a.c5]=null);const i={[ce.CategoryRiverSections]:{},[ce.DisplayAdsRiverSections]:{},[ce.HomepageRiverSections]:{},[ce.LegacyRiverSections]:{},[ce.OfficeNewsSections]:{},[ce.OneColumnFullHeightRiverSections]:{},[ce.OneColumnLegacyRiverSections]:{},[ce.OneColumnUnifiedMobileRiverSections]:{},[ce.OneColumnCategoryRiverSections]:{},[ce.OneColumnSuperAppRiverSections]:{},[ce.FinanceThreeColumnRiverSections]:{},[ce.WindowsShellRiverSections]:{}},a=[];e.templateScreenConfigs.forEach(e=>{const t=e.screenWidth;t===de.a.Any?Object.keys(n).forEach(t=>{n[t]||(n[t]=e)}):n[ue[t]]=e,e.templateTypes.forEach(e=>{if(!i[e])return;const t=e&&i[e];t&&!t.fetched&&(t.fetched=!0,a.push(Object(le.getTemplateCollectionForType)(ce[e]).then(e=>{t.collection=e})))})}),yield Promise.all(a);return Object.keys(n).forEach(a=>{n[a].templateTypes.forEach(n=>{if(!i[n])return;const o=n&&i[n];o&&!o.collection||t[a].push(...o.collection.getCollectionTemplates(D.a[a],e))})}),0===t[D.a.c1].length&&(t[D.a.c1]=t[D.a.c2]),he&&t[D.a.c5]&&0===t[D.a.c5].length&&(t[D.a.c5]=t[D.a.c4]),t}))}(e)}))}repaintRiver(){return Object(L.b)(this,void 0,void 0,(function*(){this.updateFirstPage(!0)}))}get riverContentConnectors(){const e=this.cardProviderConfig;let t=this.riverContentConnectorMap.get(e);return t||(t=new Map,this.riverContentConnectorMap.set(e,t),t)}get cardProvider(){const e=this.cardProviderConfig;let t=this.cardProviders.get(e);return t||(t=this.config.cardProviderName===$.WindowsShell?new re(e):new se.a(e),this.cardProviders.set(e,t),t)}fetchContentForFirstPage(e){return Object(L.b)(this,void 0,void 0,(function*(){let t=!1;const n=[],i=[];try{this.canUseDOM?(i.push(this.fetchContent(e).then(e=>{this.firstSectionResponse=e,n.push("content")},e=>{throw"Cancelled"===e&&(t=!0),e})),i.push(this.getPositionedChildConnectors(this.getPositionedChildExperiences()).then(()=>n.push("positioned"))),yield Promise.all(i)):(this.firstSectionResponse=yield this.fetchContent(e),this.firstSectionResponse&&n.push("content"),yield this.getPositionedChildConnectors(this.getPositionedChildExperiences()),n.push("positioned")),this.ordinalChildExperienceInfo=this.getOrdinalChildExperiences(),yield this.getOrdinalChildConnectors(0,0,0,0),n.push("ordinal")}catch(e){if(!this.canUseDOM)throw e;t||x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.InitialDataLoadError),{message:`Incomplete initial river data. Loaded parts: ${n.length?n:"None"}, Error: ${e}`}))}}))}updateManualPaginationState(){if(!this.config.manualPaginationEnabled)return;const{contentExhausted:e,cardCount:t,columnConstrainedCardCount:n,hasNonMonetizableContent:i,ordinalCardCount:a,positionedCardCount:o,rowCount:r}=this.getCurrentState(),{useFullHeightCardFallback:s}=this.config,c=this.getSectionTemplate(t,n,i,a,o,r,s),d=!c||!c.sectionCards;e!==d&&N.contentExhausted.getActionSender(this).send(d)}getSectionTemplate(e,t,n,i,a,o,r){const s=this.sectionTemplates&&this.sectionTemplates[this.breakpointManager.currentColumnArrangement];if(!s)return null;const c=this.getGridSectionCardsForExperiences(this.riverContentConnectors);this.reorderSectionCardsIfAdsPlaceholderConfigured(c);const{columnConstrainedRiverCardExperiences:d,positionedRiverCardExperiences:l}=this.getSortedPositionedCardExperiences(),u=this.getGridSectionCardsForExperiences(this.ordinalRiverChildExperiences);return r=void 0===r||r,fe.getSectionTemplate(s,c,e,d,t,n,u,i,l,a,o,r,this.configHref)}displayFirstPage(){if(!this.firstSectionResponse)return;const{useFullHeightCardFallback:e}=this.config;if(this.firstSectionResponse.template){const e=this.firstSectionResponse.template.toLowerCase();Object.keys(this.sectionTemplates).forEach(t=>{const n=this.sectionTemplates[t].filter(t=>t.categoryId&&t.categoryId.toLowerCase()===e);n.length&&(this.sectionTemplates[t]=n)})}const t=this.getSectionTemplate(0,0,!1,0,0,0,e);if(!t)return;this.displayRiverPage(t,[],0,!1,!1,this.firstSectionResponse),this.reportDomComplete=!0;let n=0;t.sectionCards&&t.sectionCards.length&&(t.sectionCards.forEach(e=>{Object(s.c)(this.namespace,{experienceNamespace:e.cardNamespace,experienceType:e.experienceType})}),n=t.sectionCards.filter(e=>e.experienceType===f.a.contentPreview||e.experienceType===f.a.externalContentPreview||e.experienceType===f.a.infopane||e.experienceType===f.a.tabbedInfopane).length),this.readinessCounter.markNoNewHandlers(n)}updateFirstPage(e=!1){return Object(L.b)(this,void 0,void 0,(function*(){if(!this.firstSectionResponse)return;const{cardCount:t,columnConstrainedCardCount:n,ordinalCardCount:i,positionedCardCount:a,contentExhausted:o}=this.getCurrentState(),{useFullHeightCardFallback:r}=this.config;this.positionedRiverChildExperiences.clear();const s=this.getPositionedChildExperiences();yield this.getPositionedChildConnectors(s),this.ordinalRiverChildExperiences.clear(),this.ordinalChildExperienceInfo=this.getOrdinalChildExperiences(),yield this.getOrdinalChildConnectors(t,n,i,a);const c=this.getSectionTemplate(0,0,!1,0,0,0,r);this.displayRiverPage(c,[],0,o,e)}))}hydrateFirstPage(e){return Object(L.b)(this,void 0,void 0,(function*(){e&&(this.firstSectionResponse=this.contentResponse=e,yield Promise.all([this.getContentCardConnectors(e),this.getPositionedChildConnectors(this.getPositionedChildExperiences())]),yield this.getOrdinalChildConnectors(0,0,0,0),this.fetchNextPageContent(),this.onPerfMarkersReady())}))}displayRiverPage(e,t,n,i,a=!1,o=null){if(!e||!e.newTemplate)return void(0!==n&&!this.providerContentExhausted||this.isFetchingContent||i||N.contentExhausted.getActionSender(this).send(!0));const r=this.config.manualPaginationEnabled&&!e.sectionCards,{newTemplate:s,sectionCards:c,nextCardIndex:d,nextColumnConstrainedCardIndex:l,nextPositionedCardIndex:u,nextOrdinalCardIndex:h,hasNonMonetizableContent:p}=e,g={sectionTemplate:s,sectionCards:c};n+=s.templateVirtualRowCount;const m=[...t,g];N.setSections.getActionSender(this).send(m,d,l,h,u,n,p,r,o),this.initialProps&&this.initialProps.sectionAddedCallback&&this.initialProps.sectionAddedCallback(this.initialProps&&this.initialProps.context&&this.initialProps.context.feedId),!this.canUseDOM||a||this.isFetchingContent||this.hasSufficientCardsForPage()||r||(this.fetchingNextPageContent=!0,Object(M.l)().then(()=>Object(L.b)(this,void 0,void 0,(function*(){yield this.fetchNextPageContent(),this.fetchingNextPageContent=!1,this.paginationPending&&(this.paginationPending=!1,this.onUserPaginate())}))))}fetchNextPageContent(){return Object(L.b)(this,void 0,void 0,(function*(){yield this.fetchContent();const{cardCount:e,columnConstrainedCardCount:t,ordinalCardCount:n,positionedCardCount:i}=this.getCurrentState();yield this.getOrdinalChildConnectors(e,t,n,i),this.updateManualPaginationState()}))}getGridSectionCardsForExperiences(e){const t=[];return e.forEach((e,n)=>{t.push({cardNamespace:e.namespace,cardOrdinalPosition:e.ordinalPosition,experienceType:e.experienceType,instanceId:n,monetizationOption:e.monetizationOption,supportedCardSizes:e.supportedRiverCardSizes})}),t}hasSufficientCardsForPage(){const{cardCount:e}=this.getCurrentState();return!!this.config.disablePagination||this.riverContentConnectors.size>e+15}fetchContent(e=!1){return Object(L.b)(this,void 0,void 0,(function*(){if(this.providerContentExhausted)return;const t=yield this.getRiverContent(e);return yield this.getContentCardConnectors(t,e),t}))}getRiverContent(e=!1){return Object(L.b)(this,void 0,void 0,(function*(){const t=this.contentResponse,n=t&&t.nextPageRequest;if(!t||n){this.isFetchingContent=!0;try{let t;if(this.canUseDOM&&e)this.config.disableWaitForWebWorkerResponse?t=yield Promise.race([this.getFeedFromWebWorker(),this.getFeedFromCardProvider(n)]):(t=yield this.getFeedFromWebWorker(),t||(t=yield this.getFeedFromCardProvider(n)));else if(t=yield this.getFeedFromCardProvider(n),!t)throw new Error("River Feed CardProvider response is undefined.");Z.a.urlContainsOcidParam(Object(h.l)())&&Z.a.removeOcidFromRiverCardProviderResponse(t),t&&(this.contentResponse=t),this.config.superAppSkipInitialCards&&this.config.superAppSkipInitialCards>0&&(this.contentResponse.cardMetadata.splice(0,this.config.superAppSkipInitialCards),this.config.superAppSkipInitialCards=null),this.initialProps&&this.initialProps.getSessionIdCallback&&this.initialProps.getSessionIdCallback(t&&t.sessionId)}catch(n){if(!this.canUseDOM)throw n;x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.RiverContentProviderFetchException),{message:"River content provider fetch exception "+n,pb:Object.assign(Object.assign({},v.ee.RiverContentProviderFetchException.pb),{customMessage:`Config: ${this.configHref}, UseWebWorkerCache: ${e}, ContentResponse: ${JSON.stringify(t)}`})}))}finally{this.isFetchingContent=!1}return this.contentResponse}}))}getContentCardConnectors(e,t=!1){return Object(L.b)(this,void 0,void 0,(function*(){if(!e||!e.cardMetadata||!e.cardMetadata.length)return e&&e.cardMetadata&&!e.cardMetadata.length&&(this.providerContentExhausted=!0),[];const n=this.config,i=n&&n.childExperienceMap;if(!i)return x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.InvalidConfig),{message:"Invalid childExperienceMap in river",pb:Object.assign(Object.assign({},v.ee.InvalidConfig.pb),{customMessage:`Namespace: ${this.namespace}, ParentNamespace: ${this.parentNamespace}, configHref: '${this.configHref}'`})})),[];const a=[];e.cardMetadata.forEach(e=>{const n=this.oneServiceMetadataTypeToExperienceTypeMap[e.type];if(!n)return void x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.MissingExperienceTypeMap),{message:"Unable to map river card type to experience",pb:Object.assign(Object.assign({},v.ee.MissingExperienceTypeMap.pb),{customMessage:`Item type '${e.type}', configHref: '${this.configHref}', cardProviderConfig: '${JSON.stringify(this.config.cardProviderConfig)}'`})}));const o=i[n];o?(a.push({configInfo:Object.assign(Object.assign({},o),{experienceType:n,instanceId:`river-${this.contentCardCount}-${n}`}),initialProps:{serviceContextMetadata:e,parentTelemetry:this.telemetryObject,readinessCounter:this.readinessCounter,readinessCounterIndex:this.childReadinessCounterIndex++,useWebWorkerCache:t,contentId:this.initialProps&&this.initialProps.contentId,experienceTelemetry:Object(Oe.a)(this.telemetryObject,n)}}),this.contentCardCount++):x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.InvalidConfig),{message:"Unable to get river card config",pb:Object.assign(Object.assign({},v.ee.InvalidConfig.pb),{customMessage:`Item type '${e.type}', configHref: '${this.configHref}', cardProviderConfig: '${JSON.stringify(this.config.cardProviderConfig)}'`})}))}),yield Promise.all(a.map(e=>this.loadChildExperience(e.configInfo,e.initialProps)));const o=[],r=this.riverContentConnectors;return a.forEach(e=>{const t=e.configInfo.instanceId,n=this.childMap.get(t);this.tryValidateRiverChildConnector(n,t)&&(n.isExcluded||(o.push(n),r.set(t,n)))}),o}))}getOrdinalChildConnectors(e,t,n,i){return Object(L.b)(this,void 0,void 0,(function*(){if(!this.ordinalChildExperienceInfo)return;!this.ordinalRiverChildExperiences.size&&this.ordinalChildExperienceInfo.length&&this.ordinalChildExperienceInfo.forEach(e=>{const t=e.configInfo;if(!t)return;const n=t.instanceId;if(!n||!this.childMap.has(n))return;const i=this.childMap.get(n);this.ordinalRiverChildExperiences.set(n,i)});const a=t+i;let o=e+n+a+(this.riverContentConnectors.size-e)+(this.ordinalRiverChildExperiences.size-n)+(this.positionedRiverChildExperiences.size-a);const r=new Map,s=this.ordinalChildExperienceInfo.filter(e=>{const t=e.initialProps,n=t&&t.experienceArrangement,i=n&&n.startPosition;if(!i)return x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.InvalidConfig),{message:"Unable to get river card experience arrangement for ordinal child",pb:Object.assign(Object.assign({},v.ee.InvalidConfig.pb),{customMessage:`LoadInfo: ${JSON.stringify(e)}, configHref: '${this.configHref}'`})})),!1;const a=e.configInfo;return a?!(i>o)&&(r.has(a.instanceId)?(this.trackDuplicateInstanceId(a.instanceId,r.get(a.instanceId),i),!1):(r.set(a.instanceId,i),++o,!this.childMap.has(a.instanceId))):(x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.InvalidConfig),{message:"Unable to get river card config for ordinal child",pb:Object.assign(Object.assign({},v.ee.InvalidConfig.pb),{customMessage:`LoadInfo: ${JSON.stringify(e)}, configHref: '${this.configHref}'`})})),!1)}),c=s.map(e=>Object(L.b)(this,void 0,void 0,(function*(){const t=e.configInfo,n=e.initialProps;return n.parentTelemetry=this.telemetryObject,n.experienceTelemetry=Object(Oe.a)(this.telemetryObject,Object(we.g)(t)),n.readinessCounter=this.readinessCounter,this.initialProps&&this.initialProps.contentId&&(n.contentId=this.initialProps.contentId),this.loadChildExperience(t,n)})));yield Promise.all(c),s.forEach(e=>{const t=e.configInfo.instanceId,n=this.childMap.get(t);this.tryValidateRiverChildConnector(n,t)&&(n.ordinalPosition=e.initialProps.experienceArrangement.startPosition,this.ordinalRiverChildExperiences.set(t,n))})}))}updateCardPosition(e,t){if(!e||!t)return;const{gridArrangement:n,experienceArrangement:i}=t;e.gridPosition=this.getCardPositionFromConfigPosition(n),e.ordinalPosition=n&&n.ordinalPosition||i&&i.startPosition}getPositionedChildConnectors(e){return Object(L.b)(this,void 0,void 0,(function*(){const t=e.map(e=>{const t=e.configInfo;if(!t)return void x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.InvalidConfig),{message:"Unable to get river card config for positioned child",pb:Object.assign(Object.assign({},v.ee.InvalidConfig.pb),{customMessage:`LoadInfo: ${JSON.stringify(e)}, configHref: '${this.configHref}'`})}));if(this.childMap.has(t.instanceId))return;const n=e.initialProps;return n.parentTelemetry=this.telemetryObject,n.readinessCounter=this.readinessCounter,n.context=this.initialProps&&this.initialProps.context,this.loadChildExperience(t,n)});yield Promise.all(t),e.forEach(e=>{const t=e.configInfo.instanceId,n=this.childMap.get(t);if(!this.tryValidateRiverChildConnector(n,t))return;const i=e.initialProps,a=i&&i.gridArrangement;a||!a.column?(this.positionedRiverChildExperiences.set(t,n),this.updateCardPosition(n,i)):x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.ChildLoadError),{message:"River child instance id does not have a valid grid position",pb:Object.assign(Object.assign({},v.ee.ChildLoadError.pb),{customMessage:"LoadInfo: "+JSON.stringify(e)})}))})}))}getCardPositionFromConfigPosition(e){if(!e)return;const t=q.a.getColumnPositionFromColumnNumber(e.column);return t?{columnPosition:t,row:e.row}:void 0}getSortedPositionedCardExperiences(){const e=[],t=[],n={};return this.positionedRiverChildExperiences.forEach((i,a)=>{const o=i.gridPosition,r=o.row,s=o.columnPosition;if(!i.supportedRiverCardSizes)return;const c={cardNamespace:i.namespace,cardGridPosition:o,cardOrdinalPosition:i.ordinalPosition,monetizationOption:i.monetizationOption,instanceId:a,supportedCardSizes:i.supportedRiverCardSizes};if(r){const e=`${s},${r}`;n[e]||(n[e]=!0,t.push(c))}else e.push(c)}),t.sort((e,t)=>{const{cardGridPosition:n}=e,{cardGridPosition:i}=t,{columnPosition:a,row:o}=n,{columnPosition:r,row:s}=i;return o===s?a-r:o-s}),{columnConstrainedRiverCardExperiences:e,positionedRiverCardExperiences:t}}tryValidateRiverChildConnector(e,t){return e?null!==e.supportedRiverCardSizes||(x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.ChildLoadError),{message:`River child instance id '${t}' does not have a valid card size`,pb:Object.assign(Object.assign({},v.ee.ChildLoadError.pb),{customMessage:`Child type: ${e.experienceType}, Child configHref: ${e.configHref}, Namespace: ${this.namespace}`})})),!1):(x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.ChildLoadError),{message:`Unable to find child connector for instance id '${t}'`,pb:Object.assign(Object.assign({},v.ee.ChildLoadError.pb),{customMessage:`Namespace: ${this.namespace}, ParentNamespace: ${this.parentNamespace}`})})),!1)}getFeedFromWebWorker(){const e=!(!this.config.templateCategoryFiltersMap||!this.config.templateCategoryFiltersMap.myFeed),t=this.config.wwFetchTimeoutInMs||1e3;return new Promise(n=>{Object(Se.a)({id:e?Ie.a.StripeMyFeed:Ie.a.MyFeed},t).then(e=>{const t=e.payload;if(!e.fetched||!t)return void(this.config.disableWaitForWebWorkerResponse||n());const i=this.config.cardProviderConfig.initialRequest,a=Object.assign(Object.assign({},i),{start:(i.start||0)+i.count,nextPageUrl:t.nextPageUrl||null});n({cardMetadata:t.feedItems,nextPageRequest:a,sessionId:t.sessionId})})})}getFeedFromCardProvider(e){const t=this.cardProvider,n=e||this.initialProps&&this.initialProps.context;return this.overrideFinanceQuery(n),new Promise((i,a)=>Object(L.b)(this,void 0,void 0,(function*(){const o=yield t.fetch(n);t!==this.cardProvider?(e||a("Cancelled"),i()):i(o)})))}trackDuplicateInstanceId(e,t,n){x.a.sendAppErrorEvent(Object.assign(Object.assign({},v.ee.DuplicateInstanceIdWarning),{message:"Instance id appears multiple times in river config",pb:Object.assign(Object.assign({},v.ee.DuplicateInstanceIdWarning.pb),{customMessage:`instanceId: ${e}, startPosition: ${t}, duplicate startPosition: ${n}`})}))}reorderSectionCardsIfAdsPlaceholderConfigured(e){const{experienceType:t,positions:n}=Object(Me.a)(this.config,"cardProviderConfig.initialRequest.reorderCardSetting")||{};if(!t||!n)return;const i=n[this.breakpointManager.currentColumnArrangement];if(!e||!i)return;const a=(t,n)=>{if(t===n)return;const i=e[t];e[t]=e[n],e[n]=i};for(let n=0;n<e.length;n++)if(e[n].experienceType===t){a(n,i);break}}overrideFinanceQuery(e){const t=Object(h.l)();if(null==t)return;let n;try{n=new URL(t)}catch(e){return}const i=n.pathname.split("/").filter(e=>e.length>0);if(0===i.length)return;const a=i[i.length-1].match(Te);null!==a&&(e.query="ef_stock_"+a[1])}}var Fe=n("05Au");class Ne{constructor(){}reduce(e,t){if(!e)return{cardCount:0,columnConstrainedCardCount:0,contentExhausted:!1,hasNonMonetizableContent:!1,ordinalCardCount:0,positionedCardCount:0,riverSections:[],rowCount:0};if(!t)return e;let n;return Fe.a.handleAction(t,N.setSections,(t,i,a,o,r,s,c,d,l=null)=>{n=Object.assign(Object.assign({},e),{riverSections:t,cardCount:i,columnConstrainedCardCount:a,hasNonMonetizableContent:c,ordinalCardCount:o,positionedCardCount:r,rowCount:s,contentExhausted:d}),l&&(n.feedServiceFirstSectionResponse=l)}),Fe.a.handleAction(t,N.contentExhausted,t=>{e.contentExhausted!==t&&(n=Object.assign(Object.assign({},e),{contentExhausted:t}))}),n||e}}const He={river:{position:"relative"},riverAutoPagination:{"min-height":"100vh"},riverSections:{position:"relative"},paginationSentinel:{bottom:"0",position:"absolute",width:"100%","z-index":""+n("0fst").a.Below}};var Le=n("xaDv"),De=n("PVsn"),Be=n("RNO0");const We=Object(R.a)(He)(_),Ue={reactComponent:We,experienceConfigSchema:H.RiverConfigSchema,mockState:Be.mockState,mockConfig:Le.mockConfig,mockConnectorArgs:De.mockConnectorArgs,inspector:je.inspect}},WO7E:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.like="like",e.love="love",e.surprised="surprised",e.thinking="thinking",e.sad="sad",e.angry="angry"}(i||(i={}))},"WsQ+":function(e,t){},XG5Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,a=n("G82u");!function(e){e.LikeCard="LikeCard",e.UnlikeCard="UnlikeCard",e.DislikeCard="DislikeCard",e.UndislikeCard="UndislikeCard",e.SaveCard="SaveCard",e.UnsaveCard="UnsaveCard",e.HideCard="HideCard",e.UnhideCard="UnhideCard",e.ShowMoreLikeThisCard="ShowMoreLikeThisCard",e.UnshowMoreLikeThisCard="UnshowMoreLikeThisCard",e.ShowFewerLikeThisCard="ShowFewerLikeThisCard",e.UnshowFewerLikeThisCard="UnshowFewerLikeThisCard"}(i||(i={}));class o{}o.LikeCard=new a.a(i.LikeCard),o.UnlikeCard=new a.a(i.UnlikeCard),o.DislikeCard=new a.a(i.DislikeCard),o.UndislikeCard=new a.a(i.UndislikeCard),o.SaveCard=new a.a(i.SaveCard),o.UnsaveCard=new a.a(i.UnsaveCard),o.HideCard=new a.a(i.HideCard),o.UnhideCard=new a.a(i.UnhideCard),o.MutePublisher=new a.a("MutePublisher"),o.ServiceError=new a.a("CardActionServiceError"),o.Init=new a.a("Init"),o.DisableMenu=new a.a("DisableMenu"),o.ProviderIconAvailable=new a.a("ProviderIconAvailable"),o.UnshowToast=new a.a("UnshowToast"),o.ReportArticle=new a.a("ReportArticle"),o.Report=new a.a("Report"),o.AdChoice=new a.a("AdChoice"),o.ShowMoreLikeThisCard=new a.a(i.ShowMoreLikeThisCard),o.UnshowMoreLikeThisCard=new a.a(i.UnshowMoreLikeThisCard),o.ShowFewerLikeThisCard=new a.a(i.ShowFewerLikeThisCard),o.UnshowFewerLikeThisCard=new a.a(i.UnshowFewerLikeThisCard)},XXDZ:function(e,t){},Xbrc:function(e,t,n){"use strict";var i=n("fz//"),a=n("3ZGc"),o=n("iuMt"),r=n("rRWH"),s=n("SP+O"),c=n("LD6M"),d=n("QhQn"),l=n("7b0X"),u=n("zP2P"),h=n("MF9s"),p=n("ZEO0"),g=n("objN");const m={flipper:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(p.c)()),{width:Object(u.d)(),height:Object(u.d)(),display:"inline-flex","justify-content":"center","align-items":"center",margin:"0",position:"relative",fill:s.c,color:s.c,background:"transparent",border:"none",padding:"0","&::before":Object.assign({transition:"all 0.1s ease-in-out",content:"''",opacity:"0.8",background:c.c,border:Object(i.a)("{0} solid {1}",Object(a.a)(h.X),d.c),"border-radius":"50%",position:"absolute",top:"0",right:"0",bottom:"0",left:"0"},g.h),"&:active":{"&::before":{background:c.a,"border-color":d.a}},"&:hover":{"&::before":Object.assign({background:c.b,"border-color":d.b},g.p),"& $flipper_glyph":Object.assign({},g.B)}}),Object(o.a)({"&::before":{"box-shadow":Object(i.a)("0 0 0 1px {0} inset",l.a),border:l.a}})),{"&::-moz-focus-inner":{border:"0"}}),g.x),flipper_glyph:{position:"relative",transform:Object(r.c)("none","rotate(180deg)"),width:u.b,height:u.b},flipper__next:{},flipper__previous:{}};t.a=m},Y9OI:function(e,t){},YZCi:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Backfill="Backfill",e.CMSNativeAd="CMSNativeAd"}(i||(i={}))},Ysry:function(e,t,n){"use strict";n.r(t),n.d(t,"RiverPlaceholder",(function(){return c})),n.d(t,"RiverPlaceholderConnector",(function(){return b})),n.d(t,"RiverPlaceholderReducer",(function(){return f})),n.d(t,"ToolingInfo",(function(){return v}));var i=n("73ct"),a=n("5mwN"),o=n("lWfA"),r=n("ERkP"),s=n.n(r);class c extends a.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},a.b),{childExperience:void 0})}render(){return super.render(),s.a.createElement(o.a,null,this.props.childExperience)}}c.defaultProps={experienceName:"RiverPlaceholder"};var d=n("Mm8i"),l=n("D57K"),u=n("2Mxw"),h=n("KaPL"),p=n("WfnD");const g={inspect:e=>{const{children:t}=e;let n=null;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){n=t[e];break}return{props:{childExperience:n},missingChildren:null}}};var m=n("HDSB");class b extends p.a{onComponentConnect(e){return Object(l.b)(this,void 0,void 0,(function*(){if(Object(m.a)()?p.a.prototype.onComponentConnect.call(this,e):yield p.a.prototype.onComponentConnect.call(this,e),this.config.disableExperience)return void(this.supportedRiverCardSizes=h.a.None);this.monetizationOption=this.config.isMonetizationPlaceholder&&u.a.Monetization,this.supportedRiverCardSizes=this.config.supportedRiverCardSizes;const t=[this.config.childExperienceConfigInfo];Object(m.a)()&&(yield this.loadChildrenExperiences(t,e))}))}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e};return g.inspect(t).props}}class f{reduce(e,t){return e||{}}}var C=n("2QEW");const v={reactComponent:c,experienceConfigSchema:d.RiverPlaceholderConfigSchema,defaultMockState:i.mockDefaultState,mockState:i.mockState,mockConfig:C.mockConfig,inspector:g.inspect}},"Z/Ea":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");const a={setLoadState:new i.a("SetLoadState"),setOpen:new i.a("SetOpen")}},"b3T/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("G82u");class a{}a.updateWebviewVisibilityState=new i.a("UpdateWebviewVisibilityState"),a.updateUserAccountInfo=new i.a("UpdateUserAccountInfo"),a.requestContentAndWebViewRefresh=new i.a("RequestContentAndWebViewRefresh"),a.updateUserRPSToken=new i.a("UpdateUserRPSToken")},"bPP+":function(e,t){},bTI0:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("1I/+"),a=n("Gy7L"),o=n("o1qX"),r=n("qGiF"),s=n("qibw"),c=n("OnwC"),d=n("ERkP"),l=n.n(d),u=n("7nmT"),h=n.n(u),p=n("DSvr"),g=n.n(p);class m extends c.a{constructor(e){super(e),this.handledProps={anchor:void 0,autoFlipX:void 0,autoFocus:void 0,children:void 0,enable:void 0,enableVerticalPlacement:void 0,left:void 0,managedClasses:void 0,offset:void 0,onDismiss:void 0,requestContext:void 0,staticPosition:void 0,top:void 0,zIndex:void 0,topImmutable:void 0,portalElementSelector:void 0,scrollingElementSelector:void 0},this.keyDownHandler=e=>{const{onDismiss:t=(()=>null),anchor:n}=this.props;e.keyCode===a.h?(n&&n.focus(),t(e)):this.tabEventHandler(e,t,n)},this.tabEventHandler=(e,t,n)=>{if(e.keyCode===a.m&&n&&this.popOverRef.current.contains(document.activeElement)){const i=g()(this.popOverRef.current);e.shiftKey&&e.target===i[0]?(n.focus(),t(e),e.preventDefault()):e.shiftKey||e.target!==i[i.length-1]||(n.focus(),t(e))}},this.portalElement=this.props.portalElementSelector?document.querySelector(this.props.portalElementSelector):void 0,this.scrollingElement=this.props.scrollingElementSelector?document.querySelector(this.props.scrollingElementSelector):void 0,this.popOverRef=l.a.createRef(),this.state={width:0,height:0}}componentDidMount(){if(this.popOverRef&&this.popOverRef.current){const{width:e,height:t}=this.popOverRef.current.getBoundingClientRect();this.setState({width:e,height:t})}else!this.props.enable&&this.state.width&&this.state.height&&this.setState({width:0,height:0})}componentDidUpdate(){if(this.popOverRef&&this.popOverRef.current){!this.props.autoFocus||document.activeElement&&this.popOverRef.current.contains(document.activeElement)||this.popOverRef.current.focus();const{width:e,height:t}=this.popOverRef.current.getBoundingClientRect();e===this.state.width&&t===this.state.height||this.setState({width:e,height:t})}else!this.props.enable&&this.state.width&&this.state.height&&this.setState({width:0,height:0})}render(){const{enable:e,managedClasses:t,staticPosition:n,zIndex:i}=this.props;if(!e)return null;let a=null;const s=null!=i?{zIndex:i}:{};return a=this.popOverRef&&this.popOverRef.current?l.a.createElement(r.a,null,({direction:e})=>l.a.createElement("div",Object.assign({},this.unhandledProps(),{onKeyDown:this.keyDownHandler,tabIndex:0,ref:this.popOverRef,className:Object(o.a)(t.popOver,[t.popOverWithVerticalPlacement,this.props.enableVerticalPlacement]),style:Object.assign(Object.assign({},this.getPlacementStyle(e)),s)}),this.props.children)):l.a.createElement("div",Object.assign({},this.unhandledProps(),{tabIndex:0,ref:this.popOverRef,style:s,className:t.popOverPlaceholder}),this.props.children),n?a:h.a.createPortal(a,this.portalElement||document.body)}getPlacementStyle(e){let{left:t,top:n,offset:a,anchor:o,topImmutable:r,enableVerticalPlacement:c}=this.props;const{autoFlipX:d}=this.props,l=this.props.requestContext&&Object(i.b)(this.props.requestContext.data.innerWidth,"innerWidth")||window.document.documentElement.offsetWidth;let u;if(o&&(void 0===t&&void 0===n||c)){const i=o.getBoundingClientRect(),r=m.determineAnchorPosition(this.scrollingElement?this.scrollingElement.scrollTop:window.scrollY,this.scrollingElement?this.scrollingElement.scrollLeft:window.scrollX,i.top,i.left,e,this.scrollingElement?this.scrollingElement.offsetWidth-this.scrollingElement.scrollWidth:l-document.body.offsetWidth,this.scrollingElement?this.scrollingElement.getBoundingClientRect():void 0);t=r.left,n=r.top,a=i.width,u=i.height}const{width:h,height:p}=this.state;if(c)return m.getPlacementStylesForVerticalPlacement(n,t,u||0,a,p,h,this.scrollingElement?this.scrollingElement.scrollTop+this.scrollingElement.offsetHeight:window.innerHeight+window.scrollY,e);{const i=window.document&&window.document.documentElement&&window.document.documentElement.offsetHeight;!r&&i&&n+p>i&&(n=i-p-a);const o={top:n,right:l-t},c={top:n,left:t+a},[u,g]=e===s.a.rtl?[o,c]:[c,o],m=(u.left||u.right)+h<l,b=(g.left||g.right)+h<l;return d&&!m&&b?g:u}}}m.determineAnchorPosition=(e,t,n,i,a,o,r)=>r?{top:n-r.top+e,left:i-r.left+t-(a===s.a.rtl?o:0)}:{top:n+e,left:i+t-(a===s.a.rtl?o:0)},m.getPlacementStylesForVerticalPlacement=(e,t,n,i,a,o,r,c)=>{const d=e+n+a<r,l=c===s.a.ltr?t-o+i:t;return d?{top:e+n,left:l}:{top:e-a,left:l}};var b=m,f=n("+viU");const C={popOver:{"animation-duration":"0.367s","animation-fill-mode":"both","animation-name":"fadeIn, slideIn","animation-timing-function":"cubic-bezier(0.1, 0.9, 0.2, 1)",position:"absolute","z-index":""+n("0fst").a.Flyout,"&:focus":{outline:"none"}},popOverPlaceholder:{left:"50%",top:"50%",position:"absolute",visibility:"hidden"},popOverWithVerticalPlacement:{"max-width":"288px"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes slideIn":{from:{transform:"translate3d(0px, -10px, 0px)"},to:{transform:"translate3d(0px, 0px, 0px)"}}},v=Object(f.a)(C)(b)},bqTr:function(e,t){},c1hv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("eQbu");function a(e,t){return(e&t)===t}function o(e){return e&&e[0]}let r=-1;Object(i.a)(()=>{r=-1})},cMsr:function(e,t,n){"use strict";n.r(t),n.d(t,"MyBriefRiverCard",(function(){return Oe})),n.d(t,"MyBriefRiverCardActions",(function(){return z})),n.d(t,"MyBriefRiverCardConnector",(function(){return fe})),n.d(t,"MyBriefRiverCardReducer",(function(){return ye})),n.d(t,"ToolingInfo",(function(){return we}));var i=n("+viU"),a=n("gQ8m"),o=n("5mwN"),r=n("0fst"),s=n("Fao1"),c=n("e0li"),d=n("lWfA"),l=n("qBHm"),u=n("pCrc"),h=n("xDbA"),p=n("NS3c"),g=n("fIer"),m=n("XI4f"),b=n("1I/+"),f=n("Fpjf"),C=n("CiAa"),v=n("qGiF"),y=n("OnwC"),S=n("scFN"),O=n("ERkP"),w=n.n(O),x=n("x0nu"),j=n("SP+O"),R=n("rRWH");const P={button:{height:"20px",width:"25px"}};var A=n("mObi"),k=n("o1qX");class I extends y.a{constructor(e){super(e),this.handledProps={articleCard:void 0,articleTelemetryTag:void 0,buttonTelemetryTag:void 0,managedClasses:void 0,onClickActionMenu:void 0,onHideSuccess:void 0,onStatusChange:void 0,requestContext:void 0,enableProngOneContentCard:void 0,enableRichSocialReactions:void 0,moreOptionsButtonAriaLabel:void 0},this.render=()=>{const{managedClasses:e}=this.props;return w.a.createElement("div",{className:e.container,onMouseEnter:()=>this.onMouseOver(!0),onMouseLeave:()=>this.onMouseOver(!1),onFocusCapture:()=>this.onMouseOver(!0),onBlurCapture:()=>this.onMouseOver(!1)},this.renderContent(),this.renderFooter())},this.onMouseOver=e=>{this.setState({attributionEndActionsVisible:e})},this.getPublishedTimeDiff=()=>Object(A.a)(e=>{if(!e)return;let t=(Date.now()-new Date(e).getTime())/1e3/60;return t<60?Math.floor(t)+"m":(t/=60,t<24?Math.floor(t)+"h":(t/=24,Math.floor(t)+"d"))}),this.handleActionMenuClick=e=>{const{articleCard:{id:t,locale:n,provider:i,title:a,url:o,cardActionsStatus:r},onClickActionMenu:s,onHideSuccess:c,onStatusChange:d}=this.props,l=r||{Like:g.a.None,Hide:!1,Save:!1};s({article:{headlineTitle:a,href:o,id:t,image:null,provider:{id:i&&i.id,name:i&&i.name,image:{alt:i&&i.name,src:i&&i.logoUrl}}},buttonElement:e.currentTarget,cardStatus:l,enabled:!0,isUserStoryCardAction:!1,locale:n,onHideSuccess:c,onStatusChange:e=>{d(t,e)},useTelemetryTags:!0})},this.state={attributionEndActionsVisible:!1}}renderImage(){const{articleCard:{images:e,title:t},managedClasses:n,requestContext:i,enableProngOneContentCard:a}=this.props;if(a)return;let o;if(e&&e.length>0){const n=Object(b.b)(i.data.devicePixelRatio,"devicePixelRatio");o={src:Object(f.e)(e[0].url,{width:65,height:65,focalRegion:e[0].focalRegion,enableDpiScaling:!0,devicePixelRatio:n}),alt:t}}return w.a.createElement("div",null,o&&w.a.createElement(u.a,Object.assign({},o,{className:n.imageClass})))}renderContent(){const{articleCard:{title:e,url:t},managedClasses:n}=this.props;return w.a.createElement("div",{className:n.contentContainer},w.a.createElement("div",{className:n.contentContainerWithImage},this.renderAttribution(),w.a.createElement(C.default,Object.assign({target:"_blank",href:t,className:n.title},this.props.articleTelemetryTag,{"aria-label":e,title:e}),w.a.createElement(s.a,{className:n.titleHeading,size:c.a._7},e))),this.renderImage())}renderAttribution(){const{articleCard:{provider:e,publishedDateTime:t,socialBarProps:n},managedClasses:i,enableRichSocialReactions:a,moreOptionsButtonAriaLabel:o}=this.props,{attributionEndActionsVisible:r}=this.state;return w.a.createElement("div",{className:i.attributionContainer},w.a.createElement("div",{className:Object(k.a)(i.attributionStartActions,[i.attributionStartActionsFocus,r])},e&&e.logoUrl&&w.a.createElement("img",{className:i.providerLogo,src:e.logoUrl}),e&&e.name&&w.a.createElement("span",{className:i.attribution},e.name),e&&e.name&&t&&w.a.createElement("span",{className:i.attributionSeparator},"·"),t&&w.a.createElement("span",{className:i.attributionPublishedDateTime},this.getPublishedTimeDiff()(t))),w.a.createElement("div",{className:i.attributionEndActions},a&&w.a.createElement("span",{className:i.attributionSocialBar,style:r?{opacity:1}:{opacity:0,width:"0px"}},w.a.createElement("div",{style:{zoom:"0.9"}},w.a.createElement(x.a,Object.assign({},n,{useLabelStyle:!0,likeButtonVisible:!0,hideCommentCount:!0}))),w.a.createElement("span",{className:i.attributionEndActionsSeparator})),w.a.createElement("span",{className:i.actionMenuContainer,style:r?{opacity:1}:{opacity:0}},w.a.createElement(h.a,Object.assign({jssStyleSheet:P,appearance:p.a.stealth,onClick:this.handleActionMenuClick},this.props.buttonTelemetryTag,{"aria-label":o}),w.a.createElement(v.a,null,e=>w.a.createElement(S.a,{fill:Object(m.a)(e)}))))))}renderFooter(){return null}}const E=Object(i.a)(e=>({actionMenuContainer:{color:m.a,"z-index":"2","justify-content":"flex-end",display:"flex"},attribution:{"vertical-align":"top"},attributionPublishedDateTime:{"vertical-align":"top"},attributionContainer:{color:m.a,display:"flex","justify-content":"space-between","max-width":"272px","font-size":"12px","padding-bottom":"4px",height:"16px"},attributionStartActions:{display:"block",cursor:"default",overflow:"hidden","align-items":"center"},attributionEndActions:{display:"flex"},attributionSocialBar:{display:"flex","align-items":"center","white-space":"nowrap"},attributionSeparator:{margin:"0 3px","vertical-align":"top"},container:{display:"flex","flex-direction":"column"},contentContainer:{display:"flex","flex-direction":"row","justify-content":"space-between"},contentContainerWithImage:{display:"flex","flex-direction":"column",width:"100%"},imageClass:{"border-radius":"4px","min-height":"65px","min-width":"65px"},title:{"&:hover, &:focus":{"border-bottom":"none","text-decoration":"underline",cursor:"pointer !important"},margin:"0px 10px 8px 0px",overflow:"hidden","text-decoration":"none",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"2",color:j.c},titleHeading:{cursor:"pointer !important"},providerLogo:{height:"16px",width:"16px",[Object(R.b)("margin-right","margin-left",e.direction)]:"8px","border-radius":"4px"},attributionEndActionsSeparator:{border:"1px solid "+Object(m.a)(e),height:"11px",[Object(R.b)("margin-left","margin-right",e.direction)]:"8px",opacity:"0.09"},attributionStartActionsFocus:{display:"block","background-image":`linear-gradient(to right, ${Object(m.a)(e)}, transparent)`,"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent"}}))(I);var M=n("Am8i"),T=n("7b0X"),_=n("objN"),F=n("odxL"),N=n("LD6M"),H=n("MZhw"),L=n("X9F+");const D={body:{color:j.c,display:"flex","flex-direction":"column","justify-content":"space-between","list-style-type":"none",margin:"0px",padding:"0px",height:"calc(100% - 50px)","& button:focus-visible":Object.assign({border:"1px solid","border-color":T.a},_.y)},headingContainer:{display:"flex","justify-content":"space-between","margin-bottom":"18px"},myBriefRiverCardContainer:{"box-sizing":"border-box",padding:"16px"},title:{"&&":{color:F.d,display:"inline","font-size":"12px"}}},B={contextMenuItem:{border:"none",background:"none","&:hover":{background:N.b},"&:not(:hover)":{background:"none"}},contextMenu:{border:"none","border-radius":"4px","box-shadow":"0 2.4px 7.2px rgba(0, 0, 0, 0.18), 0 12.8px 28.8px rgba(0, 0, 0, 0.22)","min-width":"240px","max-width":"320px",padding:"7px 0",background:H.d},settingButton:{background:L.b,"border-radius":"16px",width:"24px",height:"24px"},settingButtonIcon:{fill:j.a,width:"12.5px"}};class W extends o.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},o.b),{articles:void 0,children:void 0,customField:void 0,experienceName:void 0,height:void 0,hintDialogProps:void 0,localizedStrings:void 0,managedClasses:void 0,onClickActionMenu:void 0,onClickHint:void 0,onExperienceMilestoneTimingUpdate:void 0,onHideSuccess:void 0,onStatusChange:void 0,tag:void 0,width:void 0,riverCardTelemetryObject:void 0,enableProngOneContentCard:void 0,enableRichSocialReactions:void 0,menuItems:void 0}),this.renderHeader=()=>{const{enableProngOneContentCard:e,localizedStrings:{headingText:t,headlinesText:n},managedClasses:i}=this.props;return w.a.createElement("div",{className:i.headingContainer},w.a.createElement(s.a,{className:i.title,size:c.a._7},e?n.toUpperCase():t.toUpperCase()))},this.renderBody=()=>{const{articles:e,managedClasses:t}=this.props;if(e)return w.a.createElement("ol",{className:t.body},e.map(this.renderArticle))},this.renderArticle=e=>{const{onClickActionMenu:t,onHideSuccess:n,onStatusChange:i,requestContext:a,riverCardTelemetryObject:o,enableProngOneContentCard:r,enableRichSocialReactions:s,localizedStrings:c}=this.props,{moreOptionsButtonAriaLabel:d}=c,l=o?o.addOrUpdateChild({name:"MyBriefRiverCardArticle",behavior:M.b.Navigate,content:{id:e.id,brand:e.provider?e.provider.name:"",headline:e.title,vertical:e.category,category:e.category},destinationUrl:e.url,feed:{id:e.feed?e.feed.id:""}}).render():null,u=o?o.addOrUpdateChild({name:"MyBriefRiverCardEllipsis",behavior:M.b.More}).render():null;return w.a.createElement("li",{key:e.id},w.a.createElement(E,{articleCard:e,onClickActionMenu:t,onHideSuccess:n,onStatusChange:i,articleTelemetryTag:l,buttonTelemetryTag:u,requestContext:a,enableProngOneContentCard:r,enableRichSocialReactions:s,moreOptionsButtonAriaLabel:d}))},this.renderDialog=()=>{const{menuItems:e}=this.props;if(e&&e.length)return w.a.createElement("div",null,w.a.createElement(l.a,{zIndex:r.a.Above+5,jssStyleSheet:B,enabled:!0,menuItems:e,requestContext:this.props.requestContext}))}}render(){super.render();const{height:e,managedClasses:t,tag:n,width:i}=this.props;return w.a.createElement(d.a,Object.assign({},this.unhandledProps(),{className:t.myBriefRiverCardContainer,height:e,tag:n,width:i}),this.renderHeader(),this.renderBody())}}W.defaultProps={experienceName:"MyBriefRiverCard"};var U=n("G82u");class z{}z.contentHasLoaded=new U.a("ContentHasLoaded"),z.toggleHintDialog=new U.a("ToggleHintDialog"),z.updateSocialBarData=new U.a("updateSocialBarData");var $=n("WsQ+"),G=n("D57K"),q=n("XG5Y"),V=n("wUxM"),K=n("/tlR"),J=n("9J8d"),X=n("rGfm"),Q=n("zfSW"),Y=n("rvYQ"),Z=n("u5KZ"),ee=n("3ZGc"),te=n("YJhp");const ne={inspect:e=>{const{config:t,state:n,connectorArgs:i}=e,{localizedStrings:a,enableRichSocialReactions:o}=t,{height:r,isHintDialogVisible:s,width:c}=n,{onClickActionMenu:d,onClickHint:l,onClickInterestsNav:u,onClickReadingHistory:h,onHideSuccess:p,onStatusChange:g,riverCardTelemetryObject:m}=i,b={articles:n.articles.map(e=>Object.assign(Object.assign({},e),{socialBarProps:o?ie(e.socialBarData,t,i):void 0})),height:Object(ee.a)(r),hintDialogProps:{isVisible:s,localizedStrings:a,onToggleVisible:l,onClickNav:u,onClickReadingHistory:h},localizedStrings:a,onClickActionMenu:d,onClickHint:l,onHideSuccess:p,onStatusChange:g,width:Object(ee.a)(c),riverCardTelemetryObject:m,enableProngOneContentCard:i.enableProngOneContentCard,enableRichSocialReactions:t.enableRichSocialReactions,menuItems:[{key:"hideCard",text:a.hideCardText.replace("{0}",i.enableProngOneContentCard?a.headlinesText.toLowerCase():a.headingText.toLowerCase()),icon:te.b.HideV2,telemetryTag:i.telemetryObject?i.telemetryObject.addOrUpdateChild({name:"myBriefRiverCard_hideCard",content:{headline:"myBriefRiverCard_hideCard"},type:M.e.ActionButton}).render():null,onSelect:e=>{Z.a.sendActionEvent(e.currentTarget,M.a.Click,M.b.Navigate),i.enableProngOneContentCard?window.open(`https://www.msn.com/${Object(Y.c)().CurrentMarket}/feed/personalize`,"_blank"):b.hintDialogProps.onClickNav()}}]};return{props:b,missingChildren:[]}}};function ie(e,t,n){const{localizedStrings:i}=t;return Object.assign(Object.assign({},e),{market:Object(Y.c)().CurrentMarket,onReaction:n.onReaction,localizedStrings:Object.assign({},i),mainTelemetryObject:n.riverCardTelemetryObject?n.riverCardTelemetryObject:null})}var ae=n("HxRh"),oe=n("C4R5"),re=n("TRvk"),se=n("860H"),ce=n("l+Jz"),de=n("KaPL"),le=n("WfnD"),ue=n("s9+9"),he=n("+qLX"),pe=n("b3T/"),ge=n("w0HK"),me=n("DCIk");let be=4;class fe extends le.a{constructor(e,t,n,i,a,o,r){super(e,t,n,i,a,o,r),this.supportedRiverCardSizes=de.a.Size1Wx9H,this.enableProngOneContentCard=!1,this.fetchContent=e=>Object(G.b)(this,void 0,void 0,(function*(){const t=[this.dailyBriefServiceClient.getDailyBriefArticles(8)];this.canUseWebWorker()&&!e&&t.push(this.fetchContentFromWebWorker());const n=yield Promise.race(t);this.processContent(n)})),this.processContent=e=>{e&&e.length?(e.forEach(e=>{e.socialBarData=re.b.mapFeedResponseToSocialBarData(`${e.id}_${e.locale}`,e.myReaction,e.reactionSummary,e.commentSummary)}),z.contentHasLoaded.getActionSender(this).send(e.slice(0,be)),this.extraArticles=e.slice(be).filter(e=>!this.hiddenArticles.some(t=>t===e.id))):Z.a.sendAppErrorEvent(Object.assign(Object.assign({},ae.id),{message:"Briefing call returned an empty or null response",pb:Object.assign(Object.assign({},ae.id.pb),{customMessage:"Attempting to make the initial service call for My Briefing"})}))},this.fetchContentFromWebWorker=()=>new Promise(e=>{Object(Q.a)({id:ce.a.MyBriefing},1e3).then(t=>{const n=t.payload;t.fetched&&n&&e(n)})}),this.onClickActionMenu=e=>{q.b.Init.getGlobalActionSender().send(e)},this.onClickHint=()=>{z.toggleHintDialog.getActionSender(this).send()},this.onClickInterestsNav=()=>{this.handleInterestsNavigation()},this.onClickReadingHistory=()=>{this.handleInterestsNavigation(!0)},this.onStatusChange=(e,t)=>{if(!t)return;const n=this.getCurrentState().articles;if(!n)return void this.fetchContent(!0);const i=n.find(t=>e===t.id);i&&i.cardActionsStatus&&!Object(me.a)(i.cardActionsStatus,t)&&pe.a.requestContentAndWebViewRefresh.getActionSender(this).send(!0),z.contentHasLoaded.getActionSender(this).send(n.map(n=>(n.id===e&&(n.actions=[],t.Like===g.a.Like&&n.actions.push(V.b.Like),t.Hide&&n.actions.push(V.b.HideStory),t.Save&&n.actions.push(V.b.Save),n.cardActionsStatus=t),n)))},this.onReaction=(e,t,n)=>{const i=e.split("_")[0];z.updateSocialBarData.getActionSender(this).send(i,t,n),se.a.sendContentReaction(e,t,n)},this.onHideSuccess=e=>Object(G.b)(this,void 0,void 0,(function*(){this.hiddenArticles.push(e);let t=this.getCurrentState().articles;if(t)return(!this.extraArticles||this.extraArticles.length<1)&&(yield this.fetchExtraContent(t)),t=t.map(t=>t.id!==e?t:this.extraArticles&&this.extraArticles.length?this.extraArticles.shift():void 0).filter(e=>!!e),z.contentHasLoaded.getActionSender(this).send(t),0===this.extraArticles.length?this.fetchExtraContent(t):void 0;this.fetchContent(!0)})),this.fetchExtraContent=e=>Object(G.b)(this,void 0,void 0,(function*(){const t=yield this.dailyBriefServiceClient.getDailyBriefArticles(8);t&&t.length?this.extraArticles=t.filter(t=>!this.hiddenArticles.some(e=>e===t.id)&&!e.some(e=>e.id===t.id)):Z.a.sendAppErrorEvent(Object.assign(Object.assign({},ae.id),{message:"Briefing call returned an empty or null response",pb:Object.assign(Object.assign({},ae.id.pb),{customMessage:"Attempting to get extra articles for My Briefing"})}))})),this.handleInterestsNavigation=(e=!1)=>{const{interestPivotInfo:t}=this.config,n={isRequestForReadingHistory:e};this.useRouter?Object(oe.d)().pushHistory(oe.b.Personalize,"",n):t?Object(ge.a)().switchPivot({pivotId:t.pivotId,configIndexHref:t.configIndexHref,configIndexRef:t.configIndexRef,telemetryPageName:he.a.Interests,display:t.displayName,context:n}):Z.a.sendAppErrorEvent(Object.assign(Object.assign({},ae.jd),{message:"Interest Pivot Info config option is missing",pb:Object.assign(Object.assign({},ae.jd.pb),{customMessage:"Config: "+JSON.stringify(this.config)})}))},this.canUseWebWorker=()=>Q.b,this.dailyBriefServiceClient=new K.a,this.hiddenArticles=[]}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{onClickActionMenu:this.onClickActionMenu,onClickHint:this.onClickHint,onClickInterestsNav:this.onClickInterestsNav,onClickReadingHistory:this.onClickReadingHistory,onHideSuccess:this.onHideSuccess,onStatusChange:this.onStatusChange,riverCardTelemetryObject:this.telemetryObject,enableProngOneContentCard:this.enableProngOneContentCard,onReaction:this.onReaction}},n=ne.inspect(t);return Object.assign(Object.assign({},n.props),this.telemetryTags)}onComponentConnect(e){return Object(G.b)(this,void 0,void 0,(function*(){yield le.a.prototype.onComponentConnect.call(this,e);const{serviceContextMetadata:t}=e||{};t&&t.subCards?(this.enableProngOneContentCard=!0,this.supportedRiverCardSizes=de.a.Size1Wx6H,be=3,this.processContent(t.subCards)):(X.a.refreshRiver.registerObserver(()=>this.fetchContent(!0)),this.fetchContent(!1));const n=J.a.getInstance().rootReducer.connector(ue.a.SharedState);this.useRouter=n&&n.getCurrentState().useHistory}))}}var Ce=n("05Au"),ve=n("5p4t");class ye{reduce(e,t){if(!e)return{articles:[],isHintDialogVisible:!1};if(!t)return e;let n,i=!1;return i=i||Ce.a.handleAction(t,z.contentHasLoaded,t=>{n=Object.assign(Object.assign({},e),{articles:t})}),i=i||Ce.a.handleAction(t,z.toggleHintDialog,()=>{n=Object.assign(Object.assign({},e),{isHintDialogVisible:!e.isHintDialogVisible})}),i=i||Ce.a.handleAction(t,ve.a.changeCardSize,(t,i,a)=>{e.height===a&&e.width===i||(n=Object.assign(Object.assign({},e),{height:a,width:i}))}),i=i||Ce.a.handleAction(t,z.updateSocialBarData,(t,i,a)=>{const o=[...e.articles],r=o.filter(e=>e.id===t);if(r.length){const{socialBarData:e}=r[0],t=a?void 0:i,n=e.myReaction;e.myReaction=t,a||(e.reactionCounts[i]=e.reactionCounts[i]+1),(a||n)&&(e.reactionCounts[n]=e.reactionCounts[n]-1)}n=Object.assign(Object.assign({},e),{articles:o})}),n||e}}var Se=n("/o8t");const Oe=Object(i.a)(D)(W),we={reactComponent:Oe,experienceConfigSchema:$.MyBriefRiverCardConfigSchema,defaultMockState:a.mockDefaultState,mockState:a.mockState,mockConfig:Se.mockConfig,inspector:ne.inspect}},egFJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("8AuO"),a=n("+viU"),o=n("0NrY");const r=Object(a.a)(o.a)(i.a)},fIer:function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.None="none",e.Like="like",e.DisLike="dislike"}(i||(i={})),function(e){e.None="none",e.ShowMore="showMore",e.ShowFewer="showFewer"}(a||(a={}))},ffy4:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return S}));var i=n("Zn5T"),a=n("LJMo");const{bingVideoCard:o,complexContentPreview:r,contentPreview:s,infopane:c,externalContentPreview:d,spotlightPreview:l,tabbedInfopane:u,displayAdsWithContentFallback:h,tabbedInfopaneTabPreview:p,moneyInfoCard:g,myBriefRiverCard:m,trafficCard:b,weatherInfoCard:f,sportsMatchupCard:C,shoppingCarousel:v}=i.a,y={[a.a.Article]:s,[a.a.Slideshow]:s,[a.a.Video]:s,[a.a.Spotlight]:l,[a.a.Infopane]:c,[a.a.HalfPane]:r,[a.a.HeadToHead]:r,[a.a.Mosaic]:r,[a.a.Triptych]:r,[a.a.DenseList]:r,[a.a.WebContent]:d,[a.a.ExternalLink]:d,[a.a.TabbedInfopane]:u,[a.a.TabbedInfopaneTab]:p,[a.a.BackFillContent]:h,[a.a.BingVideo]:o,[a.a.StockQuote]:g,[a.a.MyBriefRiverCard]:m,[a.a.TopStories]:m,[a.a.WeatherSummary]:f,[a.a.ShoppingMerchantCategoryDeals]:v,[a.a.SportsMatch]:C,[a.a.TrafficDelays]:b};function S(e){if(!e)return y;const t=Object.assign({},y);for(const n in e)void 0!==t[n]&&Object.values(i.a).includes(e[n])&&(t[n]=e[n]);return t}},gQ8m:function(e,t){},ggrA:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var i=n("+viU"),a=n("7FLv"),o=n("8yfO"),r=n("MF9s"),s=n("mDtb"),c=n("XI4f"),d=n("SP+O"),l=n("objN"),u=n("PfRV"),h=n("LD6M"),p=n("3ZGc"),g=n("AuhI"),m=n("fz//"),b=n("rRWH"),f=n("iuMt"),C=n("DOGQ");const v={display:"inline-flex","align-items":"center"};var y={contentCard:{position:"relative",overflow:"hidden",display:"flex","flex-direction":"column","&:hover":Object.assign(Object.assign({},Object(a.b)(a.a.e6)),{"& $contentCard_headingContent":{"text-decoration":"underline"},"& $contentCard_image":{opacity:".9"}})},contentCard_positioningRegion:{height:"100%",display:"flex","flex-direction":"column"},contentCard_abstract:Object.assign(Object.assign({position:"relative","margin-top":"6px","min-height":Object(p.a)(9*o.h.t7.lineHeight)},Object(g.a)(9,o.h.t7.lineHeight)),{"&::after":{"box-shadow":Object(m.a)("inset 0 -20px 30px 0 {0}",r.k),margin:"0 -20px",width:"calc(100% + 40px)",height:"60px"}}),contentCard_attributionRegion:Object.assign(Object.assign({},v),{"box-sizing":"border-box","align-self":"flex-end",padding:`8px ${Object(p.a)(16)} ${Object(p.a)(16)}`,width:"100%","max-height":Object(p.a)(42)}),contentCard_attribution:{"& + $contentCard_timestamp":{"& > span":{"margin-left":Object(b.c)("6px",""),"margin-right":Object(b.c)("","6px")}}},contentCard_timestamp:Object.assign(Object.assign(Object.assign(Object.assign({},Object(o.d)("t8")),Object(s.c)()),v),{color:c.a}),contentCard_contentRegion:{display:"flex","flex-direction":"row","flex-wrap":"wrap","align-content":"flex-start",padding:`${Object(p.a)(12)} ${Object(p.a)(16)} 0`,"max-height":`calc(100% - ${Object(p.a)(42)})`},contentCard_heading:Object.assign({display:"block","text-decoration":"none",transition:"all .2s ease-in-out",width:"100%","&::after":{top:"0",right:"0","z-index":"1"}},Object(f.a)("& $contentCard_headingContent",{"text-decoration":"underline"})),contentCard_headingContent:Object.assign({},Object(s.d)()),contentCard_imageRegion:{position:"relative",display:"inline-flex","align-self":"flex-start",background:Object(d.c)(()=>C.b)},contentCard_image:{opacity:"1"},contentCard_icon:Object.assign({width:"24px",height:"24px",fill:C.b},l.o),contentCard_iconWrapper:Object.assign(Object.assign({position:"absolute"},v),{width:"48px",height:"48px","justify-content":"center","border-radius":"50%",background:"rgba(0,0,0,0.4)","margin-left":Object(b.c)("12px",""),"margin-right":Object(b.c)("","12px"),bottom:"8px"}),contentCard_kicker:Object.assign({position:"relative",overflow:"auto",display:"flex","margin-bottom":"4px","z-index":"2","text-decoration":"none",background:"none",border:"none",padding:"0","font-family":"inherit","&:hover":{"& $contentCard_kickerContent":{"text-decoration":"underline"}}},Object(f.a)("& $contentCard_kickerContent",{"text-decoration":"underline"})),contentCard_kickerRegion:{display:"grid","grid-template-columns":"1fr auto",width:"100%"},contentCard_curatedBy:{"margin-left":Object(b.c)("auto",""),"margin-right":Object(b.c)("","auto"),"max-height":"20px"},contentCard_kickerContent:{color:c.a,transition:"all .2s ease-in-out"},contentCard_actionIcon__trigger:{"box-sizing":"border-box"},contentCard_menuGlyph:{},contentCard__hideHeadingHover:{"&:hover":{"& $contentCard_headingContent":{"text-decoration":"none"}}},contentCard__imagePriority:{},contentCard_actionRegion:{display:"inline-flex",position:"absolute",right:Object(b.c)(Object(p.a)(16),""),left:Object(b.c)("",Object(p.a)(16)),bottom:"8px","z-index":"2","flex-grow":"1","justify-content":"flex-end"},contentCard_actionIcon:{height:"32px",width:"32px","margin-left":Object(b.c)("4px",""),"margin-right":Object(b.c)("","4px")},contentCard__1x_1y:{"& $contentCard_positioningRegion":{"flex-direction":"row"},"& $contentCard_contentRegion":{flex:"1"},"& $contentCard_imageRegion":{order:"2","margin-top":Object(p.a)(16),"margin-right":Object(b.c)(Object(p.a)(16),""),"margin-left":Object(b.c)("",Object(p.a)(16))},"& $contentCard_iconWrapper":{width:"32px",height:"32px","margin-right":Object(b.c)("8px",""),"margin-left":Object(b.c)("","8px")},"& $contentCard_icon":{width:"16px",height:"16px"},"& $contentCard_imageRegion, & $contentCard_image":Object.assign({},Object(u.b)())},contentCard__1x_2y:{},contentCard__1x_3y:{},contentCard_obscuredRegion:{"&::after":{content:'""',position:"absolute",bottom:"0",left:"0"}},contentCard__2x_2y:{"& $contentCard_imageRegion":{position:"absolute","&::after":{background:Object(m.a)("linear-gradient(0deg, {0} 0, transparent 100%)",()=>C.a),height:"190px",width:"100%"},"& + $contentCard_contentRegion":{position:"static","margin-top":"auto","& $contentCard_headingContent":{color:C.b},"& $contentCard_kicker, & $contentCard_curatedBy":{position:"absolute",top:"24px",left:Object(b.c)("24px",""),right:Object(b.c)("","24px")},"& $contentCard_iconWrapper":{"border-color":C.b},"& $contentCard_icon":{fill:C.b}}},"& $contentCard_curatedBy":{"margin-left":Object(b.c)("0",""),"margin-right":Object(b.c)("","0")},"& $contentCard_iconWrapper":{display:"inline-block",bottom:"auto",background:"none",width:"auto",height:"30px","border-radius":"0","border-left":Object(b.c)("2px solid",""),"border-right":Object(b.c)("","2px solid"),"border-color":d.c,position:"relative","vertical-align":"middle"},"& $contentCard_icon":{"margin-left":Object(b.c)("10px",""),"margin-right":Object(b.c)("","10px"),display:"block","margin-top":"2px"},"& $contentCard_contentRegion":{"z-index":"1"},"& $contentCard_attributionRegion":{position:"relative",padding:`${Object(p.a)(12)} ${Object(p.a)(16)} ${Object(p.a)(26)}`},"& $contentCard_actionIcon__trigger":{bottom:"18px"},"&$contentCard__imagePriority":{"& $contentCard_attributionRegion":{"& $contentCard_timestamp, & $contentCard_attribution > span":{color:C.b}},"& $contentCard_actionIcon":Object.assign(Object.assign(Object.assign({"background-color":"transparent"},l.f),{"& $contentCard_menuGlyph":Object.assign({fill:C.b},l.o),"&:hover":Object.assign(Object.assign({"background-color":Object(h.b)(()=>C.a)},l.p),{"& $contentCard_menuGlyph":Object.assign({},l.B)}),"&:active":{background:Object(h.a)(()=>C.a)}}),Object(f.a)(Object.assign(Object.assign({"background-color":Object(h.b)(()=>C.a),"border-color":C.b,"box-shadow":Object(m.a)("inset 0 0 0 1px {0}",()=>C.b)},l.p),{"& $contentCard_menuGlyph":Object.assign({},l.B)})))}}},S=n("ERkP"),O=n.n(S),w=n("OnwC"),x=n("egFJ"),j=n("FPTP"),R=n("idb7"),P=n("4YCp"),A=n("uhNu"),k=n("mwRD"),I=n("y2Il"),E=n("U6fx"),M=n("CiAa"),T=n("gQ7Y"),_=n("scFN"),F=n("Gcx/"),N=n("L+J7"),H=n("XJ1h"),L=n("mObi"),D=n("o1qX"),B=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n};class W extends w.a{constructor(e){super(e),this.handledProps={abstract:void 0,attribution:void 0,curatedBy:void 0,destination:void 0,icon:void 0,heading:void 0,headingMaxLines:void 0,height:void 0,image:void 0,imagePriority:void 0,kicker:void 0,layout:void 0,likeIcon:void 0,managedClasses:void 0,menuTrigger:void 0,saveIcon:void 0,timestamp:void 0,width:void 0},this.handleSecondaryActionHover=()=>{this.setState({hideHeadingHover:!this.state.hideHeadingHover})},this.handleMenuTriggerClick=e=>{Object(H.a)(this.props.menuTrigger)||"function"!=typeof this.props.menuTrigger.onInvoke||this.props.menuTrigger.onInvoke(e)},this.state={hideHeadingHover:!1}}render(){return O.a.createElement(x.a,Object.assign({},this.generateAttributes(),{className:this.generateClassNames(),tag:this.props.tag}),O.a.createElement("div",{className:Object(D.a)(this.props.managedClasses.contentCard_positioningRegion)},this.renderImage(),this.renderContentArea()),this.renderAttributionRegion())}generateClassNames(){const{contentCard:e,contentCard__imagePriority:t,contentCard__hideHeadingHover:n}=this.props.managedClasses,i=this.props.imagePriority||this.props.layout===F.a._2x_2y&&!!this.props.image;return super.generateClassNames(Object(D.a)(e,[this.getClassNameByLayout(),!!this.props.layout],[t,i],[n,this.state.hideHeadingHover]))}generateAttributes(){const e=Object.assign({},this.unhandledProps());return Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},e.style),{height:this.props.height,width:this.props.width})})}getClassNameByLayout(){const{contentCard__1x_1y:e,contentCard__1x_2y:t,contentCard__1x_3y:n,contentCard__2x_2y:i}=this.props.managedClasses;switch(this.props.layout){case F.a._1x_2y:return t;case F.a._1x_3y:return n;case F.a._2x_2y:return i;case F.a._1x_1y:default:return e}}renderImage(){const{contentCard_imageRegion:e,contentCard_obscuredRegion:t,contentCard_image:n}=this.props.managedClasses;if("function"==typeof this.props.image)return O.a.createElement("div",{className:Object(D.a)(e,t)},this.props.image(Object(D.a)(n)),this.props.layout!==F.a._2x_2y?this.generateIcon():null)}renderContentArea(){return O.a.createElement("div",{className:this.props.managedClasses.contentCard_contentRegion},this.renderKickerRegion(),this.renderHeading(),this.renderAbstract())}renderKickerRegion(){if(this.props.kicker||"function"==typeof this.props.curatedBy)return O.a.createElement("div",{className:this.props.managedClasses.contentCard_kickerRegion},this.renderKicker(),this.renderCuratedBy())}renderHeading(){if(!this.props.heading)return;const e=this.getHeadingProps(),{children:t,jssStyleSheet:n}=e,i=B(e,["children","jssStyleSheet"]),{contentCard_heading:a,contentCard_obscuredRegion:o,contentCard_headingContent:r}=this.props.managedClasses;return O.a.createElement(M.default,Object.assign({},this.props.destination,{className:Object(D.a)(a,o)}),O.a.createElement(j.a,Object.assign({},i,{jssStyleSheet:W.generateHeadingMaxlines(i.size,this.props.headingMaxLines),className:Object(D.a)(r)}),t,this.props.layout===F.a._2x_2y?this.generateIcon():null))}renderAbstract(){if(!this.props.abstract||this.props.imagePriority||this.props.layout===F.a._1x_2y&&this.props.image)return;const{contentCard_abstract:e,contentCard_obscuredRegion:t}=this.props.managedClasses;return O.a.createElement(R.a,Object.assign({},this.getAbstractProps(),{className:Object(D.a)(e,t)}))}renderKicker(){if(!this.props.kicker)return;const e=this.props.kicker,{children:t}=e,n=B(e,["children"]),{contentCard_kicker:i,contentCard_kickerContent:a}=this.props.managedClasses;return O.a.createElement(T.default,Object.assign({},n,{className:Object(D.a)(i),onMouseEnter:this.handleSecondaryActionHover,onMouseLeave:this.handleSecondaryActionHover}),O.a.createElement(P.a,{className:Object(D.a)(a),filled:!1,size:A.a.small},t))}renderCuratedBy(){if("function"==typeof this.props.curatedBy)return this.props.curatedBy(this.props.managedClasses.contentCard_curatedBy)}renderAttributionRegion(){return O.a.createElement("div",{className:Object(D.a)(this.props.managedClasses.contentCard_attributionRegion)},this.renderAttribution(),this.renderTimestamp(),this.renderActionRegion())}renderAttribution(){if(this.props.attribution)return O.a.createElement(N.a,Object.assign({},this.props.attribution,{className:Object(D.a)(this.props.managedClasses.contentCard_attribution)}))}renderTimestamp(){if(this.props.timestamp)return O.a.createElement("span",{className:Object(D.a)(this.props.managedClasses.contentCard_timestamp)},this.props.attribution?O.a.createElement("span",null,"•"):null,O.a.createElement("span",null,this.props.timestamp))}renderActionRegion(){if(!this.props.saveIcon&&!this.props.likeIcon&&!this.props.menuTrigger)return;const{contentCard_actionRegion:e,contentCard_actionIcon:t,contentCard_saveIcon:n,contentCard_likeIcon:i}=this.props.managedClasses,a="function"==typeof this.props.saveIcon&&this.props.saveIcon(Object(D.a)(t,n)),o="function"==typeof this.props.likeIcon&&this.props.likeIcon(Object(D.a)(t,i));return O.a.createElement("div",{className:Object(D.a)(e),onMouseEnter:this.handleSecondaryActionHover,onMouseLeave:this.handleSecondaryActionHover},a,o,this.renderMenuTrigger())}renderMenuTrigger(){if(this.props.menuTrigger){const e=this.props.menuTrigger,{label:t,onInvoke:n}=e,i=B(e,["label","onInvoke"]),{contentCard_menuGlyph:a,contentCard_actionIcon:o,contentCard_actionIcon__trigger:r,contentCard_menuTrigger:s}=this.props.managedClasses;return O.a.createElement(k.a,Object.assign({},i,{"aria-label":t,className:Object(D.a)(o,r,s),onClick:this.handleMenuTriggerClick}),O.a.createElement(_.a,{className:Object(D.a)(a)}))}}generateIcon(){if("function"==typeof this.props.icon){const{contentCard_icon:e,contentCard_iconWrapper:t}=this.props.managedClasses;return O.a.createElement("span",{className:Object(D.a)(t)},this.props.icon(Object(D.a)(e)))}}getHeadingProps(){const e=this.props.layout!==F.a._1x_1y?I.a._5:this.props.image?I.a._7:I.a._6;return Object.assign({},{size:e},this.props.heading)}getAbstractProps(){return Object.assign({},{size:E.a._3},this.props.abstract)}}W.defaultProps={height:"163px",width:"300px",layout:F.a._1x_1y,managedClasses:{},headingMaxLines:3},W.displayName="ContentCard",W.generateHeadingMaxlines=Object(L.a)((e,t)=>({typography:Object.assign(Object.assign({},Object(g.a)(t,o.h["t"+e].lineHeight)),{"white-space":"normal",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t})}),(...e)=>e.join());var U=W;const z=Object(i.a)(y)(U)},"h/k5":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.horizontal="horizontal",e.vertical="vertical"}(i||(i={}))},hxZq:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b}));var i=n("pAXR"),a=n("k3mM"),o=n("rvYQ"),r=n("zfSW"),s=n("s9+9"),c=n("HxRh"),d=n("9J8d"),l=n("u5KZ"),u=n("l+Jz"),h=n("tWvP");const p="cbypass";function g(){const e=d.a.getInstance().rootReducer.connector(s.a.OneServiceContent);if(!e)return void(l.a&&l.a.sendAppErrorEvent(c.yd.FailedToUpdateBypassValueConnectorNotInitialized));const t=Date.now();return Object(h.a)(p,t.toString(),10/1440,o.b.HostPage.topDomain,"/"),i.a.updateCacheBypassValue.getActionSender(e).send(t),a.b.purgeCacheAsync(a.a.river).then(()=>{Object(r.c)({id:u.a.UpdateMyFeed,payload:t})})}function m(){const e=d.a.getInstance().rootReducer.connector(s.a.OneServiceContent);return e?e.getCurrentState().cacheBypassValue:0}function b(e){const t=m();t>0&&e.searchParams.set(p,t.toString())}},"iou+":function(e,t,n){"use strict";var i,a,o=n("OnwC"),r=n("h/k5"),s=n("Gy7L"),c=n("o1qX"),d=n("r6MD"),l=n("ERkP"),u=n.n(l),h=n("eGM7"),p=n("z49O"),g=n("34rd"),m=n("u4M6"),b=n("BAt3");n.o(b,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return b.AutoSuggestContext})),n.o(b,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return b.ButtonDirection})),n.o(b,"ProgressType")&&n.d(t,"ProgressType",(function(){return b.ProgressType})),n.o(b,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return b.RadioSlot})),function(e){e[e.first=0]="first",e[e.last=1]="last",e[e.previous=2]="previous",e[e.next=3]="next"}(i||(i={})),function(e){e.tab="tab",e.tabItem="tab-item",e.tabPanel="tab-panel"}(a||(a={}));class f extends o.a{constructor(e){if(super(e),this.handledProps={activeId:void 0,disableTabFocus:void 0,label:void 0,managedClasses:void 0,onUpdate:void 0,orientation:void 0,tabItemSlot:void 0,tabPanelSlot:void 0,tabSlot:void 0,items:void 0},this.renderTabItem=(e,t)=>this.props.items?this.getChildrenBySlot(e.props.children,this.getSlot(a.tab))[0]:u.a.cloneElement(this.getChildrenBySlot(e.props.children,this.getSlot(a.tab))[0],{key:e.props.id,"aria-controls":e.props.id,active:this.state.activeId===e.props.id,onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:this.state.activeId!==e.props.id?-1:0}),this.renderTabPanel=(e,t)=>this.props.items?this.getChildrenBySlot(e.props.children,this.getSlot(a.tabPanel))[0]:u.a.cloneElement(this.getChildrenBySlot(e.props.children,this.getSlot(a.tabPanel))[0],{key:e.props.id,id:e.props.id,"aria-labelledby":e.props.id,active:this.state.activeId===e.props.id}),this.handleClick=e=>{this.props.activeId?"function"==typeof this.props.onUpdate&&this.props.onUpdate(e.currentTarget.getAttribute("aria-controls")):this.setState({activeId:e.currentTarget.getAttribute("aria-controls")})},this.handleKeyDown=e=>{const t=e.keyCode;if(this.props.orientation===r.a.horizontal)switch(t){case s.c:e.preventDefault(),this.activateTab(i.previous);break;case s.d:e.preventDefault(),this.activateTab(i.next)}else switch(e.keyCode){case s.e:e.preventDefault(),this.activateTab(i.previous);break;case s.b:e.preventDefault(),this.activateTab(i.next)}switch(t){case s.i:this.activateTab(i.first);break;case s.f:this.activateTab(i.last)}},this.getCurrentIndexById=e=>e.props.id===this.state.activeId,this.tabListRef=u.a.createRef(),this.props.items)this.state={activeId:""};else{const e=u.a.Children.toArray(this.tabItems());this.state={activeId:this.props.activeId?this.props.activeId:e.length>0?Object(d.a)(e[0],"props.id"):""}}}static getDerivedStateFromProps(e,t){return e.activeId&&e.activeId!==t.activeId?{activeId:e.activeId}:null}render(){const e=this.renderTabElements(),{tabs_tabList:t,tabs_tabPanels:n}=this.props.managedClasses;return u.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),u.a.createElement("div",{role:"tablist",ref:this.tabListRef,className:Object(c.a)(t),"aria-label":this.props.label,"aria-orientation":this.props.orientation},e),u.a.createElement("div",{className:Object(c.a)(n)},this.renderTabPanels()),this.withoutSlot(a.tabItem,this.props.children))}componentDidUpdate(e){if("string"==typeof this.props.activeId&&this.props.activeId!==e.activeId&&!0!==this.props.disableTabFocus){const e=u.a.Children.toArray(this.tabItems()).findIndex(this.getCurrentIndexById);-1!==e&&Array.from(this.tabListRef.current.children)[e].focus()}}generateClassNames(){return super.generateClassNames(Object(c.a)(this.props.managedClasses.tabs))}generateTabContentClassNames(){return Object(c.a)(this.props.managedClasses.tabs_tabContent)}generateTabPanelContentClassNames(){return Object(c.a)(this.props.managedClasses.tabs_tabPanelContent)}generateTabClassNames(){const{tab:e,tab__active:t}=this.props.managedClasses;return{managedClasses:{tab:Object(c.a)(e),tab__active:Object(c.a)(t)}}}generateTabPanelClassNames(){const{tabPanel:e,tabPanel__hidden:t}=this.props.managedClasses;return{managedClasses:{tabPanel:Object(c.a)(e),tabPanel__hidden:Object(c.a)(t)}}}renderTabElements(){return u.a.Children.map(this.tabItems(),this.renderTabItem)}setActive(e,t){return this.state.activeId?this.state.activeId===e.id:0===t}tabItems(){return this.props.items?this.props.items.map((e,t)=>u.a.createElement(g.default,{key:e.id,id:e.id,slot:a.tabItem},u.a.createElement(p.default,Object.assign({},this.generateTabClassNames(),{slot:a.tab,key:e.id,"aria-controls":e.id,active:this.setActive(e,t),onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:this.setActive(e,t)?0:-1}),e.tab(this.generateTabContentClassNames())),u.a.createElement(m.default,Object.assign({},this.generateTabPanelClassNames(),{slot:a.tabPanel,key:e.id,id:e.id,"aria-labelledby":e.id,active:this.setActive(e,t)}),e.content(this.generateTabPanelContentClassNames())))):this.getChildrenBySlot(this.props.children,this.getSlot(a.tabItem))}renderTabPanels(){return u.a.Children.map(this.tabItems(),this.renderTabPanel)}activateTab(e){const t=u.a.Children.toArray(this.tabItems()),n=t.length,a=u.a.Children.toArray(t).findIndex(this.getCurrentIndexById);let o;switch(e){case i.first:o=0;break;case i.last:o=n-1;break;case i.previous:o=a>0?a-1:n-1;break;case i.next:o=a<n-1?a+1:0}const r=Object(d.a)(t[o],"props.id");this.props.activeId?"function"==typeof this.props.onUpdate&&this.props.onUpdate(r):(this.setState({activeId:r}),Array.from(this.tabListRef.current.children)[o].focus())}getSlot(e){switch(e){case a.tab:return"string"==typeof this.props.tabSlot?this.props.tabSlot:a.tab;case a.tabItem:return"string"==typeof this.props.tabItemSlot?this.props.tabItemSlot:a.tabItem;case a.tabPanel:return"string"==typeof this.props.tabPanelSlot?this.props.tabPanelSlot:a.tabPanel}}getChildrenBySlot(e,t){const n=this.filterChildren(this.withSlot(t,e));return t!==this.getSlot(a.tabItem)?n:u.a.Children.map(n,e=>this.isValidTabItem(e)?e:null)}filterChildren(e){return Array.isArray(e)?e.filter(Boolean):e}isValidTabItem(e){const t=Object(d.a)(e,"props.children");return!!this.getChildrenBySlot(t,this.getSlot(a.tab))[0]&&!!this.getChildrenBySlot(t,this.getSlot(a.tabPanel))[0]}}f.defaultProps={orientation:r.a.horizontal,disableTabFocus:!1,managedClasses:{}},f.displayName=h.DisplayNamePrefix+"Tabs",t.default=f},lWfA:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("egFJ"),a=n("OnwC"),o=n("ERkP"),r=n.n(o),s=n("mObi"),c=n("oFIr");class d extends a.a{constructor(){super(...arguments),this.generateStyles=Object(s.a)((e,t,n)=>({card:{width:e,height:t,"&&&":Object.assign({},n)},contentCard:{width:e,height:t,"&&&":Object.assign({},n)}}),(...e)=>e.join()),this.handledProps={children:void 0,height:void 0,managedClasses:void 0,width:void 0,tag:void 0}}render(){const{width:e,height:t}=this.props;return r.a.createElement(i.a,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses.cardBase),jssStyleSheet:this.generateStyles(e,t,c.a.getBoxShadowStyle()),tag:this.props.tag}),this.props.children)}}var l=d,u=n("+viU");var h={cardBase:{}};const p=Object(u.a)(h)(l)},mfUY:function(e,t,n){"use strict";n.r(t),n.d(t,"CMSAdType",(function(){return o.a})),n.d(t,"PlacementManagerActions",(function(){return s.a})),n.d(t,"PlacementManagerConnector",(function(){return be})),n.d(t,"PlacementManagerReducer",(function(){return Ce})),n.d(t,"PlacementManagerConst",(function(){return a.e})),n.d(t,"MockTemplateData",(function(){return a.d})),n.d(t,"mockConfig",(function(){return r.mockConfig})),n.d(t,"ToolingInfo",(function(){return ve})),n.d(t,"UniqueSettingsKey",(function(){return a.g})),n.d(t,"StripeTopicMap",(function(){return ue.b})),n.d(t,"TypeToIdPrefixMap",(function(){return i}));var i,a=n("C0IM"),o=n("YZCi");!function(e){e.SlideshowPreview="ss",e.ArticlePreview="ar",e.VideoPreview="vi"}(i||(i={}));var r=n("FIr4"),s=n("2ATS"),c=n("Ak5j"),d=n("D57K"),l=n("1w6q"),u=n("9J8d"),h=n("9Vdd"),p=n("Bwzq"),g=n("rvYQ"),m=n("I6Lx"),b=n("hOj1"),f=n("y+Kz"),C=n("gmMM"),v=n("neJl"),y=n("plCa"),S=n("loKy"),O=n("w0HK"),w=n("tWvP"),x=n("s9+9"),j=n("ypwz"),R=n("4wjP"),P=n("HxRh"),A=n("+djJ"),k=n("Fpjf"),I=n("ADRF"),E=n("aHCm"),M=n("u5KZ"),T=n("KETb");class _{constructor(e){this.connector=e}loadCMSListAsync(e,t,n){return Object(d.b)(this,void 0,void 0,(function*(){if(!e)return null;const i=[];for(const a of e){if(!a)return null;const e=yield this.getCMSList(a,t,n);if(!e||!e.id||!e.items)return null;i.push(e)}i.length>0&&this.sendCMSFetchCompletedAction(i,t)}))}generateCMSItemMapAsync(e,t,n){return Object(d.b)(this,void 0,void 0,(function*(){if(!e)return null;const i=new Map,r=new Map,c=a.b[Object(y.a)().currentColumnArrangement],d=new Map,l=[];for(const t of e){const e=t.mappedRegion;e&&t.indices&&0!==t.indices.length&&((!d.has(e)&&!t.screenWidth||t.screenWidth&&t.screenWidth.includes(c))&&d.set(e,t))}d.forEach(e=>{l.push(e)});for(const e of l){const a=e.id,s=e.indices,c=e.mappedRegion,d=e.positionInParentExperience;if(!(a&&s&&0!==s.length&&c&&d&&0!==d.length))continue;if(!i.has(a)){const e=yield this.getCMSList(a,o.a.CMSNativeAd,t);if(!e||!e.id||!e.items||0===e.items.length)continue;i.set(a,e.items)}const l=i.get(a);let u=0;for(const e of d){const a=Number(e);if(isNaN(a))continue;let d=!1;const h=c.toLowerCase()+"|"+a;if(n){const a=n.filter(t=>t.mappedRegion===c&&t.index===e);for(const e of a){const n=e.documentId;if(n){if(!i.has(n)){const e=yield this.getCMSList(n,o.a.CMSNativeAd,t);if(!e||!e.id||!e.items||0===e.items.length)continue;i.set(n,e.items)}const e=i.get(n),a=Math.round(Math.random()*e.length),s=a<e.length?a:a%e.length;r.set(h,e[s]),d=!0;break}}}if(!d){const e=u<s.length?s[u]:s[u%s.length],t=Number(e);if(isNaN(t))continue;let n=t-1;n<0&&(n=0);const i=n<l.length?n:n%l.length;r.set(h,l[i])}u++}}r.size>0&&s.a.fetchCMSNativeAdCompleted.getActionSender(this.connector).send(void 0,r)}))}getCMSList(e,t,n){return Object(d.b)(this,void 0,void 0,(function*(){try{const i={method:"GET",headers:{}},o=yield Object(T.a)(()=>Object(d.b)(this,void 0,void 0,(function*(){const n=new URL(`${a.a.CMSListServiceUrl}${e}${g.b.ContentServiceUrlBase.search}`,""+g.b.ContentServiceUrlBase),o=yield fetch(n.toString(),i);if(o.ok)return o.json();this.sendCMSFetchFailedAction("getCMSList: Invalid response from CMS."+o.statusText,t)})),"getCMSList");if(!o)return void this.sendCMSFetchFailedAction("getCMSList: Invalid response from PlacementManagerCMSService response.json()",t);const r=o;return this.translateToCMSItem(r,t,e,n)}catch(n){return void this.sendCMSFetchFailedAction(`getCMSList: Error while fetching CMS Native Ad  ${n}, id: ${e}`,t)}}))}translateToCMSItem(e,t,n,i){return Object(d.b)(this,void 0,void 0,(function*(){const o=Object(m.a)().Locale;if(!e||!e.list||0===e.list.length)return void this.sendCMSFetchFailedAction("translateToCMSItem: No CMS Response returned from "+n,t);const r=[];for(const n of e.list){let e=!1;const s=n.extendedProperties;if(s)for(const t of s)if(t.key&&t.key.indexOf("is_content")>-1&&t.values&&t.values.indexOf("true")>-1){e=!0;break}let c;if(null!=n.link&&null!=n.link.title&&n.link.href&&null!=n.link.image&&null!=n.link.image.href){const o=this.getCMSContentId(n.link.image.href);let r,s;if(n.link.ad)if(n.link.ad.providerHref&&n.link.ad.providerHref.href){const e=this.getCMSContentId(n.link.ad.providerHref.href);e?r=yield this.fetchProviderName(e,t):n.link.ad.sponsorText&&(r=n.link.ad.sponsorText)}else n.link.ad.sponsorText&&(r=n.link.ad.sponsorText);s=r||(null!=n.link.kicker?n.link.kicker:a.e.DefaultProviderName),c={title:n.link.title,url:n.link.href,provider:{name:s},imageUrl:o?Object(k.f)(o,{width:624,height:350,enableDpiScaling:!1}):n.link.image.href,isContent:e,privacyUrl:i}}else if(null!=n.reference&&null!=n.reference.href){const a=this.getCMSContentId(n.reference.href);if(null!=a){const n=yield this.getCMSContent(a,t);if(!n)continue;c={title:n.title,url:this.contructDestinationUrl(n,o),provider:this.contructProvider(n),imageUrl:this.constructImageUrl(n),isContent:e,privacyUrl:i}}}c&&c.title&&c.imageUrl&&c.url&&r.push(c)}return{id:e._id,items:r}}))}getCMSContent(e,t){return Object(d.b)(this,void 0,void 0,(function*(){try{const n=new URL(g.b.ContentServiceUrlBase.search,`${g.b.ContentServiceUrlBase}${a.a.CMSContentServiceURl}${e}/`),i=yield fetch(n.toString());if(!i||!i.ok)return void this.sendCMSFetchFailedAction("getCMSContent: Failed to fetch CMS content. cmsId: "+e,t);const o=yield i.json();return o||void this.sendCMSFetchFailedAction("getCMSContent: Invalid JSON response to get CMS content",t)}catch(e){return void this.sendCMSFetchFailedAction("getCMSContent: An exception occured while fetching CMS content. Exception: "+e,t)}}))}contructDestinationUrl(e,t){const{category:n}=e,a=n&&n.product||"news",o=n&&n.label||"other",r=i[e.type]||"xx";return`https://www.msn.com/${t}/${I.a.encodeURIComponentForPrime(a||"")}/${I.a.encodeURIComponentForPrime(o||"")}/${I.a.encodeURIComponentForPrime(e.title||"")}/${r}-${e.id}`}contructProvider(e){const{name:t,logo:n}=e.provider;return{name:t,logo:n&&n.id?{src:`${E.a.prod}${n.id}?w=16&h=16`,alt:t}:void 0}}constructImageUrl(e){if(e.images&&!(e.images.length<1)&&e.images[0].id)return Object(k.f)(e.images[0].id,{width:624,height:350,focalRegion:e.images[0].focalRegion,enableDpiScaling:!1})}getCMSContentId(e){return e&&e.indexOf("cms/api/amp")>-1?e.substring(e.lastIndexOf("/")+1):null}sendCMSFetchFailedAction(e,t){switch(M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.GetCMSContentError),{message:"Fetch CMS content failed for type - "+t,pb:Object.assign(Object.assign({},P.fd.GetCMSContentError.pb),{customMessage:e})})),t){case o.a.Backfill:this.onFetchBackfillError(e);break;case o.a.CMSNativeAd:this.onFetchCMSNativeAdError(e)}}sendCMSFetchCompletedAction(e,t){switch(t){case o.a.Backfill:s.a.fetchBackfillCompleted.getActionSender(this.connector).send(e);break;case o.a.CMSNativeAd:s.a.fetchCMSNativeAdCompleted.getActionSender(this.connector).send(e)}}fetchProviderName(e,t){return Object(d.b)(this,void 0,void 0,(function*(){try{const n={method:"GET",headers:{}},i=yield Object(T.a)(()=>Object(d.b)(this,void 0,void 0,(function*(){const i=new URL(`${a.a.CMSListServiceUrl}${e}${g.b.ContentServiceUrlBase.search}`,""+g.b.ContentServiceUrlBase),o=yield fetch(i.toString(),n);if(o.ok)return o.json();this.sendCMSFetchFailedAction(`fetchProviderName: Invalid response from CMS. status: ${o.status}.\n                        statusText: ${o.statusText}. url: ${o.url}.`,t)})),"getProviderName");if(!i)return void this.sendCMSFetchFailedAction("fetchProviderName: Invalid response from PlacementManagerCMSService response.json()",t);const o=i;return o?o.displayName:void this.sendCMSFetchFailedAction("fetchProviderName: Failed to parse JSON response for "+e,t)}catch(n){return void this.sendCMSFetchFailedAction(`fetchProviderName: Exception occured while fetching Provider name  ${n}, id: ${e}`,t)}}))}midPoint(e,t){if(null!=e&&null!=t)return Math.floor(e+(t-e)/2)}onFetchCMSNativeAdError(e){s.a.fetchCMSNativeAdFailed.getActionSender(this.connector).send()}onFetchBackfillError(e){s.a.fetchBackfillFailed.getActionSender(this.connector).send()}}var F=n("KRKw"),N=n("3Amp");let H,L=!1;const D=new Promise(e=>{H=e});function B(){return Object(d.b)(this,void 0,void 0,(function*(){switch(yield function(){return Object(d.b)(this,void 0,void 0,(function*(){L||(N.a.cookieConsentStatus.registerObserver(e=>{H()}),L=!0);const e=u.a.getInstance().rootReducer.connector(x.a.SharedState),t=e&&e.getCurrentState(),n=t&&t.cookieConsentStatus;return n!==F.b.Unknown?n:(yield D,e.getCurrentState().cookieConsentStatus)}))}()){case F.b.Required:return!0;case F.b.NotRequired:return!1;default:return}}))}var W,U=n("tMmC"),z=n("A8DD");!function(e){e.Outbrain="Outbrain",e.Oath="Oath",e.AppNexus="AppNexus",e.Bing="Bing",e.TripleLift="TripleLift",e.MediaNet="MediaNet",e.Mgid="MGID"}(W||(W={}));const $="cookieSyncUrl",G="timeout",q="pixelSync",V="enableCPixel",K="enableApnMi9pixel",J="enableVideoPixel",X="aolSupportedMarket",Q="videoPlayerPageType",Y="MSAN_MI9_pd",Z="MSNLI_pd",ee="MSAOL_Video_pd",te="MSAN_Video_pd";var ne,ie=n("HDSB"),ae=n("XgsJ");!function(e){e[e.Success=1]="Success",e[e.Error=2]="Error"}(ne||(ne={}));class oe{constructor(e){this.connector=e,this.pixelContainer=new Image(1,1)}processCookieSync(){return Object(d.b)(this,void 0,void 0,(function*(){if(yield B())return;if(this.connector.getBrowserOptoutStatus())return;const e=this.connector.getMsaOptoutCookieData();if(e&&"1"===e)return;const t=this.connector.config&&this.connector.config.cookieSync;if(!t)return;if(this.setPartnerData(),this.connector.getCurrentState().isCookieSyncExecuted)return;s.a.isCookieSyncExecuted.getActionSender(this.connector).send();let n=0,i=!1;const o=(new Date).getTime(),r=Object.keys(t);for(const e of r)this.partnerCookieHandler(e,t[e],!1,a.e.DefaultPartnerCookieSyncTimeout,(function(){if(n++,!i&&r.length<=n){i=!0;const e=(new Date).getTime()-o;U.a.log("[NativeAdCookieSync]:Total time taken to finish bulk cookie sync is "+e+"ms.")}}));setTimeout(function(){if(!i)return i=!0,void U.a.log("[NativeAdCookieSync]:Failed to retrieve partner data in "+a.e.BulkCookieSyncTimeout+"ms.")}.bind(this),a.e.BulkCookieSyncTimeout)}))}partnerCookieHandler(e,t,n,i,a){return!1,t&&t[$]?t[q]&&!0===t[q]?(this.callPixelSync(e,t),a({status:ne.Success}),void!0):(this.downloadScript(t[$]),a({status:ne.Success}),void!0):(a({status:ne.Error}),!0,void M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.CookieSyncMissingExternalScriptUrl),{message:`Partner: ${e} is missing cookie sync url. Please fix`})))}downloadScript(e){return Object(d.b)(this,void 0,void 0,(function*(){return new Promise((t,n)=>{if(!e||!Object(ie.a)()||this.scriptAlreadyExists(e))return;const i=Object(ae.b)(e);i.onload=()=>{t()},i.onerror=t=>{M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.CookieSyncDownloadExternalScriptError),{message:"Failed to download cookie sync JS, source url: "+e})),n(t)},document.head.appendChild(i)})}))}callPixelSync(e,t){return Object(d.b)(this,void 0,void 0,(function*(){return new Promise((n,i)=>{const a=this.connector.config.stop_gemini_sync_pixel;if(e===W.AppNexus)this.pixelContainer=document.createElement("iframe"),this.pixelContainer.src=t[$],this.pixelContainer.width="0",this.pixelContainer.height="0",this.pixelContainer.setAttribute("style","position:absolute;overflow:hidden;clip:rect(0 0 0 0);margin:0;padding:0;border:0;"),document.body.appendChild(this.pixelContainer);else if(e===W.Oath){if(a)return;setTimeout(()=>{this.pixelContainer=new Image(1,1),this.pixelContainer.src=t[$]},t[G])}else{if(e===W.Bing){let n="";return t[V]&&(t[K]&&(n=this.formatScriptUrl(t[$],Y),this.callPixelImage(n,e,t[G])),n=this.formatScriptUrl(t[$],Z),this.callPixelImage(n,e,t[G])),void(t[J]&&g.b.CurrentRequestTargetScope.pageType===t[Q]&&(t[X]&&!a&&(n=this.formatScriptUrl(t[$],ee),this.callPixelImage(n,e,t[G])),n=this.formatScriptUrl(t[$],te),this.callPixelImage(n,e,t[G])))}if(e===W.MediaNet||e===W.Mgid){const e=Object(b.b)();e&&setTimeout(()=>{this.pixelContainer=new Image(1,1),this.pixelContainer.src=t[$].replace("<userid>",e)},t[G])}else if(e===W.TripleLift){const e=Object(b.b)();e&&(this.pixelContainer=new Image(1,1),this.pixelContainer.src=t[$].replace("<userid>",e))}}this.pixelContainer.onload=()=>{n()},this.pixelContainer.onerror=n=>{M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.CookieSyncPixelPartnerDownloadError),{message:"Failed to download cookie sync pixel image",pb:Object.assign(Object.assign({},P.fd.CookieSyncPixelPartnerDownloadError.pb),{customMessage:`Check with partner ${e} for source url: ${t[$]}`})})),i(n)}})}))}formatScriptUrl(e,t){if(location.href.toLowerCase().indexOf("native-ad.html")>-1){document.getElementsByTagName("head")[0].setAttribute("data-client-settings",'{"pagetype": "gallery", "browser": {"browserType":"chrome", "version":"62", "ismobile":"true"}, "locale":{"language":"en", "market":"us"}, "aid": "activity1"}'),m.b.initializeHeadData()}let n=0;m.b.ClientSettings&&m.b.ClientSettings.browser&&m.b.ClientSettings.browser.ismobile&&(n=1);let i="";return i=e.replace("<linkId>",t).replace("<rid>",m.b.ClientSettings&&m.b.ClientSettings.aid?m.b.ClientSettings.aid:"").replace("<lang>",m.b.Locale?m.b.Locale:"").replace("<dgk>",m.b.ClientSettings&&m.b.ClientSettings.browser&&m.b.ClientSettings.browser.browserType?m.b.ClientSettings.browser.browserType:"").replace("<imd>",n.toString()).replace("<pn>",m.b.ClientSettings&&m.b.ClientSettings.pagetype?m.b.ClientSettings.pagetype:"").replace("<rf>",document.referrer).replace("<tp>",location.href),i}scriptAlreadyExists(e){const t=document.getElementsByTagName("script");for(let n=t.length;n--;)if(t[n].src===e)return!0;return!1}setPartnerData(){const e={cid:Object(b.a)("muid"),rid:M.a.getRequestId()};return window.partnerData=e,e}callPixelImage(e,t,n){return Object(d.b)(this,void 0,void 0,(function*(){return new Promise((i,a)=>{setTimeout(()=>{this.pixelContainer=new Image(1,1),this.pixelContainer.src=e},n),this.pixelContainer.onload=()=>{i()},this.pixelContainer.onerror=n=>{M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.CookieSyncPixelPartnerDownloadError),{message:"Failed to download cookie sync pixel image",pb:Object.assign(Object.assign({},P.fd.CookieSyncPixelPartnerDownloadError.pb),{customMessage:`Check with partner ${t} for source url: ${e}`})})),a(n)}})}))}}var re,se,ce,de=n("Z3LZ");!function(e){e.AR="AR",e.GA="GA",e.VI="VI",e.EDGECHRNTP="edgechrntp",e.EDGECHRDHP="edgechrdhp",e.MSNEWS="msnews",e.FirstParty="firstparty",e.VerticalLandingPage="vlp"}(re||(re={})),function(e){e.ArticleFlex="articleflex",e.GalleryFlex="galleryflex",e.VideoFlex="videoflex",e.News="news"}(se||(se={})),function(e){e.ArticlePageOneRiver="ArticlePageOneRiver",e.FlexGalleryPageOneRiver="FlexGalleryPageOneRiver",e.VideoPageOneRiver="VideoPageOneRiver"}(ce||(ce={}));var le=n("FaCY"),ue=n("5fbE"),he=n("E0YY"),pe=n("4k19"),ge=n("C4R5"),me=n("MSQM");class be extends l.a{constructor(e,t,n,i,o,r,c){if(super(e,t,n,i,o,r,c),this.stripeMap=new Map,this.isRemainingStripeFetched=!1,this.firstBatchStripePlacements=[],this.webWorkerCmsFallbackExpEnabled=!1,this.hasUserScrolled=!1,this.useRouter=!1,this.infopaneAdSequence=1,this.isDisableAdsPrefetchFlight=!1,this.scrollThresholdForPrefetch=this.config.scrollThresholdForPrefetch?this.config.scrollThresholdForPrefetch:300,this.onPivotSwitch=e=>{if(!e.oldSelection)return;this.infopaneAdSequence=1,this.currentState=this.getCurrentState();const t=e.newSelection.pivotId;t&&t.toLowerCase()!==a.e.EditInterestPivotId&&(s.a.updatePivotId.getActionSender(this).send(t),this.useRouter&&t!==this.currentState.pivotId&&t.toLowerCase()===a.e.StripeMyFeedPivotId&&this.setPlacementsForStripeLayout(),t!==this.currentState.pivotId&&t.toLowerCase()!==a.e.StripeMyFeedPivotId&&(s.a.clearState.getActionSender(this).send(),this.refreshStatesBasedOnSettingsOverride()),this.currentState=this.getCurrentState(),this.currentState.updatedPlacements.length>0&&(this.currentState.preloadPlacements&&0!==this.currentState.preloadPlacements.length||this.callSAMNativeAdAsync(this.config,!0)))},this.onScroll=()=>{(this.anaheimPageLayout!==pe.j.inspirational||window.pageYOffset>this.scrollThresholdForPrefetch||this.config.enablePeekInspPrefetch)&&(this.hasUserScrolled=!0,this.callSAMNativeAdAsync(this.config),window.removeEventListener("scroll",this.onScroll))},!Object(ie.a)())return;if(r.nativeAdsDisabled)return;if(this.currentState=this.getCurrentState(),!this.currentState)return;const d=u.a.getInstance().rootReducer.connector(x.a.SharedState);if(this.useRouter=d&&d.getCurrentState().useHistory,this.layoutPreferenceDataConnector=n.connector(x.a.LayoutPreferenceData),this.layoutPreferenceDataConnector?this.setPlacementsForStripeLayout(this.useRouter):this.refreshStatesBasedOnSettingsOverride(),this.setUserOptOutSettings(),this.currentState.ecasession||s.a.updateEcasession.getActionSender(this).send(a.e.Ecasession),g.b.AppType===j.a.EdgeChromium&&(this.layoutDataConnector=u.a.getInstance().rootReducer.connector(x.a.ChromiumPageSettings),this.layoutDataConnector)){const e=this.layoutDataConnector.getCurrentState();this.anaheimPageLayout=e.currentLayout}s.a.samNativeAdServedTrack.registerObserver(()=>{this.runNextPreloadFetchSAMNativeAdObserver()}),this.useRouter?Object(ge.d)().addSwitchListener(this.onPivotSwitch,S.a.Monetization):Object(O.a)().addSwitchListener(this.onPivotSwitch,S.a.Monetization),r.enableGranularInfopaneAdCalls&&(this.setInfopaneGeminiIndex(),s.a.infopaneSlideChanged.getActionSender(this).send(1),s.a.infopaneSlideChanged.registerObserver(()=>{this.runNextPreloadInfopaneObserver()})),Promise.all([Object(z.a)(),Object(de.k)(),Object(me.a)()]).then(()=>{this.config.enableFireAuctionCallImmediately?(this.callNativeAdsAfterPreload(),this.loadCMSExperienceAsync()):Object(de.l)().then(()=>{this.callNativeAdsAfterPreload(),this.loadCMSExperienceAsync()})}),r.disableAdsPrefetch&&(g.b.AppType!==j.a.EdgeChromium||this.anaheimPageLayout===pe.j.informational||this.anaheimPageLayout===pe.j.inspirational&&!this.config.enablePeekInspPrefetch)&&(this.isDisableAdsPrefetchFlight=!0,window.addEventListener("scroll",this.onScroll))}static getVerticalKey(){const e=m.b.ClientSettings.apptype,t=g.b.HostPage.verticalKey,n=m.b.ClientSettings.verticalKey;if(e&&n&&""!==n){const t=e.toLowerCase();if(t.indexOf(j.a.Views)>-1||t.indexOf(j.a.Hub)>-1)return n}return t}static getCategoryKey(){const e=m.b.ClientSettings.apptype,t=g.b.HostPage.categoryKey,n=m.b.ClientSettings.categoryKey;if(e&&n&&""!==n){const t=e.toLowerCase();if(t.indexOf(j.a.Views)>-1||t.indexOf(j.a.Hub)>-1)return n}return t}static isRiverMainPlacement(e){return e&&e.toLowerCase().indexOf(a.e.OneRiverMain)>-1}static isStripePlacement(e){return e&&e.toLowerCase().indexOf(a.e.StripeRegionKeyWord)>-1}static isInfopanePlacement(e){return e&&e.toLowerCase().indexOf(a.e.InfopaneRegion)>-1}callNativeAdsAfterPreload(){this.currentState=this.getCurrentState(),this.currentState.preloadPlacements&&0!==this.currentState.preloadPlacements.length||this.callSAMNativeAdAsync(this.config,!0)}runNextPreloadFetchSAMNativeAdObserver(){this.currentState=this.getCurrentState();const e=this.config.lastNthPositionToPreload;if(!e)return void M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.MissingRequiredPropertyPlacementManagerConfig),{message:"Missing lastNthPositionToPreload property in placement manager config "}));if(!this.currentState.preloadPlacementMap)return;let t=0;for(const e of this.currentState.preloadPlacementMap.values())!1===e&&t++;if(t===e||t<e){const e=JSON.stringify([...this.currentState.preloadPlacementMap.keys()]);e!==this.currentState.lastFiredPrefetchedPlacements&&(s.a.updateLastFiredPrefetchedPlacements.getActionSender(this).send(e),this.currentState=this.getCurrentState(),this.isReadyToMakeSAMAjaxCall()?this.callSAMNativeAdAsync(this.config):(s.a.increasePendingSAMCallNumber.getActionSender(this).send(),this.currentState=this.getCurrentState()))}}setPlacementsForStripeLayout(e){if(e){if(!Object(ge.d)().getCurrentRoute().pivotId.toLowerCase().includes("myfeed"))return void this.refreshStatesBasedOnSettingsOverride()}const t=this.layoutPreferenceDataConnector.getCurrentState().selectedLayout;this.currentState=this.getCurrentState(),t!==he.a.Stripe||this.currentState.pivotId&&this.currentState.pivotId.toLowerCase()!==a.e.StripeMyFeedPivotId?this.refreshStatesBasedOnSettingsOverride():(s.a.clearState.getActionSender(this).send(),this.mergeStripePlacements(),this.topicsDataConnector?this.getRemainingStripePlacements():u.a.getInstance().rootReducer.getDataConnector(x.a.TopicData).then(e=>{this.topicsDataConnector=e,this.getRemainingStripePlacements(),le.a.followedTopics.registerObserver(()=>{this.isRemainingStripeFetched||this.getRemainingStripePlacements()})}))}initializeSAMNativeAdAsync(e,t=!1){return Object(d.b)(this,void 0,void 0,(function*(){this.currentState=this.getCurrentState(),this.lastResponseMetadata=this.currentState.lastResponseMetadata;const n=this.getCurrentPageRequestIdCallback||M.a.getRequestId(),i=this.getImpressionId(n),o=this.getPreviousRiverNativeAdCount(a.e.River),r=this.getPreviousRiverNativeAdCount(a.e.RiverDoubleWide),c=this.getPreviousRiverNativeAdCount(a.e.ReservedRiver),d=this.getPreviousRiverHalfNativeAdCount();if(!g.b||!g.b.HostPage||!g.b.HostPage.hostName)return;const l=this.getPlacements(t),u=this.currentState.pageType?this.currentState.pageType:this.getPageType(),C=this.getPartnerId(),v=be.getVerticalKey(),y=this.generateSourceUrl(),S=this.getBrowserOptoutStatus(),O=yield B();if(s.a.updateCookieWallPresentStatus.getActionSender(this).send(O),!O&&t){const e=Object(b.a)(a.c.taboolaSessionCookieName)||this.getCurrentState().ecasession;s.a.updateEcasession.getActionSender(this).send(e)}this.currentState=this.getCurrentState();const w=this.getUserMuid(),x=!(!m.b.ClientSettings||!m.b.ClientSettings.deviceFormFactor||m.b.ClientSettings.deviceFormFactor!==h.a.Phone),j=this.isNotMyFeed();if(this.requestBody={locale:m.b.Locale,rid:i,partnerId:C,content:{sourceUrl:y,pageType:u,verticalName:v,previousRiverNativeAdCount:o,previousRiverDualWideNativeAdCount:r,previousRiverHalfNativeAdCount:d,previousReservedRiverNativeAdCount:c,isXfeed:j,anaheimPageLayout:this.anaheimPageLayout},user:{muid:w,browserOptOut:S,isAdblock:!1},placements:l,extensions:this.getExtensions(this.lastResponseMetadata,this.currentState.ecasession),isCookieWallPresent:O,isPeregrine:!0,isGeminiCCPAShutdownEnabled:void 0!==e.enable_gemini_ccpa_shutdown&&e.enable_gemini_ccpa_shutdown,device:{isMobile:x}},this.requestBody.placements&&!(this.requestBody.placements.length<1))try{if(location&&location.search){const e=new URLSearchParams(location.search.toLowerCase()).get(a.d.MockTemplate);!e||e!==a.d.HeadToHead&&e!==a.d.Triptych||(this.requestBody.Provider=e)}const n=JSON.stringify(this.requestBody),i=new URL(a.e.SAMRTBAuctionCallUrl),o=new XMLHttpRequest;o.open(a.f.Method,i.href,!0),o.withCredentials=!0,o.timeout=e.enableToSetAuctionCallTimeout&&e.samRTBTimeout?e.samRTBTimeout:a.e.SAMRTBTimeout,o.setRequestHeader(a.f.ContentTypeKey,a.f.ContentType),o.setRequestHeader(a.f.FlightIdKey,m.b.CurrentFlights),o.setRequestHeader(a.f.CacheControlKey,a.f.CacheControl),w&&o.setRequestHeader(a.f.ClientIdKey,w),u===re.GA?o.setRequestHeader(a.f.AuthCookieNameKey,a.c.AnonCookieName):Object(b.a)(a.c.AppAnonCookieExist)&&o.setRequestHeader(a.f.AuthCookieNameKey,f.d),o.onload=()=>{t&&this.config.enableFireAuctionCallImmediately&&this.config.delayAdProcessing?Object(de.l)().then(()=>{this.processAdResponse(o)}):this.processAdResponse(o)},o.ontimeout=()=>{e.enableToSetAuctionCallTimeout?this.onNativeAdLoadError("Timeout calling SAMRTB Ajax.",!0,!0):this.onNativeAdLoadError("Timeout calling SAMRTB Ajax.",!1)},o.onerror=()=>{this.onNativeAdLoadError("Error calling SAMRTB Ajax.")},o.send(n),Object(A.m)(p.a.TimeToRequestAd,window.performance.now())}catch(e){return void this.onNativeAdLoadError("Error while initializing native ad async  "+e)}}))}processAdResponse(e){if(200!==e.status)return 204===e.status?void this.onNativeAdLoadError(`Invalid response from SAMRTB Ajax. ${e.status}: ${e.statusText}`,!1):void this.onNativeAdLoadError(`Invalid response from SAMRTB Ajax. ${e.status}: ${e.statusText}`);try{const t=JSON.parse(e.response);if(!t)return void this.onNativeAdLoadError("Invalid json response from SAMRTB");const n=t.metaData;this.processMetaData(n),this.fireRequestLevelBeacons(n.requestLevelBeaconUrls),s.a.fetchSAMNativeAdCompleted.getActionSender(this).send(t,this.lastResponseMetadata),s.a.processedPlacements.getActionSender(this).send(),s.a.samNativeAdReady.getActionSender(this).send(),this.currentState=this.getCurrentState(),this.callPendingSAMNativeAd()}catch(e){return void this.onNativeAdLoadError("Error processing SAMRTB response. "+e)}}getPlacements(e){if(!this.currentState.updatedPlacements||this.currentState.updatedPlacements.length<1)return null;const t=!e&&this.config.preloadCardNumberSubsequentBatch?this.config.preloadCardNumberSubsequentBatch:this.config.preloadCardNumber,n=[],i=[];let a,o=0;const r=this.currentState.preloadPlacements;let c;r&&r.length>0&&(a=r[r.length-1]);for(const r of this.currentState.updatedPlacements)if(r.region&&r.indices&&r.indices.length>0&&r.priority)if(this.config.enableGranularInfopaneAdCalls&&be.isInfopanePlacement(r.region)){const t=this.currentState.infopaneAdIndicesToBeFetched&&Array.from(this.currentState.infopaneAdIndicesToBeFetched,e=>e.toString());if(t&&t.length>0){const a={region:r.region,indices:t,priority:r.priority,mappedRegion:r.mappedRegion,mappedPartnerIdBelowTheFold:r.mappedPartnerIdBelowTheFold};if(this.infopaneAdSequence+=a.indices.length,n.push(a),this.addSAMPlacements(i,a.region,a.indices,r.indices),s.a.updateInfopaneAdIndicesToBeFetched.getActionSender(this).send(new Set),o+=a.indices.length,!e)break}}else{if(this.isDisableAdsPrefetchFlight&&!e&&!this.hasUserScrolled&&!be.isStripePlacement(r.region))continue;let s=0;if(a){if(r.priority<a.priority)continue;a.priority===r.priority&&a.region===r.region&&(s=a.indices.length)}const d=r.indices.length-s;if(d<=0)continue;if(o>0&&r.mappedPartnerIdBelowTheFold&&r.mappedPartnerIdBelowTheFold.toLowerCase()!==c)break;const l=t-o;if(be.isStripePlacement(r.region)){const e=this.getStripeName(r.region),t=this.stripeMap.has(e)?this.stripeMap.get(e):[];let n=0;for(const e of t)n+=e.indices.length;if(l<n)break}const u=l<=d?l:d,h=s+u,p=r.indices.slice(s,h),g={region:r.region,indices:p,priority:r.priority,mappedRegion:r.mappedRegion,mappedPartnerIdBelowTheFold:r.mappedPartnerIdBelowTheFold};if(n.push(g),this.addSAMPlacements(i,g.region,g.indices),c=r.mappedPartnerIdBelowTheFold&&r.mappedPartnerIdBelowTheFold.toLowerCase(),o+=u,o===t)break}s.a.sentPlacements.getActionSender(this).send(n);const d=n.filter(e=>!be.isInfopanePlacement(e.region));return(!this.config.enableGranularInfopaneAdCalls||d&&d.length>0)&&(s.a.preloadPlacements.getActionSender(this).send(n),s.a.preloadPlacementMap.getActionSender(this).send(this.mapPlacement(n))),this.currentState=this.getCurrentState(),i}mapPlacement(e){if(!e||e.length<=0)return;const t=new Map;for(const n of e)if(n.region&&n.indices){const e=n.region;for(const i of n.indices){const a=(n.mappedRegion?n.mappedRegion:e)+"|"+i;t.set(a,!1)}}return t}processMetaData(e){const t=this.currentState.isCookieWallPresent,n=e&&e.taboola&&e.taboola.sessionId;!t&&n&&Object(w.a)(a.c.taboolaSessionCookieName,n,.042,a.c.cookieDomain,"/"),this.lastResponseMetadata=this.mergeMetadata(this.lastResponseMetadata,e),this.updateMsaOptOutCookie(e)}mergeMetadata(e,t){return e?t?(t.taboola=this.mergePartnerMetadata(e.taboola,t.taboola),t):e:t}getImpressionId(e){return this.lastResponseMetadata&&this.lastResponseMetadata.pageViewId?this.lastResponseMetadata.pageViewId:e}getPreviousRiverNativeAdCount(e){const t=this.currentState.preloadPlacements;if(!t||!e)return 0;let n=0;for(const i of t)i.mappedRegion&&i.mappedRegion.toLocaleLowerCase()===e&&i.indices&&(n+=i.indices.length);return n}getPreviousRiverHalfNativeAdCount(){const e=[a.e.RiverHalf,a.e.RiverHalfTextOnly],t=this.currentState.preloadPlacements;if(!t||!e)return 0;let n=0;for(const i of t)i.mappedRegion&&e.indexOf(i.mappedRegion.toLocaleLowerCase())>-1&&i.indices&&(n+=i.indices.length);return n}getMsaOptoutCookieData(){const e=Object(b.a)(a.c.MSAOptOut);return e&&e.length>0?e:null}callSAMNativeAdAsync(e,t=!1){return Object(d.b)(this,void 0,void 0,(function*(){if(e.isCookieSyncEnabled){new oe(this).processCookieSync().then(()=>{this.initializeSAMNativeAdAsync(e,t)})}else this.initializeSAMNativeAdAsync(e,t)}))}getRemainingStripePlacements(){const{followedTopicIds:e,topicMap:t}=this.topicsDataConnector.getCurrentState();if(!e||!e.length||!t)return;const n=this.firstBatchStripePlacements.length;if(!n)return;let i=this.firstBatchStripePlacements[n-1].priority||1;const o=[],r=this.stripeMap.get(a.e.PersonalizedStripeRegionKeyWord);let c=1;const d=r&&r.length>0?r[0]:null,l=d&&d.region&&d.region.indexOf(a.e.StripeRegionKeyWord)>-1?d.region.indexOf(a.e.StripeRegionKeyWord):-1;e.forEach(e=>{const n=t[e];let s=n&&n.canonicalName&&n.canonicalName.trim().toLowerCase();if(!s&&ue.b.has(e)&&(s=ue.b.get(e).toLowerCase()),this.stripeMap.has(s)){const e=this.stripeMap.get(s)||[];for(const t of e)t.priority=++i,o.push(t)}else{if(ue.a.includes(s))return;if(l>-1){const e=Object.assign({},r[0]);e.region=a.e.PersonalizedStripeRegionKeyWord+c+e.region.substring(l),e.priority=++i,e.mappedRegion=e.region,o.push(e);const t=a.e.PersonalizedStripeRegionKeyWord+c;this.stripeMap.set(t,[e]),c++}}});const u=this.firstBatchStripePlacements.concat(o);s.a.updatePlacements.getActionSender(this).send(u),this.isRemainingStripeFetched=!0}setMsaOptoutCookie(e){e&&e.length>0&&Object(w.a)(a.c.MSAOptOut,e,1,null,"/")}isNotMyFeed(){return!!this.currentState.pivotId&&this.currentState.pivotId.toLowerCase()!==a.e.MyFeedPivotId&&this.currentState.pivotId.toLowerCase()!==a.e.StripeMyFeedPivotId}isReadyToMakeSAMAjaxCall(){const e=this.currentState.placementStatus;if(!e)return!0;for(const t of e)if(!1===t.isProcessed)return!1;return!0}callPendingSAMNativeAd(){const e=this.currentState.pendingSAMNativeAdCallNumber;e&&e>0&&(s.a.decreasePendingSAMCallNumber.getActionSender(this).send(),this.callSAMNativeAdAsync(this.config))}runNextPreloadInfopaneObserver(){this.currentState=this.getCurrentState(),this.currentState.infopaneAdIndicesToBeFetched&&this.currentState.infopaneAdIndicesToBeFetched.size>0&&this.callSAMNativeAdAsync(this.config)}setInfopaneGeminiIndex(){if(this.currentState=this.getCurrentState(),!this.currentState.updatedPlacements)return;const e=this.currentState.updatedPlacements.filter(e=>be.isInfopanePlacement(e.region)),t=e&&e.pop(),n=t&&t.indices&&t.indices.filter(e=>a.e.MediatedInfopaneSlides.indexOf(e)<0);this.diceRoll=Math.random(),this.infopaneGeminiIndex=n&&n.length>0?n[Math.floor(this.diceRoll*Math.min(3,n.length))]:void 0}fireRequestLevelBeacons(e){let t;if(e&&e.length>0){t=[];for(let n=0;n<e.length;n++){const i=e[n];i&&(this.fireRequestLevelBeaconCall(i),t.push(i))}}return t}getPageType(){if(this.currentState.pageType)return this.currentState.pageType;const e=g.b.CurrentRequestTargetScope.pageType,t=this.config.mappedPageType;let n=t||e;return e==R.b.DHP&&g.b.AppType==j.a.EdgeChromium&&"en-us"==g.b.CurrentMarket.toLocaleLowerCase()&&this.config.enableDhpPagetype&&(n=re.EDGECHRDHP),s.a.updatePageType.getActionSender(this).send(n),n}getPartnerId(){const e=this.getBelowTheFoldPartnerId(),t=g.b.CurrentRequestTargetScope.pageType,n=this.config.mappedPartnerId;let i;return i=e||(n||t),i}generateSourceUrl(){const e=g.b.CurrentRequestTargetScope.pageType;let t=g.b.HostPage.originalUrl;const n=g.b.HostPage.verticalKey;if(e&&n){const i=e.toLowerCase();(i.indexOf(R.b.DHP)>-1||i.indexOf(R.b.NTP)>-1)&&(t="https://"+g.b.HostPage.hostName+"/"+n+"/"+e)}return t}getBelowTheFoldPartnerId(){const e=this.currentState.placementStatus;if(!e)return null;for(const t of e){const e=t.placements;if(e&&e.length>0){const n=e[0],i=n&&n.mappedPartnerIdBelowTheFold;if(i&&!1===t.isProcessed)return i}}return null}refreshStatesBasedOnSettingsOverride(){const e=this.isInterstitialNativeAdDisabled();s.a.updateMergeSettingsOverride.getActionSender(this).send(a.g.DisableInterstitialNativeAd,e);const t=[],n=[];let i=-1;if(this.config.placements){const o=this.filterPlacements();for(const r of o){const o=r.region&&r.region.toLowerCase();if(r.indices&&0!==r.indices.length&&!be.isStripePlacement(o))if(this.isRiverPlacement(o))n.push(r),i<r.priority&&(i=r.priority);else if(!e||e&&o!==a.g.InterstitialGallery){const e=this.updateInfopanePlacement(r);e&&t.push(e)}}const r=this.mergeRiverPlacements(n,i),c=t.concat(r);s.a.updatePlacements.getActionSender(this).send(c)}}mergeStripePlacements(){if(!this.config.placements)return;this.stripeMap.clear(),this.firstBatchStripePlacements=[];let e=1;for(const t of this.config.placements){if(!t.indices||0===t.indices.length)continue;const n=t.region&&t.region.toLowerCase();if(be.isStripePlacement(n)){let i;if(i=n===a.e.StripeInfopaneRegion?a.e.InfopaneRegionKeyWord:n===a.e.StripeTabInfopaneRegion?a.e.TabInfopaneRegionKeyWord:n.substring(0,n.indexOf(a.e.StripeRegionKeyWord)),this.stripeMap.has(i)){this.stripeMap.get(i).push(t)}else this.stripeMap.set(i,[t]);i!==a.e.InfopaneRegionKeyWord&&i!==a.e.TopStripeRegionKeyWord&&i!==a.e.TabInfopaneRegionKeyWord||(t.priority=e++,this.firstBatchStripePlacements.push(t))}}s.a.updatePlacements.getActionSender(this).send(this.firstBatchStripePlacements)}isInterstitialNativeAdDisabled(){const e=this.getSettingOverrideValue(a.g.DisableInterstitialNativeAd);return(void 0!==e||null!==e)&&e}getSettingOverrideValue(e){const t=be.getVerticalKey(),n=be.getCategoryKey(),i=t?t.toLowerCase():null,o=n?n.toLowerCase():null,r=this.config.settingsOverride;let s;if(r){s=r.find(e=>e.vertical&&e.vertical.toLowerCase()===i&&e.category&&e.category.toLowerCase()===o);let t=s&&s.uniqueSettings[e];if(null!=t)return t;if(s=r.find(e=>e.vertical&&e.vertical.toLowerCase()===i&&(!e.category||""===e.category)),t=s&&s.uniqueSettings[e],null!=t)return t;if(s=r.find(e=>e.vertical&&e.vertical.toLowerCase()===a.g.Base),t=s&&s.uniqueSettings[e],null!=t)return t}return null}getBrowserOptoutStatus(){const e=Object(b.a)(a.c.BrowserOptOut);return!(!e||"1"!==e)}getStripeName(e){return e?e.indexOf(a.e.InfopaneRegionKeyWord)>-1?a.e.InfopaneRegionKeyWord:e.substring(0,e.indexOf(a.e.StripeRegionKeyWord)):null}addSAMPlacements(e,t,n,i){let a=!1;for(const i of e)if(i.region===t){const e=(i.indices?i.indices:[]).concat(n);i.indices=e,a=!0;break}a||(this.config.enableGranularInfopaneAdCalls&&be.isInfopanePlacement(t)?e.push({region:t,indices:n,allIndices:i,diceRoll:this.diceRoll.toFixed(3),infopaneGeminiIndex:parseInt(this.infopaneGeminiIndex,10),infopaneAdSequenceStartIndex:this.infopaneAdSequence-n.length}):e.push({region:t,indices:n}))}mergePartnerMetadata(e,t){return t=t||{},e&&e.sessionId&&!t.sessionId&&(t.sessionId=e.sessionId),t}updateMsaOptOutCookie(e){if(!this.getMsaOptoutCookieData()&&e&&e.optout){const t=!0===e.optout.msaOptOut?"1":"0";this.setMsaOptoutCookie(t)}}onNativeAdLoadError(e,t=!0,n=!1){s.a.fetchSAMNativeAdFailed.getActionSender(this).send(),s.a.processedPlacements.getActionSender(this).send(),s.a.samNativeAdReady.getActionSender(this).send(),this.currentState=this.getCurrentState(),this.callPendingSAMNativeAd(),t&&(n?M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.GetSAMRTBResponseErrorNoAlert),{message:e})):M.a.sendAppErrorEvent(Object.assign(Object.assign({},P.fd.GetSAMRTBResponseError),{message:e})))}getExtensions(e,t){const n={taboola:(e=e||{taboola:{}}).taboola};return n.taboola.sessionId||(n.taboola.sessionId=t),n}getUserMuid(){return this.currentState.isCookieWallPresent?null:Object(b.b)()}fireRequestLevelBeaconCall(e){return Object(d.b)(this,void 0,void 0,(function*(){if(e){U.a.logCallback(()=>"Firing encoded requestlevel beacon: "+e);let t=yield new Image(1,1);t.src=e,t=null}}))}setUserOptOutSettings(){const e=this.getBrowserOptoutStatus(),t=this.getMsaOptoutCookieData(),n=!(!t||"1"!==t),i=(e||n).toString().toLowerCase();let o="";e&&(o="b|"),n&&(o+="m");const r=a.e.UserOptOut+":"+i+";"+a.e.UserOptOutOptions+":"+o;if(document.head.attributes["data-info"]){const e=document.head.attributes["data-info"].value.split(";");e.find(e=>e.indexOf(a.e.UserOptOut)>-1)?e.find(e=>e.indexOf(a.e.UserOptOut)>-1)!==a.e.UserOptOut+":"+i&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.e.UserOptOut+":false",a.e.UserOptOut+":"+i).replace(a.e.UserOptOut+":true",a.e.UserOptOut+":"+i)):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+a.e.UserOptOut+":"+i,e.find(e=>e.indexOf(a.e.UserOptOutOptions)>-1)?e.find(e=>e.indexOf(a.e.UserOptOutOptions)>-1)!==a.e.UserOptOutOptions+":"+o&&(e.includes(a.e.UserOptOutOptions+":")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.e.UserOptOutOptions+":",a.e.UserOptOutOptions+":"+o):e.includes(a.e.UserOptOutOptions+":b|")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.e.UserOptOutOptions+":b|",a.e.UserOptOutOptions+":"+o):e.includes(a.e.UserOptOutOptions+":b|m")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.e.UserOptOutOptions+":b|m",a.e.UserOptOutOptions+":"+o):e.includes(a.e.UserOptOutOptions+":m")&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(a.e.UserOptOutOptions+":m",a.e.UserOptOutOptions+":"+o))):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+a.e.UserOptOutOptions+":"+o}else document.head.setAttribute("data-info",r)}isRiverPlacement(e){return e&&(e.indexOf(a.e.OneRiverMain)>-1||e.indexOf(a.e.OneRiverMainFlex)>-1)}updateInfopanePlacement(e){const t=e.mappedRegion&&e.mappedRegion.toLowerCase(),n=e.indices,i=this.config.samPlacementMaxIndexInInfopaneXFeed&&Number(this.config.samPlacementMaxIndexInInfopaneXFeed);if(this.currentState=this.getCurrentState(),!this.isNotMyFeed()||t!==a.e.InfopaneRegionKeyWord||!n||isNaN(i))return e;{const t=[];for(const e of n){const n=Number(e);isNaN(n)||n<=i&&t.push(n.toString())}if(t.length>0){const n=Object.assign({},e);return n.indices=t,n}}}filterPlacements(){const e=a.b[Object(y.a)().currentColumnArrangement],t=new Map,n=[];for(const n of this.config.placements){const i=n.region&&n.region.toLowerCase();n.indices&&0!==n.indices.length&&((!t.has(i)&&!n.screenWidth||n.screenWidth&&n.screenWidth.includes(e))&&t.set(i,n))}return t.forEach(e=>{n.push(e)}),n}mergeRiverPlacements(e,t){if(!e)return null;const n=new Map;for(const t of e){const e=t.indices;if(e)for(const i of e){const e=Number(i);isNaN(e)||n.set(e,t)}}const i=new Map([...n.entries()].sort((e,t)=>e[0]-t[0])),a=[];return i.forEach((e,n)=>{const i=a.length-1;if(i>-1){const o=a[i];if(e.mappedRegion===o.mappedRegion)o.indices.push(n.toString());else{const i={region:e.region,indices:[n.toString()],priority:t++,mappedRegion:e.mappedRegion,mappedPartnerIdBelowTheFold:e.mappedPartnerIdBelowTheFold};a.push(i)}}else{const i={region:e.region,indices:[n.toString()],priority:t++,mappedRegion:e.mappedRegion,mappedPartnerIdBelowTheFold:e.mappedPartnerIdBelowTheFold};a.push(i)}}),a}loadCMSExperienceAsync(){return Object(d.b)(this,void 0,void 0,(function*(){const e=[];if(this.config.cmsConnectors)for(const t of this.config.cmsConnectors){const n=Object(C.c)(t);if(n){yield v.a.getConfig(n);e.push((yield v.a.getConfig(n)).properties)}}const t=e.find(e=>e&&e.backfillListId&&e.backfillListId.length>0);t&&(this.config.backfillListId=t.backfillListId);const n=e.find(e=>e&&e.cmsNativeAd&&e.cmsNativeAd.length>0);n&&(this.config.cmsNativeAd=n.cmsNativeAd);const i=e.find(e=>e&&e.cmsNativeAdListId&&e.cmsNativeAdListId.length>0);i&&(this.config.cmsNativeAdListId=i.cmsNativeAdListId);const a=new _(this),r=!this.currentState.cmsItemMap||0===this.currentState.cmsItemMap.size;if(this.config.cmsNativeAd&&this.config.cmsNativeAd.length>0&&r?a.generateCMSItemMapAsync(this.config.cmsNativeAd,this.config.privacyUrl,this.config.cmsNativeAdPosOverride):this.config.cmsNativeAdListId&&this.config.cmsNativeAdListId.length>0&&!this.currentState.cmsNativeAdResponse&&r&&a.loadCMSListAsync(this.config.cmsNativeAdListId,o.a.CMSNativeAd,this.config.privacyUrl),this.config.backfillListId&&this.config.backfillListId.length>0&&!this.currentState.backfillResponse){const e=new _(this);yield e.loadCMSListAsync(this.config.backfillListId,o.a.Backfill,this.config.privacyUrl)}}))}registerCurrentPageRequestIdCallback(e){this.getCurrentPageRequestIdCallback=e}}var fe=n("05Au");class Ce{reduce(e,t){if(!e)return{backfillTrack:new Map,cmsNativeAdTrack:new Map,toBeFiredAdIndices:new Set,infopaneAdIndicesToBeFetched:new Set,infopaneAdIndicesProcessed:new Set,placementStatus:[],pendingSAMNativeAdCallNumber:0,personalizedStripeTrackNumber:0,cmsItemMap:new Map};if(!t)return e;let n;e.toBeFiredAdIndices instanceof Set||(e.toBeFiredAdIndices=new Set),e.infopaneAdIndicesToBeFetched instanceof Set||(e.infopaneAdIndicesToBeFetched=new Set),e.infopaneAdIndicesProcessed instanceof Set||(e.infopaneAdIndicesProcessed=new Set);let i=!1;return i=fe.a.handleAction(t,s.a.fetchSAMNativeAdCompleted,(t,i)=>{if(e.samNativeAdResponse===t)return;const a=e&&e.samNativeAdResponse&&e.samNativeAdResponse.placements?e.samNativeAdResponse.placements:null,o=Object.assign({},t);if(a&&a.length>0&&o.placements){const e=o.placements.concat(a);o.placements=e}n=Object.assign(Object.assign({},e),{samNativeAdResponse:o,lastResponseMetadata:i})}),i=i||fe.a.handleAction(t,s.a.fetchSAMNativeAdFailed,()=>{e.fetchSAMNativeAdError||(n=Object.assign(Object.assign({},e),{fetchSAMNativeAdError:!0}))}),i=i||fe.a.handleAction(t,s.a.fetchCMSNativeAdCompleted,(t,i)=>{const a=e.cmsNativeAdResponse&&e.cmsNativeAdResponse.length>0,o=e.cmsItemMap&&e.cmsItemMap.size>0;i&&i.size>0&&!o?n=Object.assign(Object.assign({},e),{cmsItemMap:i}):t&&t.length>0&&!a&&(n=Object.assign(Object.assign({},e),{cmsNativeAdResponse:t}))}),i=i||fe.a.handleAction(t,s.a.fetchCMSNativeAdFailed,()=>{e.fetchCMSNativeAdError||(n=Object.assign(Object.assign({},e),{fetchCMSNativeAdError:!0}))}),i=i||fe.a.handleAction(t,s.a.fetchBackfillCompleted,t=>{e.backfillResponse===t&&e.backfillResponse.length===t.length||(n=Object.assign(Object.assign({},e),{backfillResponse:t}))}),i=i||fe.a.handleAction(t,s.a.fetchBackfillFailed,()=>{e.fetchBackfillError||(n=Object.assign(Object.assign({},e),{fetchBackfillError:!0}))}),i=i||fe.a.handleAction(t,s.a.samNativeAdServedTrack,(t,i)=>{if(!e.preloadPlacementMap||!t)return;const a=t+"|"+i,o=new Map(e.preloadPlacementMap);o.has(a)&&(o.set(a,!0),o.forEach((e,n)=>{const a=n.split("|");if(a.length>=2){const r=parseInt(a[1]);!isNaN(r)&&r<i&&a[0]===t&&!1===e&&o.set(n,!0)}})),e.preloadPlacementMap!==o&&(n=Object.assign(Object.assign({},e),{preloadPlacementMap:o}))}),i=i||fe.a.handleAction(t,s.a.preloadPlacements,t=>{if(e.preloadPlacements===t||!t||t.length<1)return;let i=[];const a=e.preloadPlacements;if(!a||a&&0===a.length)i=[...t];else{const e=a.length-1,n=a[e];i=[...a];for(const a of t)if(n&&n.priority===a.priority&&n.region===a.region&&a.indices){const t=n.indices.concat(a.indices),o={region:a.region,indices:t,priority:a.priority,mappedRegion:a.mappedRegion};i.splice(e,1,o)}else i.push(a)}n=Object.assign(Object.assign({},e),{preloadPlacements:i})}),i=i||fe.a.handleAction(t,s.a.preloadPlacementMap,t=>{e.preloadPlacementMap===t||!t||t.size<1||(n=Object.assign(Object.assign({},e),{preloadPlacementMap:t}))}),i=i||fe.a.handleAction(t,s.a.updateInfopaneAdIndicesToBeFetched,t=>{t&&(n=Object.assign(Object.assign({},e),{infopaneAdIndicesToBeFetched:t}))}),i=i||fe.a.handleAction(t,s.a.cmsNativeAdTrack,(t,i)=>{if(!t||e.cmsNativeAdTrack&&e.cmsNativeAdTrack.has(t)&&e.cmsNativeAdTrack.get(t)===i)return;const a=new Map(e.cmsNativeAdTrack);a.set(t,i),n=Object.assign(Object.assign({},e),{cmsNativeAdTrack:a})}),i=i||fe.a.handleAction(t,s.a.backfillTrack,(t,i)=>{if(!t||e.backfillTrack&&e.backfillTrack.has(t)&&e.backfillTrack.get(t)===i)return;const a=new Map(e.backfillTrack);a.set(t,i),n=Object.assign(Object.assign({},e),{backfillTrack:a})}),i=i||fe.a.handleAction(t,s.a.clearState,()=>{n=Object.assign(Object.assign({},e),{samNativeAdResponse:null,preloadPlacements:null,preloadPlacementMap:null,lastResponseMetadata:null,cmsNativeAdTrack:null,toBeFiredAdIndices:null,infopaneAdIndicesToBeFetched:null,infopaneAdIndicesProcessed:null,backfillTrack:null,placementStatus:null,pendingSAMNativeAdCallNumber:0,lastFiredPrefetchedPlacements:null,personalizedStripeTrackNumber:0})}),i=i||fe.a.handleAction(t,s.a.updatePivotId,t=>{e.pivotId!==t&&t&&(n=Object.assign(Object.assign({},e),{pivotId:t}))}),i=i||fe.a.handleAction(t,s.a.samNativeAdReady,()=>{}),i=i||fe.a.handleAction(t,s.a.sentPlacements,t=>{if(!t||0===t.length)return;const i={placements:t,isProcessed:!1};let a=[];e.placementStatus&&(a=[...e.placementStatus]),a.push(i),n=Object.assign(Object.assign({},e),{placementStatus:a})}),i=i||fe.a.handleAction(t,s.a.processedPlacements,()=>{if(!e.placementStatus||0===e.placementStatus.length)return;const t=[...e.placementStatus];for(const e of t)if(!1===e.isProcessed){e.isProcessed=!0;break}n=Object.assign(Object.assign({},e),{placementStatus:t})}),i=i||fe.a.handleAction(t,s.a.increasePendingSAMCallNumber,()=>{let t=0;e.pendingSAMNativeAdCallNumber>=0&&(t=e.pendingSAMNativeAdCallNumber,t++),t!==e.pendingSAMNativeAdCallNumber&&(n=Object.assign(Object.assign({},e),{pendingSAMNativeAdCallNumber:t}))}),i=i||fe.a.handleAction(t,s.a.decreasePendingSAMCallNumber,()=>{let t=0;e.pendingSAMNativeAdCallNumber>0&&(t=e.pendingSAMNativeAdCallNumber,t--),t===e.pendingSAMNativeAdCallNumber||t<0||(n=Object.assign(Object.assign({},e),{pendingSAMNativeAdCallNumber:t}))}),i=i||fe.a.handleAction(t,s.a.updateLastFiredPrefetchedPlacements,t=>{t&&e.lastFiredPrefetchedPlacements!==t&&(n=Object.assign(Object.assign({},e),{lastFiredPrefetchedPlacements:t}))}),i=i||fe.a.handleAction(t,s.a.updatePageType,t=>{e.pageType!==t&&t&&(n=Object.assign(Object.assign({},e),{pageType:t}))}),i=i||fe.a.handleAction(t,s.a.updateEcasession,t=>{e.ecasession!==t&&t&&(n=Object.assign(Object.assign({},e),{ecasession:t}))}),i=i||fe.a.handleAction(t,s.a.updateCookieWallPresentStatus,t=>{e.isCookieWallPresent!==t&&void 0!==t&&(n=Object.assign(Object.assign({},e),{isCookieWallPresent:t}))}),i=i||fe.a.handleAction(t,s.a.isCookieSyncExecuted,()=>{e.isCookieSyncExecuted||(n=Object.assign(Object.assign({},e),{isCookieSyncExecuted:!0}))}),i=i||fe.a.handleAction(t,s.a.updatePlacements,t=>{if(!t)return;const i=t.sort((e,t)=>e.priority>t.priority?1:e.priority===t.priority?0:-1);n=Object.assign(Object.assign({},e),{updatedPlacements:i})}),i=i||fe.a.handleAction(t,s.a.updateMergeSettingsOverride,(t,i)=>{if(!t||null==i)return;const a=new Map(e.mergedSettingsOverride),o=t.toLowerCase();a.has(o)||(a.set(o,i),n=Object.assign(Object.assign({},e),{mergedSettingsOverride:a}))}),i=i||fe.a.handleAction(t,s.a.infopaneSlideChanged,t=>{if(void 0===t)return;const i=t,o=i+a.e.AdServedFireRange;let r=[];if(e.updatedPlacements){const t=e.updatedPlacements.filter(e=>e.mappedRegion&&e.mappedRegion.toLocaleLowerCase()===a.e.InfopaneRegion),n=t&&t.pop(),s=n&&n.indices&&n.indices.map(e=>parseInt(e,10));r=s&&s.filter(t=>t>=i&&t<=o&&(!e.infopaneAdIndicesProcessed||!e.infopaneAdIndicesProcessed.has(t)))}if(!r||0===r.length)return;const s=e.toBeFiredAdIndices?new Set([...e.toBeFiredAdIndices,...r]):new Set([...r]),c=e.infopaneAdIndicesProcessed?new Set([...e.infopaneAdIndicesProcessed,...r]):new Set([...r]);n=Object.assign(Object.assign({},e),{infopaneAdIndicesToBeFetched:new Set(r),infopaneAdIndicesProcessed:c,toBeFiredAdIndices:s})}),i=i||fe.a.handleAction(t,s.a.updatePersonalizedStripeTrackNumber,()=>{let t=0;isNaN(e.personalizedStripeTrackNumber)||(t=e.personalizedStripeTrackNumber),t++,n=Object.assign(Object.assign({},e),{personalizedStripeTrackNumber:t})}),n||e}}const ve={experienceConfigSchema:c.PlacementManagerConfigSchema}},n6wx:function(e,t){},oFIr:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ypwz"),a=n("4wjP"),o=n("7FLv"),r=n("rvYQ");const s=new class{constructor(){this.boxShadowStyle=this.generateBoxShadowStyle()}generateBoxShadowStyle(){if(!r.b||!r.b.CurrentRequestTargetScope||!r.b.CurrentRequestTargetScope.pageExperiments||!r.b.AppType||r.b.AppType!==i.a.EdgeChromium||!r.b.CurrentRequestTargetScope.pageType||r.b.CurrentRequestTargetScope.pageType!==a.b.NTP&&r.b.CurrentRequestTargetScope.pageType!==a.b.DHP)return{};const e=r.b.CurrentRequestTargetScope.pageExperiments;return-1!==e.indexOf("prg-6pxbrnobs-t")?{"box-shadow":"none","&:hover":Object(o.b)(o.a.e6)}:-1!==e.indexOf("prg-2pxbswb-t")?Object.assign(Object.assign({},Object(o.b)(o.a.e2)),{"&:hover":Object(o.b)(o.a.e6)}):-1!==e.indexOf("prg-2pxbsbrwb-t")?{"box-shadow":"0px 1.6px 3.6px rgba(0,0,0,0.13), 0px 0px 2.9px rgba(0,0,0,0.11), inset 0px 0px 0px 0.5px rgba(0, 0, 0, 0.1)","&:hover":Object(o.b)(o.a.e6)}:-1!==e.indexOf("prg-4pxbshov-t")?{"box-shadow":"none","&:hover":Object(o.b)(o.a.e4)}:-1!==e.indexOf("prg-8pxbshov-t")?{"box-shadow":"none","&:hover":Object(o.b)(o.a.e8)}:{}}getBoxShadowStyle(){return this.boxShadowStyle||(this.boxShadowStyle=this.generateBoxShadowStyle()),this.boxShadowStyle}clearBoxShadowStyle(){this.boxShadowStyle=void 0}}},om92:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("uhNu"),a=n("pCrc"),o=n("6xGu"),r=n("LJMo"),s=n("Am8i"),c=n("qg1f"),d=n("y2Il");const l={[r.a.HalfPane]:{0:{width:1.2,height:1}},[r.a.HeadToHead]:{0:{width:2,height:1},1:{width:2,height:1}},[r.a.Mosaic]:{0:{width:2,height:1},1:{width:2,height:2},2:{width:2,height:2}},[r.a.Triptych]:{0:{width:3,height:1.4},1:{width:3,height:1.4},2:{width:3,height:1.4}}};function u(e,t,n){n=n||{};const i=l[e],a=i&&i[t];return a?{height:Math.floor(n.height/a.height)||0,width:Math.floor(n.width/a.width)||0}:void 0}function h(e,t){return e!==r.a.HalfPane?d.a._5:0===t?d.a._4:d.a._8}function p(e,t){return 0===t&&e===r.a.HalfPane?2:3}var g=n("ERkP"),m=n.n(g),b=n("rvYQ"),f=n("DsD+");var C=n("3ZGc");function v(e,t,n,l,g,v,y){const S=t.type,O=[],w=[];n&&n.forEach((n,i)=>{const C=t.subItems[i];let x,j,R;n?(j=function(e){return e?e.addOrUpdateChild({name:"ComplexContentCard",type:s.e.Headline}):null}(g),R=j?j.render():{},x=n.type===r.a.ExternalLink?function(e,t,n,i,o,r,s){const c=t&&t.metadata,l=c&&c.feed&&c.feed.id,g=h(n,o),b={tag:d.b.h3,size:g,children:c&&c.title},C=p(n,o),v=t&&Object(f.a)(t,l,r,e.openLinksInNewTab),y=Object(f.b)(t),S=u(n,o,i);let O;return S&&(O=Object(f.c)(t,S,s)),{destination:v,heading:b,headingMaxLines:C,image:O?e=>m.a.createElement(a.a,Object.assign(Object.assign({},O),{className:e})):null,attribution:y}}(e,n,S,l,i,g,v):function(e,t,n,i,d,l,g,f,C){const{localizedStrings:v}=e,y=b.b.CurrentMarket,S=e.openLinksInNewTab,O=i===r.a.Mosaic&&l,w=n&&n.metadata,x=t.category,j=w&&w.category||x&&x.product||"news",R=w&&w.subCategory||x&&x.label||"other",P=w&&w.feed&&w.feed.id,A=h(i,l),k=Object(o.e)(t,A),I=function(e,t,n,i,a,r,c,d){const l=Object(o.c)(e,t,n,i),u=Object(o.d)(e,a,r,l,i,d?s.e.Headline:void 0,d?s.b.Navigate:void 0)||{};return Object.assign({href:l,target:c?"_blank":void 0},u)}(t,y,j,R,P,g,S,C),E=O?null:Object(o.i)(t),M=Object(o.h)(t,E),T=Object(o.g)(t,v&&v.imageAttributionLabel,!C),_=Object(o.b)(t,v&&v.contentProviderAttributionLabel),F=p(i,l),N=function(e,t,n,i,a){const r=e.images&&e.images[0];if(!r||!r.id)return;const s=u(t,n,i);let d=void 0;s&&(d=Object(o.f)(e,s),d.style={maxHeight:s.height},a&&(d.onLoad=()=>a(c.b.Ready),d.onError=()=>a(c.b.Unsupported)));return d}(t,i,l,d,f);return{destination:Object.assign(Object.assign({},I),{title:T,"aria-label":_}),heading:k,headingMaxLines:F,image:N?e=>m.a.createElement(a.a,Object.assign(Object.assign({},N),{className:e})):null,attribution:M}}(e,n,C,S,l,i,j,v,y)):(x=null,j=null,R=null),O.push(x),w.push(R)});const{width:x,height:j}=l;let R=void 0;const P=t.metadata;return P&&P.title&&(R={size:i.a.large,children:P.title}),{cardType:S,contentCards:O,contentCardTelemetryTags:w,height:j?Object(C.a)(j):void 0,kicker:R,width:x?Object(C.a)(x):void 0}}},pAXR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("G82u");class a{}function o(){a.updateCacheBypassValue.unregisterObservers()}a.updateCacheBypassValue=new i.a("UpdateCacheBypassValue")},pbks:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("D57K"),a=n("HxRh"),o=n("tMmC"),r=n("4HvF"),s=n("zfSW"),c=n("rvYQ"),d=n("u5KZ");function l(e,t=!1,n=1e3){return Object(i.b)(this,void 0,void 0,(function*(){let d;const{id:l,metadata:p}=e,{locale:g,variation:m}=p||{};if(l)return r.c&&(d=function(e){const t=r.a.get(e);if(!t||!t.payload)return;return o.a.log(`Returning content preview item from IndexedDB cache - [${e}]`),t.payload}(l),d)||t&&(d=yield function(e,t){return Object(i.b)(this,void 0,void 0,(function*(){const n=yield Object(s.a)({id:e},t);if(n&&n.fetched&&n.payload)return o.a.log(`Returning content preview item from web worker response - [${e}]`),n.payload}))}(l,n),d)?d:function(e,t,n){return Object(i.b)(this,void 0,void 0,(function*(){let i,r;try{if(t&&n){const a=c.b.ContentServiceUrlBase.search?c.b.ContentServiceUrlBase.search+"&market="+n:"?market="+n;i=new URL(`view/v1/Preview/${e}${t}${a}`,c.b.ContentServiceUrlBase).toString()}else i=new URL(`view/v1/Preview/${e}${c.b.ContentServiceUrlBase.search}`,c.b.ContentServiceUrlBase).toString();if(r=yield fetch(i),o.a.log("ContentPreview content fetched"),!r||!r.ok)return void h(Object.assign(Object.assign({},a.db.InvalidResponseFromContentPreviewFetch),{message:"Invalid response from ContentPreview fetch",pb:Object.assign(Object.assign({},a.db.InvalidResponseFromContentPreviewFetch.pb),{customMessage:`Invalid response from ContentPreview fetch for ${i}. ${u(r)}.`})}));const s=yield r.json();return s||void h(Object.assign(Object.assign({},a.db.InvalidResponseFromContentPreviewResponseJson),{message:"Invalid response from ContentPreview response.json()",pb:Object.assign(Object.assign({},a.db.InvalidResponseFromContentPreviewResponseJson.pb),{customMessage:`Invalid response from ContentPreview for: ${i}.`})}))}catch(e){h(Object.assign(Object.assign({},a.db.ErrorWhileFetchingContentPreviewContent),{message:"Content fetch failed",pb:Object.assign(Object.assign({},a.db.ErrorWhileFetchingContentPreviewContent.pb),{customMessage:`Content fetch failed for: ${i}. Error: ${e&&e.message}. Stack: ${e&&e.stack}`})}))}}))}(l,m,g);h(Object.assign(Object.assign({},a.db.InvalidOrMissingContentId),{message:"Content ID was not available while attempting to load ContentPreview content"}))}))}function u(e){return e?`statusText: ${e.statusText}, status: ${e.status}`:""}function h(e){d.a.sendAppErrorEvent(e)}},"q/M1":function(e,t){},qBHm:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("Cmru"),a=n("JIHU"),o=n("OnwC"),r=n("wirn"),s=n("scFN"),c=n("bTI0"),d=n("ERkP"),l=n.n(d),u=n("HDSB"),h=n("XJ1h"),p=n("Gy7L");class g extends o.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,menuItems:void 0,enabled:void 0,buttonLabel:void 0,positionOffset:void 0,telemetryTag:void 0,zIndex:void 0,requestContext:void 0,buttonTitle:void 0,enableVerticalPlacement:void 0,portalElementSelector:void 0,scrollingElementSelector:void 0},this.handleUnfocus=e=>{if("keydown"===e.type){e.keyCode===p.h&&(e.preventDefault(),this.closeMenu(),this.buttonRef.current.focus())}else!e.target||(e=>this.containerRef.current&&this.containerRef.current.contains(e))(e.target)||(e=>this.menuRef.current&&this.menuRef.current.parentNode.contains(e))(e.target)||this.closeMenu()},this.closeMenu=()=>{this.setState({menuOpened:!1})},this.state={menuOpened:!1},this.containerRef=l.a.createRef(),this.menuRef=l.a.createRef(),this.buttonRef=l.a.createRef()}componentDidUpdate(){this.state.menuOpened?(this.menuRef.current.focus(),Object(u.a)()&&(document.addEventListener("click",this.handleUnfocus,!1),document.addEventListener("keydown",this.handleUnfocus,!1))):Object(u.a)()&&(document.removeEventListener("click",this.handleUnfocus,!1),document.removeEventListener("keydown",this.handleUnfocus,!1))}render(){const{enabled:e,managedClasses:t,menuItems:n=[],telemetryTag:i}=this.props;if(!e||!n.length)return null;const{menuContainer:a,settingButton:o,settingButtonIcon:r}=t;return l.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.containerRef,className:a}),l.a.createElement("button",Object.assign({className:o,onClick:e=>this.onSettingClick(e),"aria-label":this.props.buttonLabel,title:this.props.buttonTitle,ref:this.buttonRef},i),l.a.createElement(s.a,{className:r})),this.renderPopOver())}renderPopOver(){const{menuOpened:e,dropDownLocation:t}=this.state,n=e&&t&&!Object(h.a)(t.left)&&!Object(h.a)(t.top);return l.a.createElement(c.a,Object.assign({},t,{onDismiss:this.closeMenu,anchor:this.buttonRef.current,autoFlipX:!0,enable:n,zIndex:this.props.zIndex,requestContext:this.props.requestContext,enableVerticalPlacement:this.props.enableVerticalPlacement,portalElementSelector:this.props.portalElementSelector,scrollingElementSelector:this.props.scrollingElementSelector}),l.a.createElement("div",{ref:this.menuRef},l.a.createElement(i.a,{className:this.props.managedClasses.contextMenu,enableAutoFocus:!0},this.renderContextMenu())))}renderContextMenu(){const{menuItems:e}=this.props,{contextMenuItem:t,contextMenuItem_contentRegion:n,contextMenuItem_image:i}=this.props.managedClasses;return e.map(e=>l.a.createElement(a.a,Object.assign({className:t},e.attr,e.telemetryTag,{key:e.key,onInvoke:t=>{t.preventDefault(),this.onMenuItemClick(t,e.onSelect)}}),l.a.createElement("div",{"aria-label":e.text,className:n},e.icon&&l.a.createElement(r.a,{glyphType:e.icon,className:i}),e.text)))}onMenuItemClick(e,t){t&&t(e),this.closeMenu()}onSettingClick(e){const t=this.props.positionOffset,n=t?t.x:0,i=t?t.y:0;let a={};const o=e.currentTarget||e.target;if(o){const{top:e,left:t,width:r}=o.getBoundingClientRect();a={top:e+i+window.scrollY,left:t+n+window.scrollX,offset:r}}this.setState({menuOpened:!this.state.menuOpened,dropDownLocation:a})}}var m=n("+viU"),b=n("3ZGc"),f=n("rRWH"),C=n("QhQn"),v=n("X9F+"),y=n("objN");const S=Object(m.a)(e=>({settingButton:{height:"100%",width:"100%",border:"none",background:"none",cursor:"pointer",outline:"none",padding:"0","&:focus":{border:Object(b.a)(e.outlineWidth)+" solid","border-radius":"2px","border-color":C.a},"&:focus-visible, &:active":{border:Object(b.a)(e.outlineWidth)+" solid","border-radius":"2px","border-color":C.a}},settingButtonIcon:{fill:C.b,height:"24px",width:"24px"},contextMenuItem:{display:"flex",cursor:"pointer",border:Object(b.a)(e.outlineWidth)+" solid transparent",height:"30px",margin:"0",padding:"0px 12px 0px","user-select":"none","&:focus, &:hover":Object.assign({background:v.b,"border-color":C.b},y.z),"&:active":{background:v.a}},contextMenuItem_contentRegion:{display:"flex","align-items":"center"},contextMenuItem_image:{[Object(f.b)("margin-right","margin-left",e.direction)]:"8px"},contextMenu:{"box-shadow":"none",padding:"0",width:"145px",background:v.c,border:Object(b.a)(e.outlineWidth)+" solid","border-color":C.c}}))(g)},qJWt:function(e,t,n){"use strict";n.r(t),n.d(t,"ExternalContentPreview",(function(){return Se})),n.d(t,"ExternalContentPreviewConnector",(function(){return ge})),n.d(t,"ExternalContentPreviewReducer",(function(){return fe})),n.d(t,"ToolingInfo",(function(){return Oe}));var i=n("+viU"),a=n("5mwN"),o=n("JpJ4"),r=n("Gcx/"),s=n("ggrA"),c=n("MF9s"),d=n("SP+O"),l=n("odxL"),u=n("rRWH"),h=n("3ZGc"),p=n("rRnI");const g={externalContentPreview:{background:c.k,color:d.c,position:"relative"}},m=e=>({contentCard_image:{margin:"auto"},contentCard_imageRegion:{width:"100%"},contentCard_headingContent:{overflow:"hidden","-webkit-box-orient":"vertical",display:"-webkit-box","-webkit-line-clamp":""+(e||p.d.Default)}}),b={contentCard_kickerContent:{"max-width":"140px"}},f={contentCard_kickerContent:{"max-width":"162px"}},C=e=>({contentCard_contentRegion:{padding:"8px 16px 0",display:"block"},contentCard_kicker:{"align-items":"center",border:"none",display:"flex","flex-wrap":"wrap","justify-content":"center",position:"absolute",bottom:"40px",width:"270px","white-space":"nowrap","&:hover, &:focus":{opacity:"1"},"& div":{border:"1px solid "+Object(l.d)(e),color:l.d,height:"22px",overflow:"hidden",padding:"0 10px","&:hover, &:focus":{color:l.b,"text-decoration":"none"}},"& span":{"align-items":"center",display:"inline-flex",height:"100%","max-width":"220px",overflow:"hidden"}},contentCard_abstract:{color:d.c,"min-height":"initial",overflow:"hidden","text-align":"center","&:after":{height:"0"}},contentCard_heading:{"text-align":"center"},contentCard_headingContent:{color:d.c,"font-size":"24px","margin-bottom":"8px","margin-top":"6px",overflow:"hidden","text-align":"center","text-overflow":"ellipsis","white-space":"nowrap"},contentCard_attributionRegion:{"padding-bottom":"12px"},contentCard_attribution:{width:"100%","& span":{overflow:"hidden","text-align":"center","text-overflow":"ellipsis",width:"100%","white-space":"nowrap"}},contentCard_imageRegion:{background:c.k}}),v=e=>({contentCard_headingContent:{"&&":{color:d.c,"max-height":"28px",overflow:"hidden","text-overflow":"ellipsis"}},contentCard_contentRegion:{"&&":{"max-height":"94px",overflow:"hidden"}},contentCard_abstract:{"&&":{"margin-top":"8px"},"min-height":"59px","max-height":"59px","&:after":{height:"0px"}},contentCard_image:{"&&":{width:"90px",height:"90px","object-fit":"none"}},contentCard_imageRegion:{background:c.k}}),y=e=>Object.assign(Object.assign({},m),{contentCard_contentRegion:{padding:"0 12px"},contentCard_attributionRegion:{"&&":{padding:"12px"}},contentCard_image:{"max-width":"none"},contentCard_imageRegion:{width:"100%",height:"100%","justify-content":"center"},contentCard_actionRegion:{bottom:"0",[Object(u.b)("right","left",e.direction)]:"0"},contentCard_actionIcon:{width:"40px",height:"40px",[Object(u.b)("margin-left","margin-right",e.direction)]:"0"}}),S=e=>({adLabel:{[Object(u.b)("margin-right","margin-left",e.direction)]:Object(h.a)(5),"border-style":"none","&:hover, &:focus":{"text-decoration":"underline"},"background-color":"#1E6525","vertical-align":"6%","padding-top":"1px"}}),O=e=>({adLabel:{[Object(u.b)("margin-right","margin-left",e.direction)]:Object(h.a)(5),"border-style":"none","&:hover, &:focus":{"text-decoration":"underline"},"background-color":"#595959","vertical-align":"6%","padding-top":"1px"}});var w=n("B9ci"),x=n("uT2j"),j=n("ERkP"),R=n.n(j),P=n("7nmT"),A=n.n(P);class k extends a.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},a.b),{cardId:void 0,contentCardProps:void 0,enableBigImageOn1x2y:void 0,managedClasses:void 0,physicalHeight:void 0,physicalWidth:void 0}),this.getAdditionalCardStyles=()=>{const{contentCardProps:e,enableBigImageOn1x2y:t}=this.props;return e.layout===r.a._1x_1y?e.image&&e.curatedBy?b:e.image?f:null:t?y:m(e.headingMaxLines)}}render(){super.render();const{contentCardProps:e,cardId:t,physicalWidth:n,physicalHeight:i}=this.props;return R.a.createElement("div",Object.assign({},this.unhandledProps(),{"data-card-id":t,className:this.props.managedClasses.externalContentPreview,style:Object.assign({width:n,height:i})}),e?this.renderContentCard():null)}renderContentCard(){const{contentCardProps:e}=this.props,t=this.getAdditionalCardStyles();return e.imagePriority||e.image&&e.layout===r.a._2x_2y?R.a.createElement(x.a,Object.assign({},o.c),R.a.createElement(s.a,Object.assign({jssStyleSheet:t},e))):R.a.createElement(s.a,Object.assign({jssStyleSheet:t},e))}componentDidMount(){if(Object(w.b)())return;const{contentCardProps:e}=this.props,{heading:t,headingMaxLines:n}=e,i=A.a.findDOMNode(this),a=i&&i.querySelector("[class*=contentCard_headingContent]");Object(w.a)(a,t.size,n)}}k.defaultProps={experienceName:"ExternalContentPreview"},k.renderCounterPrefix="Content";var I,E=n("u82V"),M=n("D57K"),T=n("uEMx"),_=n("5neD"),F=n("c1hv"),N=n("KaPL"),H=n("pCrc"),L=n("4YCp"),D=n("NS3c"),B=n("gmMM"),W=n("wirn"),U=n("YJhp"),z=n("DsD+"),$=n("LJMo");!function(e){e.Enhanced="enhanced"}(I||(I={}));var G=n("Am8i"),q=n("u5KZ"),V=n("6xGu"),K=n("y2Il");const J={[r.a._2x_2y]:p.a.Heading_2x,[r.a._1x_1y]:p.a.Heading_Half,[r.a._1x_2y]:p.a.Heading_1x,[r.a._1x_3y]:p.a.Heading_1x};function X(e,t){return{tag:K.b.h3,size:J[t],children:e}}function Q(e,t,n,i){let a,o=e.width;if(Object(F.a)(t,T.a.LandscapeImage_2x))a=i?p.b.BigImage_1x:p.b.Landscape_2x;else if(Object(F.a)(t,T.a.LandscapeImage_1x))a=p.b.Landscape_1x;else if(Object(F.a)(t,T.a.PortraitImage_1x))a=p.b.Portrait_1x;else{if(!Object(F.a)(t,T.a.Image_1x1y))return null;a=p.b.Image_1x1y,o=n||a.width}return Object(V.j)(a,o)}var Y=n("+qLX"),Z=n("w0HK"),ee=n("+79V"),te=n("jgQC"),ne=n("OOr/"),ie=n("U6fx");function ae(e,t,n,i,a,o,s){const{metadata:c}=t||{},{actionText:d,feed:l,title:u,abstract:g,actionHoverText:m}=c||{},{height:b,width:f}=i||{},y=a===r.a._1x_1y,w=Object(_.e)(a,r.a._1x_3y,n,T.a.PortraitImage_1x),x=o?o.addOrUpdateChild({name:"ContentCard",type:G.e.Headline}):null,j=l&&l.id,P=y?X(u,r.a._1x_2y):function(e){return{tag:K.b.h4,size:K.a._4,children:e&&e.metadata&&e.metadata.title}}(t),A=Object(z.a)(t,j,x,!e.linksInSameTab),k=function(e,t){const{metadata:n}=e||{},i=n&&n.kicker&&n.kicker.length&&n.kicker[0].feedName,a=R.a.createElement("span",{key:"span"},i||""),o=function(e,t){if(e){const n={label:e},i={title:e},a=Object.assign(Object.assign(Object.assign({},n),i),{jssStyleSheet:t?O:S});return R.a.createElement(ee.a,Object.assign(Object.assign({},a),{key:"AdLabel"}),null)}return null}(n.adLabel,t.enableGreyAdsLabel),r=n&&{tag:K.b.span,size:K.a._7,children:o?[o,a]:a};return n&&{children:R.a.createElement(ne.a,r)}}(t,e),I=x?x.addOrUpdateChild({name:"kicker",behavior:G.b.Navigate,destinationUrl:A.href,content:{headline:d}}).render():null,E=!y&&d&&d.length&&Object.assign({children:R.a.createElement("div",{},R.a.createElement("span",{},d||"")),href:A.href,target:A.target,title:m},I);let M=Object(F.a)(n,T.a.Image);!M&&e.stockImage&&(n|=T.a.LandscapeImage_2x,M=!0);const N=M&&Object(z.c)(t,Q(i,n,e.halfHeightImageTargetSize),s,e.stockImage,"png"),H={style:!y&&d&&d.length?{maxHeight:"40px"}:{},children:g||"",size:y?ie.a._3:void 0},L=y?a:r.a._1x_3y,D=w?p.d.Portrait_1x:p.d.Default,B=x?x.render():{};return Object.assign({abstract:H,destination:A,heading:P,image:N?e=>R.a.createElement(te.default,Object.assign(Object.assign({},N),{className:e})):null,kicker:E,attribution:k,layout:L,height:b?Object(h.a)(b):null,width:f?Object(h.a)(f):null,headingMaxLines:D,jssStyleSheet:y?v:C},B)}var oe=n("C4R5"),re=n("XgsJ");function se(e,t,n,i,a,o,s,c,d){return function(e){const{metadata:t}=e||{},{uiHint:n,theme:i}=t||{};return n===I.Enhanced||!!i}(t)?ae(e,t,n,a,i,o,s):function(e,t,n,i,a,o,s,c,d){const{metadata:l}=t||{},{feed:u,title:g,abstract:m}=l||{},{height:b,width:f}=a||{},C=Object(_.e)(i,r.a._1x_3y,n,T.a.PortraitImage_1x),v=o?o.addOrUpdateChild({name:"ContentCard",type:G.e.Headline}):null,y=u&&u.id,S=X(g,c?r.a._1x_2y:i),O=t&&Object(z.a)(t,y,v,!e.linksInSameTab),w=t&&Object(z.b)(t),x=i!==r.a._2x_2y?t&&function(e,t,n,i,a,o){const r=e&&e.metadata;if(!r||!r.kicker)return;const s=Object(F.b)(r.kicker);if(!s||!s.feedName)return;const{feedName:c,id:d}=s;d||(n=!1);const l=t?t.addOrUpdateChild({name:"kicker",behavior:G.b.Navigate,destinationUrl:Object(re.l)(),content:{headline:c}}):null,u=n?{"data-customhandled":1}:{};return Object.assign(Object.assign({children:c.toLocaleUpperCase(),onClick:n?e=>{e&&(e.preventDefault(),q.a.sendActionEvent(e.target,G.a.Click)),o&&Object(oe.d)().pushHistory(c,d,{feedId:d}),Object(Z.a)(a).switchPivot({pivotId:d,configIndexHref:Object(B.b)(i),configIndexRef:Object(B.e)(i),context:{feedId:d!==c?d:null,userSelected:!0,query:d===c?c:null},telemetryPageName:Y.a.Xfeed,display:c})}:null,appearance:D.a.justified},l?l.render():null),u)}(t,v,e.renderKickerAsLink,e.xfeedConfigIndexHref||e.xfeedConfigIndexRef,e.pivotsNavInstanceId,d):null;let j=Object(F.a)(n,T.a.Image);!j&&e.stockImage&&(n|=T.a.LandscapeImage_2x,n&=~T.a.Abstract,j=!0);const P=j&&t&&Object(z.c)(t,Q(a,n,null,c),s,e.stockImage),A=Object(F.a)(n,T.a.Abstract)?{children:m}:null,k=t&&t.type===$.a.WebContent?{filled:i===r.a._2x_2y,children:R.a.createElement(W.a,{glyphType:U.a.BingLogo})}:null,I=C?p.d.Portrait_1x:p.d.Default,E=v?v.render():{};return Object.assign({abstract:A,destination:O,enableExtraBottomSpace:e.enableExtraBottomSpace,heading:S,image:P?e=>R.a.createElement(H.a,Object.assign(Object.assign({},P),{className:e})):null,kicker:x,attribution:w,curatedBy:k?e=>R.a.createElement(L.a,Object.assign(Object.assign({},k),{className:e})):null,layout:i,height:b?Object(h.a)(b):null,width:f?Object(h.a)(f):null,headingMaxLines:I},E)}(e,t,n,i,a,o,s,c,d)}const ce={inspect:e=>{let t;const{state:n,config:i,connectorArgs:a}=e,{physicalWidth:o,physicalHeight:r,contentCardLayout:s,contentCardSize:c}=n,{loadedContent:d,telemetryObject:l,visualReadinessHandler:u}=a,p=c===N.a.Size1Wx7H,g=c===N.a.Size1Wx4H,m=T.b[s];if(m){const{primaryImage:e,abstract:n}=d.metadata,{enableImageOn1x1y:c,disableAbstractCards:h}=i,b=Object(_.b)({image:e,abstract:n,enableImageOn1x1y:c,disableAbstractCards:h,enableBigImageOn1x2y:p,enableMSNHomePageBigPic:g}),f=m.find(e=>Object(F.a)(b,e.minContentFeatures));f&&(t=se(i,d,f.propsToMap,s,{width:o,height:r},l,u,p,a.useRouter))}return{props:{contentCardProps:t,enableBigImageOn1x2y:p,physicalHeight:r?Object(h.a)(r):null,physicalWidth:o?Object(h.a)(o):null},missingChildren:[]}}};var de=n("2Mxw"),le=n("qg1f"),ue=n("WfnD"),he=n("s9+9"),pe=n("9J8d");class ge extends ue.a{constructor(){super(...arguments),this._supportedRiverCardSizes=N.a.None,this.useRouter=!1}onComponentConnect(e){return Object(M.b)(this,void 0,void 0,(function*(){yield ue.a.prototype.onComponentConnect.call(this,e);const{readinessCounter:t,serviceContextMetadata:n,readinessCounterIndex:i}=e;this.visualReadinessHandler=t&&t.tryCreateNotificationHandler(i),this.loadedContent=n,this.cardId="ecp_"+(n&&n.id?n.id:"unknown"),this.monetizationOption=this.loadedContent.type===$.a.WebContent?de.a.NonMonetizable:de.a.Monetizable;const a=pe.a.getInstance().rootReducer.connector(he.a.SharedState);this.useRouter=a&&a.getCurrentState().useHistory}))}mapStateToProps(e){const t={loadedContent:this.loadedContent,telemetryObject:this.telemetryObject,visualReadinessHandler:this.visualReadinessHandler,useRouter:this.useRouter};let{props:n}=ce.inspect({config:this.config,state:e,connectorArgs:t});return n&&this.setupImageStatusNotification(n.contentCardProps),n=Object.assign(Object.assign(Object.assign({},n),{cardId:this.cardId}),this.telemetryTags||{}),n}get supportedRiverCardSizes(){if(this._supportedRiverCardSizes||!this.loadedContent)return this._supportedRiverCardSizes;const{titleLength:e,abstractLength:t,primaryImage:n,uiHint:i}=this.loadedContent.metadata,{disableAbstractCards:a,unsupportedRiverCardSizes:o}=this.config;let r=o||0;return i&&(r|=N.a.Size1Wx7H|N.a.Size2Wx6H),this._supportedRiverCardSizes=Object(_.d)({titleLength:e,abstractLength:t,primaryImage:n,disableAbstractCards:a})&~r}setupImageStatusNotification(e){const t=this.visualReadinessHandler;if(!t||!this.loadedContent)return;e&&e.image||(e&&e.heading?t(le.b.Ready):t(le.b.Unsupported))}}var me=n("05Au"),be=n("5p4t");class fe{reduce(e,t){if(!e)return{};if(!t)return e;let n,i=!1;return i=i||me.a.handleAction(t,be.a.changeCardSize,(t,i,a)=>{const o=Object(_.c)(t);e.contentCardSize===t&&e.contentCardLayout===o&&e.physicalHeight===a&&e.physicalWidth===i||(n={contentCardLayout:o,physicalHeight:a,physicalWidth:i,contentCardSize:t})}),n||e}}var Ce=n("FjFG"),ve=n("sB3O"),ye=n("/ps7");const Se=Object(i.a)(g)(k),Oe={reactComponent:Se,experienceConfigSchema:E.ExternalContentPreviewConfigSchema,mockState:ye.mockExternalContentPreviewState,mockConfig:Ce.mockConfig,mockConnectorArgs:ve.mockExternalContentPreviewConnectorArgs,inspector:ce.inspect}},qKya:function(e,t,n){"use strict";var i=n("ERkP"),a=n.n(i),o=n("OnwC"),r=n("o1qX");class s extends o.a{constructor(){super(...arguments),this.handledProps={image:void 0,managedClasses:void 0}}render(){const{attribution_image:e,attribution_contentRegion:t}=this.props.managedClasses;return a.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),"function"==typeof this.props.image?this.props.image(Object(r.a)(e)):null,a.a.createElement("span",{className:Object(r.a)(t)},this.props.children))}generateClassNames(){return super.generateClassNames(Object(r.a)(this.props.managedClasses.attribution))}}s.displayName="Attribution",s.defaultProps={managedClasses:{}},t.default=s},qg1f:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e[e.Registered=0]="Registered",e[e.Ready=1]="Ready",e[e.Unsupported=2]="Unsupported"}(i||(i={}));class a{constructor(e,t,n){if(this.countForReady=e,this.notifyReadyCallback=t,this.notifyReadyCantCompleteCallback=n,this.notifyingComponentStatus=[],this.notificationCompleted=!1,this.additionalHandlersNotExpected=!1,this.finalExpectedRegisteredHandlerCount=0,!this.notifyReadyCallback)throw Error("notifyReadyCallback is not valid")}markNoNewHandlers(e){this.notificationCompleted||(!this.notificationCompleted&&e<=0?this.tryAndInvokeNotifyReadyCantCompleteCallback():(this.additionalHandlersNotExpected=!0,this.finalExpectedRegisteredHandlerCount=e,this.checkForCompletion()))}tryCreateNotificationHandler(e){if(!this.notificationCompleted){if(void 0!==this.notifyingComponentStatus[e])throw"attempting to override a registered handler";return this.notifyingComponentStatus[e]=i.Registered,t=>{this.notificationCompleted||this.notifyingComponentStatus[e]===i.Ready||this.notifyingComponentStatus[e]===i.Unsupported||(this.notifyingComponentStatus[e]=t,t!==i.Ready&&t!==i.Unsupported||this.checkForCompletion())}}}checkForCompletion(){if(this.additionalHandlersNotExpected&&!this.notifyingComponentStatus.length)return this.notificationCompleted=!0,void this.tryAndInvokeNotifyReadyCantCompleteCallback();let e=0,t=0,n=0;for(const a of this.notifyingComponentStatus){if(this.notificationCompleted)break;if(i.Ready===a)e++;else if(i.Unsupported===a)n++;else{if(i.Registered!==a)continue;t++}if(this.additionalHandlersNotExpected&&this.finalExpectedRegisteredHandlerCount-n<this.countForReady)this.notificationCompleted=!0,this.tryAndInvokeNotifyReadyCantCompleteCallback();else if(e+t>=this.countForReady){t<=0&&(this.notificationCompleted=!0,this.notifyReadyCallback());break}}}tryAndInvokeNotifyReadyCantCompleteCallback(){this.notifyReadyCantCompleteCallback&&this.notifyReadyCantCompleteCallback()}}},rPvf:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("D57K"),a=n("HxRh"),o=n("tMmC"),r=n("BQg2"),s=n("rvYQ"),c=n("y+Kz"),d=n("VbA2"),l=n("msIb"),u=n("6ADy"),h=n("KETb"),p=n("hxZq");class g{constructor(){this.cachedMetadata={}}get(e){const t=m(e);if(t)return this.cachedMetadata[t]}set(e,t){const n=m(e);n&&(this.cachedMetadata[n]=t)}}function m(e){if(e)return JSON.stringify(e)}var b=n("tERu"),f=n("u5KZ"),C=n("HDSB"),v=n("/+Un"),y=n("zJcZ");class S{constructor(e){this.config=e,this.responseCache=new g,this.requestPathWithoutFeedId="MSN/Feed/me",this.requestPathWithFeedId="MSN/Feed",this.requestPathForFeedLayout="MSN/FeedLayout"}fetch(e){return Object(i.b)(this,void 0,void 0,(function*(){let t=this.config.initialRequest;if(e&&(e.feedId||!t.feedId||e.nextPageUrl||(e.feedId=t.feedId),t=Object.assign(Object.assign({},t),e)),!t)return void f.a.sendAppErrorEvent(Object.assign(Object.assign({},a.xd.RiverConfigurationIssue),{message:"default OneService fetch configuration was invalid"}));const n=this.responseCache.get(t);if(n)return n;const g={credentials:"include",headers:yield l.a.getOneServiceFeedCallHeaders(),method:"GET"},m=t.useNextPageUrl&&t.nextPageUrl,S=t.feedLayoutRequestType;let O;O=!m&&S?this.requestPathForFeedLayout:t.feedId?this.requestPathWithFeedId:this.requestPathWithoutFeedId;const w=Object(u.b)(O),x=Object(p.b)();if(m)this.requestQueryParams=new r.a(new URL(m).search),x>0&&this.requestQueryParams.set(p.a,x.toString()),s.b.SendFeedCallActivityIdInHeader||this.requestQueryParams.set(c.w.activityId,s.b.ActivityId);else{const{ocid:e,flightData:n,overwriteFlightData:i}=t,a=(yield Object(v.c)())===b.c.SignedIn?l.a.getOneServiceParamsWithAuth(s.b.UserId,e,!1,n,i):l.a.getOneServiceParamsWithoutAuth(s.b.UserId,e,!1,n,i);this.requestQueryParams=new r.a;for(let e=0;e<a.length;e++)this.requestQueryParams.set(a[e].key,a[e].value);if(S&&!t.start)this.requestQueryParams.set(c.w.feedLayoutRequestType,S);else if(!t.disableQueryType){const e=t.queryType||"myfeed";this.requestQueryParams.set(c.w.queryType,e)}if(this.requestQueryParams.set(c.w.responseSchema,t.disableFlatViewResponse?"cardview":"flatview").set(c.w.wrapOData,"false").set(c.w.disableTypeSerialization,"true").set(c.w.timeOut,""+this.getRequestTimeout(t)).set(c.w.contentType,t.contentType).set(c.w.select,t.select),t.count&&this.requestQueryParams.set(c.w.top,""+t.count),this.tryAddQueryInterestParams(t)||this.requestQueryParams.set(c.w.ids,t.feedId).set(c.w.query,t.query),!S&&!t.disableLocation){const e=l.a.getLocationParams();e&&this.requestQueryParams.set(e.key,e.value)}t.start&&this.requestQueryParams.set(c.w.skip,""+t.start),t.infopaneItemCount&&(this.requestQueryParams.set(c.w.infopaneCount,""+t.infopaneItemCount),!1===t.complexInfopaneEnabled&&this.requestQueryParams.set(c.w.complexInfoPaneEnabled,"false")),x>0&&this.requestQueryParams.set(p.a,x.toString()),(t.useDelta||t.sessionId)&&(this.requestQueryParams.set(c.w.delta,"true"),t.sessionId&&this.requestQueryParams.set(c.w.session,t.sessionId))}let j,R;s.b.SendFeedCallActivityIdInHeader&&this.requestQueryParams.delete(c.w.activityId),w.search=this.requestQueryParams.toString();try{const e=Object(C.a)()?1e4:800,t=yield Object(h.a)(()=>Object(i.b)(this,void 0,void 0,(function*(){return yield Object(d.a)(decodeURIComponent(w.href),e,g)})),"OneServiceCardProvider.fetch");if(!t||!t.ok){const e=t?`OneService returned error response. status: ${t.status} - ${t.statusText}`:"OneService response was null";return void f.a.sendAppErrorEvent(Object.assign(Object.assign({},a.xd.OneServiceResponseWasNullOrErroneous),{message:e,pb:Object.assign(Object.assign({},a.xd.OneServiceResponseWasNullOrErroneous.pb),{customMessage:`ServiceUrl: [${w.href}]`})}))}if(j=yield t.json(),t.headers){t.headers.get("X-Statics-Fallback")&&f.a.sendAppErrorEvent(Object.assign(Object.assign({},a.xd.StaticContentLoaded),{pb:Object.assign(Object.assign({},a.xd.StaticContentLoaded.pb),{customMessage:"Request URL: "+decodeURIComponent(w.href)}),message:"Fell back to static content on the feeds call"}));const e=t.headers.get("ddd-tmpl");f.a.addOrUpdateTmplString(e),R=t.headers.get("ddd-session-id")}}catch(e){return void f.a.sendAppErrorEvent(Object.assign(Object.assign({},a.xd.ErrorFetchingOneServiceResponse),{message:"Error while fetching OneService response",pb:Object.assign(Object.assign({},a.xd.ErrorFetchingOneServiceResponse.pb),{customMessage:`Error: ${e} serviceUrl: ${w.href}, activityId: ${s.b.ActivityId}`})}))}if(!j)return void f.a.sendAppErrorEvent(Object.assign(Object.assign({},a.xd.InvalidJsonInOneServiceResponse),{message:"Didn't get valid JSON from response."}));const{nextPageUrl:P,feedItems:A}=Array.isArray(j.subCards)?Object(y.a)(j):j;if(!A)return void f.a.sendAppErrorEvent(Object.assign(Object.assign({},a.xd.InvalidFeedListInOneServiceResponse),{message:"Didn't get valid feed items list from response.",pb:Object.assign(Object.assign({},a.xd.InvalidFeedListInOneServiceResponse.pb),{customMessage:"Didn't get valid feed items list from response. JSON: "+JSON.stringify(j)})}));let k;if(A.length||t.start||(t.isSearchRequest?this.trackEmptyResponseForInterestSearch(t.feedId,t.query,w.href):t.feedId?this.trackEmptyResponseForXFeed(t.feedId,w.href):t.query?this.trackEmptyResponseForKidsMode(t.query,w.href):this.trackEmptyResponseForMyFeed(w.href)),A.length>=0?k=Object.assign(Object.assign({},t),{nextPageUrl:P,start:(t.start||0)+t.count}):o.a.log(`River has reached end of content stream. requested: ${t.count}, received: ${A.length}`),t.postRequestGrouping){const{start:e,count:n,type:i}=t.postRequestGrouping,a={type:i,subItems:A.splice(e,n)};A.splice(e,0,a)}const I={cardMetadata:A,nextPageRequest:k,sessionId:R};return this.responseCache.set(t,I),I}))}clearCache(){this.responseCache=new g}getRequestTimeout(e){const{timeoutMs:t,isSearchRequest:n,query:i,customFeedTimeoutMs:a}=e;return n&&i&&a?a:t}tryAddQueryInterestParams(e){if(!e.useVerticalAsInterest&&!e.useCategoryAsInterest)return!1;const t=(e.useVerticalAsInterest?s.b.HostPage.verticalKey:s.b.HostPage.categoryKey)||"",n=e.verticalCategoryKeyToInterestMapping[t.toLowerCase()],i=n||e.query;return this.requestQueryParams.set(c.w.query,encodeURIComponent(i)).set(c.w.source,e.contentSource),!!(n||e.useCategoryAsInterest&&!t)||(f.a.sendAppErrorEvent(Object.assign(Object.assign({},a.xd.QueryInterestContentFetchError),{message:"Failed to get content",pb:Object.assign(Object.assign({},a.xd.QueryInterestContentFetchError.pb),{customMessage:`Failed to get content for VerticalKey:${s.b.HostPage.verticalKey} | CategoryKey:${s.b.HostPage.categoryKey}. Loading fallback views river with ${i} content.`})})),!1)}trackAppErrorHelper(e,t,n,i,a){let o="";i&&(o+=`Feed id: ${i}. `),a&&(o+=`Feed query: ${a}. `),o+="href: "+n,f.a.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:o})}))}trackEmptyResponseForKidsMode(e,t){this.trackAppErrorHelper(a.wb,"OneService returned an empty feed for kids mode",t,null,e)}trackEmptyResponseForXFeed(e,t){this.trackAppErrorHelper(a.vb,"OneService returned an empty feed for an x-feed page.",t,e,null)}trackEmptyResponseForInterestSearch(e,t,n){e?this.trackAppErrorHelper(a.xb,"OneService returned an empty feed for a user searched xfeed.",n,e,null):this.trackAppErrorHelper(a.yb,"OneService returned an empty feed for a user query.",n,null,t)}trackEmptyResponseForMyFeed(e){this.trackAppErrorHelper(a.xd.EmptyMyFeed,"OneService returned an empty feed for a myfeed request.",e,null,null)}}S.providerName="OneService"},rRnI:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("y2Il");const a={Landscape_2x:{width:624,height:350},MinLandscape_2x:{width:612,height:338},Landscape_ProngOne_1x:{width:300,height:156},Landscape_1x:{width:300,height:174},Portrait_1x:{width:300,height:374},BigImage_1x:{width:440,height:296},Tabbed_1x:{width:230,height:138},Image_1x1y:{width:90,height:90},Image_MSNHomePageBigPic:{width:300,height:250}},o=220,r={Default:3,Portrait_1x:2,Short_1x1y:1},s={Heading_1x:i.a._5,Heading_Short:i.a._7,Heading_2x:i.a._4,Heading_Tab:i.a._7,Heading_Rr:i.a._6,Heading_Half:i.a._6}},sB3O:function(e,t){},scFN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ERkP"),a=n.n(i),o=n("IATt");class r extends o.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M1.75 6.125C1.87305 6.125 1.98698 6.14779 2.0918 6.19336C2.19661 6.23893 2.28776 6.30273 2.36523 6.38477C2.44727 6.46224 2.51107 6.55339 2.55664 6.6582C2.60221 6.76302 2.625 6.87695 2.625 7C2.625 7.12305 2.60221 7.23698 2.55664 7.3418C2.51107 7.44661 2.44727 7.54004 2.36523 7.62207C2.28776 7.69954 2.19661 7.76107 2.0918 7.80664C1.98698 7.85221 1.87305 7.875 1.75 7.875C1.62695 7.875 1.51302 7.85221 1.4082 7.80664C1.30339 7.76107 1.20996 7.69954 1.12793 7.62207C1.05046 7.54004 0.988932 7.44661 0.943359 7.3418C0.897786 7.23698 0.875 7.12305 0.875 7C0.875 6.87695 0.897786 6.76302 0.943359 6.6582C0.988932 6.55339 1.05046 6.46224 1.12793 6.38477C1.20996 6.30273 1.30339 6.23893 1.4082 6.19336C1.51302 6.14779 1.62695 6.125 1.75 6.125ZM7 6.125C7.12305 6.125 7.23698 6.14779 7.3418 6.19336C7.44661 6.23893 7.53776 6.30273 7.61523 6.38477C7.69727 6.46224 7.76107 6.55339 7.80664 6.6582C7.85221 6.76302 7.875 6.87695 7.875 7C7.875 7.12305 7.85221 7.23698 7.80664 7.3418C7.76107 7.44661 7.69727 7.54004 7.61523 7.62207C7.53776 7.69954 7.44661 7.76107 7.3418 7.80664C7.23698 7.85221 7.12305 7.875 7 7.875C6.87695 7.875 6.76302 7.85221 6.6582 7.80664C6.55339 7.76107 6.45996 7.69954 6.37793 7.62207C6.30046 7.54004 6.23893 7.44661 6.19336 7.3418C6.14779 7.23698 6.125 7.12305 6.125 7C6.125 6.87695 6.14779 6.76302 6.19336 6.6582C6.23893 6.55339 6.30046 6.46224 6.37793 6.38477C6.45996 6.30273 6.55339 6.23893 6.6582 6.19336C6.76302 6.14779 6.87695 6.125 7 6.125ZM12.25 6.125C12.373 6.125 12.487 6.14779 12.5918 6.19336C12.6966 6.23893 12.7878 6.30273 12.8652 6.38477C12.9473 6.46224 13.0111 6.55339 13.0566 6.6582C13.1022 6.76302 13.125 6.87695 13.125 7C13.125 7.12305 13.1022 7.23698 13.0566 7.3418C13.0111 7.44661 12.9473 7.54004 12.8652 7.62207C12.7878 7.69954 12.6966 7.76107 12.5918 7.80664C12.487 7.85221 12.373 7.875 12.25 7.875C12.127 7.875 12.013 7.85221 11.9082 7.80664C11.8034 7.76107 11.71 7.69954 11.6279 7.62207C11.5505 7.54004 11.4889 7.44661 11.4434 7.3418C11.3978 7.23698 11.375 7.12305 11.375 7C11.375 6.87695 11.3978 6.76302 11.4434 6.6582C11.4889 6.55339 11.5505 6.46224 11.6279 6.38477C11.71 6.30273 11.8034 6.23893 11.9082 6.19336C12.013 6.14779 12.127 6.125 12.25 6.125Z"}))}}r.defaultProps={viewBox:"0 0 14 14",width:"14px",height:"14px",xmlns:"http://www.w3.org/2000/svg"}},u4M6:function(e,t,n){"use strict";var i=n("OnwC"),a=n("o1qX"),o=n("ERkP"),r=n.n(o),s=n("eGM7"),c=n("n6wx");n.o(c,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return c.AutoSuggestContext})),n.o(c,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return c.ButtonDirection})),n.o(c,"ProgressType")&&n.d(t,"ProgressType",(function(){return c.ProgressType})),n.o(c,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return c.RadioSlot}));class d extends i.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,active:void 0,slot:void 0}}render(){return r.a.createElement("div",Object.assign({},this.unhandledProps(),{role:"tabpanel","aria-hidden":!this.props.active,className:this.generateClassNames()}),this.props.children)}generateClassNames(){const{tabPanel:e,tabPanel__hidden:t}=this.props.managedClasses;return super.generateClassNames(Object(a.a)(e,[t,!this.props.active]))}}d.defaultProps={active:!1,managedClasses:{}},d.displayName=s.DisplayNamePrefix+"TabPanel",t.default=d},u82V:function(e,t){},uEMx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,a=n("Gcx/"),o=n("5neD");!function(e){e[e.Core=0]="Core",e[e.Image=1]="Image",e[e.PortraitImage_1x=3]="PortraitImage_1x",e[e.LandscapeImage_1x=5]="LandscapeImage_1x",e[e.LandscapeImage_2x=9]="LandscapeImage_2x",e[e.BigImage_1x=17]="BigImage_1x",e[e.Image_1x1y=33]="Image_1x1y",e[e.Abstract=64]="Abstract",e[e.Image_MSNHomePageBigPic=257]="Image_MSNHomePageBigPic"}(i||(i={}));const r={[a.a._2x_2y]:[{minContentFeatures:o.a.HasLandscapeImage_2x,propsToMap:i.LandscapeImage_2x},{minContentFeatures:o.a.HasBigImage_1x,propsToMap:i.BigImage_1x},{minContentFeatures:o.a.HasImage,propsToMap:i.Core},{minContentFeatures:o.a.HasAbstract,propsToMap:i.Abstract},{minContentFeatures:o.a.None,propsToMap:i.Core}],[a.a._1x_3y]:[{minContentFeatures:o.a.HasPortraitImage,propsToMap:i.PortraitImage_1x},{minContentFeatures:o.a.HasLandscapeImage|o.a.HasAbstract,propsToMap:i.LandscapeImage_1x|i.Abstract},{minContentFeatures:o.a.HasAbstract,propsToMap:i.Abstract},{minContentFeatures:o.a.None,propsToMap:i.Core}],[a.a._1x_2y]:[{minContentFeatures:o.a.HasLandscapeImage,propsToMap:i.LandscapeImage_1x},{minContentFeatures:o.a.HasAbstract,propsToMap:i.Abstract},{minContentFeatures:o.a.None,propsToMap:i.Core}],[a.a._1x_1y]:[{minContentFeatures:o.a.HasMSNHomePageBigPic,propsToMap:i.Image_MSNHomePageBigPic},{minContentFeatures:o.a.HasImage_1x1,propsToMap:i.Image_1x1y},{minContentFeatures:o.a.None,propsToMap:i.Core}]}},w5AX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Am8i");class a{constructor(e){this.componentRoot=e,this.contentCard=this.componentRoot.addOrUpdateChild({name:"ContentCard",type:i.e.Headline}),this.hideStoryOnHover=this.componentRoot.addOrUpdateChild({name:"Hide story",behavior:i.b.Open,type:i.e.ActionButton}),this.destination=this.contentCard.addOrUpdateChild({name:"destination",behavior:i.b.Navigate,type:i.e.Headline}),this.kicker=this.contentCard.addOrUpdateChild({name:"kicker",behavior:i.b.Navigate}),this.showMoreFewerNeutralEntryPoint=this.contentCard.addOrUpdateChild({name:"ShowMoreNeutralEntryPoint",type:i.e.DropDown,behavior:i.b.More}),this.save=this.contentCard.addOrUpdateChild({name:"Save",behavior:i.b.Save,type:i.e.ActionButton}),this.more=this.contentCard.addOrUpdateChild({name:"Card Action Ellipses",type:i.e.DropDown,behavior:i.b.More}),this.unlike=this.contentCard.addOrUpdateChild({name:"Undo like",behavior:i.b.Unlike}),this.undislike=this.contentCard.addOrUpdateChild({name:"Undo dislike",behavior:i.b.Undislike}),this.comment=this.contentCard.addOrUpdateChild({name:"Comments",type:i.e.Module}),this.moreLike=this.contentCard.addOrUpdateChild({name:"More stories like this",behavior:i.b.Like,type:i.e.ActionButton}),this.unMoreLike=this.contentCard.addOrUpdateChild({name:"Undo more stories like this",behavior:i.b.Unlike,type:i.e.ActionButton}),this.fewerLike=this.contentCard.addOrUpdateChild({name:"Fewer stories like this",behavior:i.b.Dislike,type:i.e.ActionButton}),this.unFewerLike=this.contentCard.addOrUpdateChild({name:"Undo fewer stories like this",behavior:i.b.Undislike,type:i.e.ActionButton}),this.reactions=this.contentCard.addOrUpdateChild({name:"Reactions",type:i.e.Module}),this.cards={}}mapContentCard(e){return this.contentCard=this.componentRoot.addOrUpdateChild({name:"ContentCard",type:i.e.Headline})}mapCardsArray(e,t){return this.cards[e]=this.contentCard.addOrUpdateChild({name:t[0],type:i.e.Module})}}},wUxM:function(e,t,n){"use strict";var i,a,o,r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),function(e){e.Cancel="cancel",e.Share="share",e.Save="save",e.Like="like",e.Dislike="dislike",e.HideStory="hide",e.MutePublisher="mute",e.ReportArticle="reportArticle",e.Report="report",e.AdChoice="adChoice",e.ShowMore="showMore",e.ShowFewer="showFewer",e.Divider="divider"}(i||(i={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(a||(a={})),function(e){e[e.OffensiveOrAdult=1]="OffensiveOrAdult",e[e.InaccurateOrMisleading=2]="InaccurateOrMisleading",e[e.Outdated=3]="Outdated",e[e.Duplicate=4]="Duplicate",e[e.DisplayIssue=5]="DisplayIssue",e[e.Other=6]="Other"}(o||(o={})),function(e){e[e.Misleading=1]="Misleading",e[e.Inappropriate=2]="Inappropriate",e[e.BadImage=3]="BadImage",e[e.Other=4]="Other"}(r||(r={}));const s="https://assets.msn.com/labs/api/feedbackSignal",c={cardActionTelemetryName:"Card Action Ellipses",muteConfirmationTelemetryName:"Hide Stories from Publisher",muteButtonTelemetryName:"Mute",cancelTelemetryName:"Cancel",shareDialogTelemetryName:"Share",closeDialogTelemetryName:"Close",copyTelemetryName:"Copy",shareArticleTelemetryName:"ShareArticle",reportTelemetryName:"Report this ad",reportButtonTelemetryName:"Report",adChoiceTelemetryName:"AdChoice"},d="mute"},x0ne:function(e,t){},x0nu:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("YJhp"),a=n("wirn"),o=n("Am8i"),r=n("u5KZ"),s=n("JnE6");const c={ReactionMenu:{name:"ReactionsPopup",content:{type:o.c.Article}},CommentCountsButton:{name:"Comments",behavior:o.b.Navigate,content:{type:o.c.Article,headline:"Comments"}},LikeButton:{name:"Like",behavior:o.b.Like,content:{type:o.c.Article,headline:"Like"}},ActiveReactionButton:{name:"Undo Like",content:{type:o.c.Article}}},d=e=>{r.a&&e&&r.a.sendContentViewEvent(e,s.b.View)},l=e=>{r.a&&e&&r.a.sendActionEvent(e,o.a.Hover)};function u(e){return"undo "+e}function h(e){try{return o.b[Object.keys(o.b).filter(t=>t.toLowerCase()==e.toLowerCase())[0]]}catch(e){return o.b.Like}}function p(e,t,n,i){return t.content=Object.assign(Object.assign({},t.content),n||{}),e?e.addOrUpdateChild(t,i||null):null}function g(e,t=!0){if(!e)return{};e.isVisible=t;return{"data-t":e.render()["data-t"]}}var m=n("dMmp");function b(e,t,n="{number}k",i=!1){return e?e<1e3?""+e:e<9900?m.String.Format(n,{number:(a=e/1e3,a.toLocaleString(t,{minimumFractionDigits:1,maximumFractionDigits:1}))}):m.String.Format(n+"{plus}",{number:9,plus:i?"+":""}):void 0;var a}function f(e){return e?Object.keys(e).map(t=>e[t]).reduce((e,t)=>e+t):0}var C=n("OnwC"),v=n("ERkP"),y=n.n(v),S=n("WO7E"),O=n("o1qX");const w=S.a.like,x={[S.a.like]:i.b.EmojiLike,[S.a.love]:i.b.EmojiHeart,[S.a.surprised]:i.b.EmojiSurprised,[S.a.thinking]:i.b.EmojiThinking,[S.a.sad]:i.b.EmojiSad,[S.a.angry]:i.b.EmojiAngry},j={[S.a.like]:"#FF9637",[S.a.love]:"#FF5952",[S.a.surprised]:"#FF9637",[S.a.thinking]:"#FF9637",[S.a.sad]:"#FF9637",[S.a.angry]:"#FF5952"};class R extends C.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,totalCommentsCount:void 0,id:void 0,myReaction:void 0,onReaction:void 0,market:void 0,reactionCounts:void 0,likeButtonVisible:void 0,localizedStrings:void 0,useLabelStyle:void 0,mainTelemetryObject:void 0,hideCommentCount:void 0},this.state={focusedEmojiKey:null,reactionMenuVisible:!1,likeButtonVisible:e.likeButtonVisible||!1,_props:void 0,myReaction:void 0,totalReactionsCount:void 0,reactionCounts:void 0,accessibleReactionMenu:!1,accessShouldHaveOutline:!1},this.telemetryObjects={},this.reactionMenuRef=y.a.createRef(),this.reactionMenuPositionFixed=!1,this.accessClickableClassName="accessClickable",this.accessKeyList=[9,27,37,39],this.accessOutlineStyle=document.createElement("style"),this.accessOutlineStyle.setAttribute("id",this.accessClickableClassName+"Style"),this.accessKeyboardOutlineEvent=this.accessKeyboardOutlineEvent.bind(this),this.accessMouseOutlineEvent=this.accessMouseOutlineEvent.bind(this),this.accessFocusInOutlineEvent=this.accessFocusInOutlineEvent.bind(this)}static getDerivedStateFromProps(e,t){if(t._props===e)return t;const n=f(e.reactionCounts);return Object.assign(Object.assign({},t),{_props:e,myReaction:e.myReaction,reactionCounts:e.reactionCounts,totalReactionsCount:n,likeButtonVisible:e.likeButtonVisible||n<1})}reactionHandler(e){const{id:t,onReaction:n}=this.props,i=this.state.myReaction,a=e===i,o=Object.assign({},this.state.reactionCounts);if(this.hideReactionMenu(),a?o[e]=(o[e]||1)-1:(o[e]=(o[e]||0)+1,o[i]&&(o[i]=o[i]-1)),this.setState({myReaction:a?void 0:e,totalReactionsCount:f(o),reactionCounts:o,focusedEmojiKey:null}),!n)throw"SocialBar onReactionHandler is not defined";n(t,e,a)}commentsCountClickHandler(){}componentDidMount(){this.activateOutline(),document.head.appendChild(this.accessOutlineStyle)}componentWillUnmount(){document.removeEventListener("keydown",this.accessKeyboardOutlineEvent),document.removeEventListener("mousedown",this.accessMouseOutlineEvent),document.removeEventListener("focusin",this.accessFocusInOutlineEvent),document.getElementById(this.accessClickableClassName+"Style")&&document.getElementById(this.accessClickableClassName+"Style").remove()}componentDidUpdate(){this.state.accessibleReactionMenu&&(document.getElementById(`reactionButton_${this.state.focusedEmojiKey}_${this.props.id}`)&&document.getElementById(`reactionButton_${this.state.focusedEmojiKey}_${this.props.id}`).focus(),this.setState({accessibleReactionMenu:!1})),this.accessOutlineStyle.getAttribute("outline")!=this.state.accessShouldHaveOutline.toString()&&this.accessOutlineStyle.setAttribute("outline",this.state.accessShouldHaveOutline.toString())}render(){const{myReaction:e,totalReactionsCount:t,reactionMenuVisible:n}=this.state,{managedClasses:i,totalCommentsCount:a,localizedStrings:o,hideCommentCount:r}=this.props,s=!!e;return y.a.createElement("div",{className:Object(O.a)(i.socialBar,i.noSelect),onMouseOver:()=>this.toggleLikeButton(!0),onMouseLeave:()=>this.toggleLikeButton(!1),onFocus:()=>this.toggleLikeButton(!0),onBlur:()=>this.toggleLikeButton(!1)},s?this.renderActiveReaction(o["emojiLabel"+e]):this.renderLikeButton(o.emojiLabellike),n&&this.renderReactionMenu(),t>0&&this.renderReactionsCount({label:this.convertCountToString(t,s&&1!=t),hideIcons:s}),a>0&&!r&&this.renderCommentsCount(this.convertCountToString(a)))}renderReactionsCount(e){const t=this.extractMostReactionsFromState(),{managedClasses:n,localizedStrings:i}=this.props,{totalReactionsCount:o}=this.state,{label:r,hideIcons:s}=e,c=t&&t.map(e=>y.a.createElement(a.a,{className:n.iconButtonIcon,glyphType:x[e]})),d=!s||1==o;return y.a.createElement("button",{className:Object(O.a)(n.iconButton,n.reactionsCountButton,[n.reactionCountNoIcon,!d]),role:"text","aria-label":m.String.Format(i.ariaLabelReactionsCount,r),onMouseOver:null,tabIndex:-1},d&&c.map((e,t)=>y.a.createElement(y.a.Fragment,{key:t},e)),y.a.createElement("span",{className:n.iconLabel},r))}renderCommentsCount(e){const{managedClasses:t,localizedStrings:n,mainTelemetryObject:o,id:r}=this.props;return o&&(this.telemetryObjects.commentCountsButton=p(o,c.CommentCountsButton,{id:r},this.telemetryObjects&&this.telemetryObjects.commentCountsButton)),y.a.createElement("button",Object.assign({className:Object(O.a)(t.iconButton,t.commentsCountButton,this.accessClickableClassName),onClick:()=>this.commentsCountClickHandler(),"aria-label":m.String.Format(n.ariaLabelCommentsCount,e)},g(this.telemetryObjects.commentCountsButton)),y.a.createElement(a.a,{className:t.iconButtonIcon,glyphType:i.b.Comment}),y.a.createElement("span",{className:t.iconLabel},e))}renderLikeButton(e){const{managedClasses:t,useLabelStyle:n,mainTelemetryObject:o,id:r,localizedStrings:s}=this.props,{myReaction:d,likeButtonVisible:l,reactionMenuVisible:u}=this.state;return o&&(this.telemetryObjects.likeButton=p(o,c.LikeButton,{id:r},this.telemetryObjects&&this.telemetryObjects.likeButton)),y.a.createElement("div",{className:t.buttonContainer},y.a.createElement("button",Object.assign({id:"reactionButton_"+this.props.id,className:Object(O.a)(n?t.iconButtonLabel:t.iconButton,t.likeButton,[t.widthTransitionEnter,l],[t.widthTransitionEnterLabel,n],this.accessClickableClassName,[t.iconButtonBg,u],"no-mr"),title:"",onClick:()=>this.reactionHandler(d||w),"aria-pressed":!1,onFocus:()=>this.toggleLikeButton(!0),onBlur:()=>this.toggleLikeButton(!1),onMouseEnter:e=>this.reactionMenuTriggerMouseEnterHandler(e),onMouseLeave:()=>this.hideReactionMenu()},g(this.telemetryObjects.likeButton,!1),{tabIndex:0}),y.a.createElement(a.a,{className:t.iconButtonIcon,glyphType:i.b.ThumbUp3}),y.a.createElement("span",{className:t.iconLabel},e)),y.a.createElement("button",{id:"reactionButton_access_"+r,className:Object(O.a)(n?t.iconButtonLabel:t.iconButton,t.visibleOnFocus,this.accessClickableClassName),title:"","aria-label":s.ariaLabelShowReactions,tabIndex:0,onClick:e=>{this.accessToggleReactionMenu(e)}},y.a.createElement(a.a,{className:Object(O.a)(t.iconButtonIcon,t.accessibilityArrow),glyphType:i.b.Chevron})))}renderCommentButton(e){const{managedClasses:t,useLabelStyle:n}=this.props;return y.a.createElement("button",{className:Object(O.a)(n?t.iconButtonLabel:t.iconButton,this.accessClickableClassName),title:"",onClick:null,onMouseOver:null},y.a.createElement(a.a,{className:t.iconButtonIcon,glyphType:i.b.CommentFill}),y.a.createElement("span",{className:t.iconLabel},e))}renderActiveReaction(e){const{managedClasses:t,useLabelStyle:n,mainTelemetryObject:o,id:r,localizedStrings:s}=this.props,{myReaction:d,reactionMenuVisible:l}=this.state;if(o){const e=u(d),t=h(d);this.telemetryObjects.activeReactionButton=p(o,Object.assign(Object.assign({},Object.assign({},c.ActiveReactionButton)),{name:e,behavior:t}),{id:r,headline:e},this.telemetryObjects&&this.telemetryObjects.activeReactionButton)}return y.a.createElement("div",{className:t.buttonContainer},y.a.createElement("button",Object.assign({id:"reactionButton_"+this.props.id,className:Object(O.a)(n?t.iconButtonLabel:t.iconButton,t.boldFont,this.accessClickableClassName,[t.iconButtonBg,l])+" no-mr",title:"",onClick:()=>this.reactionHandler(d||w),"aria-pressed":!0,onMouseEnter:e=>this.reactionMenuTriggerMouseEnterHandler(e),onMouseLeave:()=>this.hideReactionMenu(),style:n?{color:j[d]}:null},g(this.telemetryObjects.activeReactionButton,!1),{tabIndex:0}),y.a.createElement(a.a,{className:t.iconButtonIcon,glyphType:x[d]}),y.a.createElement("span",{className:t.iconLabel},e)),y.a.createElement("button",{id:"reactionButton_access_"+r,className:Object(O.a)(n?t.iconButtonLabel:t.iconButton,t.visibleOnFocus,this.accessClickableClassName),title:"","aria-label":s.ariaLabelShowReactions,tabIndex:0,onClick:e=>{this.accessToggleReactionMenu(e)}},y.a.createElement(a.a,{className:Object(O.a)(t.iconButtonIcon,t.accessibilityArrow),glyphType:i.b.Chevron})))}renderReactionMenu(){const{managedClasses:e,localizedStrings:t,mainTelemetryObject:n,id:i}=this.props,{focusedEmojiKey:o,myReaction:r}=this.state;return n&&(this.telemetryObjects.reactionMenu=p(n,c.ReactionMenu,{id:i},this.telemetryObjects&&this.telemetryObjects.reactionMenu)),y.a.createElement("div",Object.assign({className:e.reactionMenuContainer,ref:this.reactionMenuRef,id:"reactionContainer_"+this.props.id,"aria-label":t.ariaLabelReactions,onMouseOver:()=>this.triggerShowReactionMenu(),onMouseOut:()=>this.hideReactionMenu(),role:"toolbar"},g(this.telemetryObjects.reactionMenu)),Object.keys(x).map(n=>{let s;if(this.telemetryObjects.reactionMenu){const e=n,t=r==n?u(r):n,a=h(n);s=p(this.telemetryObjects.reactionMenu,Object.assign(Object.assign({},Object.assign({},c.ReactionMenu)),{behavior:a,name:e}),{id:i,headline:t})}return y.a.createElement("button",Object.assign({id:`reactionButton_${n}_${this.props.id}`,key:n,className:e.reactionMenuEmojiBtn,"aria-pressed":!(!r||r!=n),"aria-label":t["emojiLabel"+n],onClick:()=>this.reactionHandler(n),onKeyDown:e=>{this.handleKeyPress(e,n)},onMouseOver:()=>{document.activeElement.blur(),this.emojiFocused(n)},onFocus:()=>this.emojiFocused(n),onMouseOut:()=>this.emojiFocused(null),"data-title":t["emojiLabel"+n]},{"data-faded":o&&o!=n},{tabIndex:0},g(s,!1)),y.a.createElement(a.a,{className:e.reactionMenuIcon,glyphType:x[n]}))}))}emojiFocused(e){this.setState({focusedEmojiKey:e})}reactionMenuTriggerMouseEnterHandler(e){l(e.currentTarget),this.triggerShowReactionMenu(!0)}showReactionMenu(){this.state.reactionMenuVisible||(this.reactionMenuPositionFixed=!1,this.watchReactionMenu(),this.setState({reactionMenuVisible:!0}),setTimeout(()=>d(this.reactionMenuRef&&this.reactionMenuRef.current),200))}watchReactionMenu(e=20){if(!this.reactionMenuPositionFixed)if(this.reactionMenuRef.current)this.reactionMenuPositionFixed=!0,function(e){if(!e)return;const t=e.getBoundingClientRect();let n,i=e;for(;!n&&i.parentElement;){i=i.parentElement;const a=i.getBoundingClientRect();if(a.width>=t.width&&a.height>=t.height){n=i;const o=t.left-a.left,r=t.right-a.right,s=(o<0?o:0)+(r>0?r:0);t.top,a.top,t.bottom,a.bottom;e.style.transform=`translateX(${-s}px)`,e.style.opacity="1"}}}(this.reactionMenuRef.current);else{if(e<1)return;setTimeout(()=>this.watchReactionMenu(--e),25)}}triggerShowReactionMenu(e=!1){this.reactionMenuCloseTimer&&clearTimeout(this.reactionMenuCloseTimer),e?this.reactionMenuOpenTimer=setTimeout(()=>this.showReactionMenu(),750):this.showReactionMenu()}hideReactionMenu(){this.reactionMenuOpenTimer&&clearTimeout(this.reactionMenuOpenTimer),this.reactionMenuCloseTimer=setTimeout(()=>this.setState({reactionMenuVisible:!1}),300)}toggleLikeButton(e){setTimeout(()=>{this.props.likeButtonVisible||this.state.totalReactionsCount<1&&!this.state.myReaction?this.setState({likeButtonVisible:!0}):this.setState({likeButtonVisible:e})},10)}extractMostReactionsFromState(){return this.state.reactionCounts&&Object.entries(this.state.reactionCounts).filter(e=>e[1]>0).sort((e,t)=>e[1]-t[1]).map(e=>e[0]).slice(0,2)}convertCountToString(e,t=!1){const{market:n,localizedStrings:i}=this.props;return t?"+ "+b(e,n,i.thousandsShort,!1):b(e,n,i.thousandsShort,!0)}handleKeyPress(e,t){if(37==e.keyCode)if(x&&Object.keys(x)[0]==t){const e=Object.keys(x).pop();document.getElementById(`reactionButton_${e}_${this.props.id}`)&&document.getElementById(`reactionButton_${e}_${this.props.id}`).focus()}else document.getElementById(`reactionButton_${t}_${this.props.id}`).previousElementSibling.focus();else if(39==e.keyCode)if(x&&Object.keys(x).pop()==t){const e=Object.keys(x).shift();document.getElementById(`reactionButton_${e}_${this.props.id}`)&&document.getElementById(`reactionButton_${e}_${this.props.id}`).focus()}else document.getElementById(`reactionButton_${t}_${this.props.id}`)&&document.getElementById(`reactionButton_${t}_${this.props.id}`).nextElementSibling.focus();else if(27==e.keyCode)document.activeElement.blur(),this.emojiFocused(null),this.setState({reactionMenuVisible:!1}),document.getElementById("reactionButton_access_"+this.props.id)&&document.getElementById("reactionButton_access_"+this.props.id).focus();else if(9==e.keyCode)this.emojiFocused(null),this.setState({reactionMenuVisible:!1}),document.getElementById("reactionButton_access_"+this.props.id)&&(e.preventDefault(),document.getElementById("reactionButton_access_"+this.props.id).focus());else if((13==e.keyCode||32==e.keyCode)&&(document.getElementById(`reactionButton_${t}_${this.props.id}`)&&(document.getElementById(`reactionButton_${t}_${this.props.id}`).click(),e.preventDefault()),document.getElementById("reactionButton_"+this.props.id))){const e=document.getElementById("reactionButton_"+this.props.id);setTimeout(()=>{e.focus()},75)}}accessToggleReactionMenu(e){const t=!this.state.reactionMenuVisible;t&&(this.emojiFocused(Object.keys(x).shift()),this.setState({accessibleReactionMenu:!0}),e.stopPropagation()),t?this.showReactionMenu():this.hideReactionMenu()}activateOutline(){this.accessOutlineStyle=document.getElementById(this.accessClickableClassName+"Style"),this.accessOutlineStyle||(this.accessOutlineStyle=document.createElement("style"),this.accessOutlineStyle.setAttribute("id",this.accessClickableClassName+"Style"));document.head;document.addEventListener("keydown",this.accessKeyboardOutlineEvent),document.addEventListener("mousedown",this.accessMouseOutlineEvent),document.addEventListener("focusin",this.accessFocusInOutlineEvent)}accessKeyboardOutlineEvent(e){this.accessKeyList.includes(e.keyCode)&&!this.state.accessShouldHaveOutline&&this.setState({accessShouldHaveOutline:!0})}accessMouseOutlineEvent(e){e.isTrusted&&this.setState({accessShouldHaveOutline:!1})}accessFocusInOutlineEvent(e){!this.state.accessShouldHaveOutline&&e.isTrusted?this.accessOutlineStyle.innerText=".accessClickable:focus { border: none; }":this.accessOutlineStyle&&(this.accessOutlineStyle.innerText=".accessClickable:focus {     border: solid 1px #888888; }")}}var P=n("+viU"),A=n("6u3Q"),k=n("SP+O"),I=n("7b0X"),E=n("X9F+"),M=n("MZhw"),T=n("0fst"),_=n("rRWH");const F={cursor:"pointer",padding:"0",margin:"0",background:"none",border:"none",outline:"none"},N={"font-size":"inherit",width:"1em !important",color:"inherit",fill:"currentColor"},H=Object(P.a)(e=>({socialBar:{position:"relative",display:"flex","align-items":"center","justify-content":"flex-start",margin:"0 -6px","font-family":'"Segoe UI", "Segoe WP", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", Arial, Sans-Serif'},buttonContainer:{display:"inline-flex",margin:"0"},iconButton:Object.assign(Object.assign({},F),{display:"flex","align-items":"top",color:Object(A.e)(e)?k.c:I.a,height:"32px","font-size":"16px","font-style":"normal","border-radius":"4px",margin:"0 6px",background:E.c,padding:"8px 8px 0","&.no-mr":{margin:"0px"},"&:hover, &:focus":{background:E.a}}),iconButtonLabel:Object.assign(Object.assign({},F),{display:"flex","align-items":"flex-start",color:Object(A.e)(e)?k.c:I.a,height:"32px","font-size":"16px","border-radius":"4px",padding:"8px 8px 0",[Object(_.b)("padding-left","padding-right",e.direction)]:"8px","&:hover":{background:E.a}}),iconButtonBg:{background:E.a},boldFont:{"font-weight":"600"},iconButtonIcon:Object.assign(Object.assign({},N),{margin:"0 1px"}),reactionsCountButton:{background:"none","padding-left":"0","padding-right":"0","&:hover, &:focus":{background:"none","padding-left":"0","padding-right":"0"}},reactionCountNoIcon:{[Object(_.b)("margin-left","margin-right",e.direction)]:"-9px"},commentsCountButton:{background:"none","padding-left":"0","padding-right":"0","&:hover, &:focus":{background:"none","padding-left":"0","padding-right":"0"}},likeButton:{overflow:"hidden",margin:"0",padding:"0",opacity:"0",height:"0",transition:"all .2s","& > *":{opacity:"0",[Object(_.b)("margin-left","margin-right",e.direction)]:"-200px",transition:"all .2s"}},iconLabel:{"margin-top":"2px",[Object(_.b)("padding-left","padding-right",e.direction)]:"5px","font-size":"12px","white-space":"nowrap","&.plr-4":{[Object(_.b)("padding-left","padding-right",e.direction)]:"3px"}},reactionMenuContainer:{position:"absolute",top:"-50px",[Object(_.b)("left","right",e.direction)]:"6px","z-index":T.a.Dialog.toString(),display:"flex !important","align-items":"flex-start","justify-content":"center",height:"calc(32px + 12px)",padding:"6px 8px 0",background:M.a,"border-radius":"32px","-webkit-box-shadow":"0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0.6px 1.8px rgba(0, 0, 0, 0.1)","-moz-box-shadow":"0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0.6px 1.8px rgba(0, 0, 0, 0.1)","box-shadow":"0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0.6px 1.8px rgba(0, 0, 0, 0.1)",opacity:"0"},reactionMenuEmojiBtn:Object.assign(Object.assign({},F),{position:"relative",display:"flex","flex-direction":"column","align-items":"center",width:"calc(32px + 8px)",margin:"0 0 !important",padding:"2px 4px !important","font-size":"32px",transition:"ease .1s","&:hover, &:focus":{"font-size":"40px",transform:"translateY(-7px)"},'&[data-faded="true"]':{opacity:".4"},"&:hover:before, &:focus:before":{position:"absolute","z-index":(T.a.Dialog+1).toString(),top:"-19px",display:"flex","align-items":"center","justify-content":"center",content:"attr(data-title)","white-space":"nowrap",height:"18px",padding:"0 8px 1px","font-size":"13px","text-transform":"capitalize",background:k.c,color:M.a,"border-radius":"11px"}}),reactionMenuIcon:Object.assign({},N),widthTransitionEnter:{padding:"8px 8px 0",[Object(_.b)("padding-left","padding-right",e.direction)]:"8px",opacity:"1",height:"32px","& > *":{opacity:"1",[Object(_.b)("margin-left","margin-right",e.direction)]:"0"}},noSelect:{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},visibleOnFocus:{display:"inline-flex",width:"0",height:"0",margin:"0",padding:"0",overflow:"hidden","&:focus":{width:"auto",color:Object(A.e)(e)?k.c:I.a,fill:Object(A.e)(e)?k.c:I.a,border:"none",height:"32px !important","font-size":"16px",opacity:"1.0","align-items":"center"}},accessibilityArrow:{transform:"rotate(-90deg) translate(0px, 0px)"}}))(R)},x2Ry:function(e,t){},xaBU:function(e,t,n){"use strict";n.d(t,"k",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return C})),n.d(t,"n",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"l",(function(){return S})),n.d(t,"i",(function(){return O})),n.d(t,"o",(function(){return w})),n.d(t,"m",(function(){return x})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return R})),n.d(t,"j",(function(){return P})),n.d(t,"f",(function(){return A})),n.d(t,"p",(function(){return k})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return E})),n.d(t,"q",(function(){return M}));var i=n("SP+O"),a=n("MF9s"),o=n("X9F+"),r=n("objN"),s=n("8yfO"),c=n("6u3Q"),d=n("7b0X"),l=n("rRWH"),u=n("fz//"),h=n("rRnI"),p=n("0fst"),g=n("mObi");const m=e=>({contentPreview:{color:i.c,position:"relative",cursor:"pointer",width:"100%"},contentPreview_loading:{background:a.k},fadeInAnimation:{"animation-name":"fadeIn","animation-duration":"0.5s","animation-timing-function":"ease-out"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},hideStoryGlyphButton:{background:o.b,position:"absolute",[Object(l.b)("margin-left","margin-right",e.direction)]:"5px",[Object(l.b)("right","left",e.direction)]:"3px",top:"3px","z-index":""+p.a.Above,"border-radius":"50%",border:"none",padding:"6px",opacity:"0.85","&:hover":{opacity:"1.0"}},hideStoryGlyph:{transform:Object(l.b)("","rotate(180deg)",e.direction),"text-align":"center","vertical-align":"middle"}}),b=e=>({contentCard_actionRegion:{bottom:"0",[Object(l.b)("right","left",e.direction)]:"0"},contentCard_actionIcon:{width:"40px",height:"40px",[Object(l.b)("margin-left","margin-right",e.direction)]:"0"}}),f={icon:{width:"20px",height:"20px","max-height":"none","max-width":"none"}},C=Object.assign(Object.assign({},f),{icon_inline:Object.assign(Object.assign({},r.l),{fill:"white"})}),v={contentCard_kickerContent:{"max-width":"162px"}},y=Object(g.a)((e=h.d.Default)=>({contentCard__1x_2y:{"& $contentCard_imageRegion":{"max-height":"174px",overflow:"hidden"}},contentCard__2x_2y:{"& $contentCard_image":{"margin-left":"auto","margin-right":"auto"}},contentCard_image:{},contentCard_imageRegion:{width:"100%",height:"100%"},contentCard_headingContent:{overflow:"hidden","-webkit-box-orient":"vertical",display:"-webkit-box","-webkit-line-clamp":""+e}})),S=()=>({contentCard__1x_1y:{"& $contentCard_imageRegion":{width:"auto"}},contentCard_headingContent:{display:"block","max-height":"unset"},contentCard_image:{height:"auto",margin:"auto",width:"100%"},contentCard_imageRegion:{width:"100%"}}),O=e=>Object.assign(Object.assign(Object.assign({},y()),b(e)),{contentCard_contentRegion:{padding:"0 12px"},contentCard_image:{"max-width":"none",height:"100%",width:"auto",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},contentCard_imageRegion:{width:"100%",height:"100%","justify-content":"center"},contentCard_attributionRegion:{"&&":{padding:"12px"}}}),w=e=>Object.assign(Object.assign(Object.assign({},b(e)),y()),{contentCard_contentRegion:{padding:"12px 12px 0"},contentCard_imageRegion:{"&&":{margin:"12px 12px 0",[Object(l.b)("margin-left","margin-right",e.direction)]:"0"}},contentCard_attributionRegion:{"&&":{padding:"0 12px 12px"}},contentCard_headingContent:{"line-height":"22px"}}),x=Object.assign(Object.assign({},v),{contentCard_headingContent:{"font-weight":"400"}}),j=Object.assign(Object.assign({},y()),{contentCard_headingContent:{"font-weight":"400",overflow:"hidden","-webkit-box-orient":"vertical",display:"-webkit-box","-webkit-line-clamp":"3"}}),R={contentCard_image:{height:"72px",width:"72px",overflow:"hidden"},contentCard_headingContent:{"font-size":"17px"}},P=Object.assign(Object.assign({},O),{contentCard_image:{height:"264px",width:"351px",overflow:"hidden"}}),A=()=>Object.assign(Object.assign({},O),j),k={button:{width:"24px","min-width":"24px","max-width":"24px",height:"24px","line-height":"0",padding:"0",border:"none","border-radius":"16px","box-shadow":"0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0px 3.8px rgba(0, 0, 0, 0.11);"}},I=Object(g.a)((e,t)=>({button:{"&&":Object.assign({padding:"0 3px",width:"auto"},Object(s.c)("t8"))},button_contentRegion:{color:e&&"white",[Object(l.b)("margin-left","margin-right",t.direction)]:"5px"},button_beforeContent:{"&&":{margin:"0"}}})),E=e=>({contentCard__hasAbstractFooter:{background:e.backgroundColor+"!important","box-shadow":Object(u.a)("0px -25px 15px {0} !important",()=>e.backgroundColor)}}),M=Object(g.a)(e=>({contentCard_heading:{"&:link":{color:Object(c.e)(e)?"#FFFFFF":"#000000"}},contentCard_hoverActions:{[Object(l.b)("right","left",e.direction)]:"8px",[Object(l.b)("left","right",e.direction)]:"auto","& button:focus-visible":Object.assign({border:"1px solid","border-color":d.a},r.y)},contentCard_footer:{"white-space":"nowrap"},contentCard_startActions:{"max-width":"188px","z-index":"3"},contentCard_endActions:{"& button:focus-visible":Object.assign({border:"1px solid","border-color":d.a},r.y)}}))},xaDv:function(e,t){},y4Zl:function(e,t){},z49O:function(e,t,n){"use strict";var i=n("OnwC"),a=n("o1qX"),o=n("ERkP"),r=n.n(o),s=n("eGM7"),c=n("PTSW");n.o(c,"AutoSuggestContext")&&n.d(t,"AutoSuggestContext",(function(){return c.AutoSuggestContext})),n.o(c,"ButtonDirection")&&n.d(t,"ButtonDirection",(function(){return c.ButtonDirection})),n.o(c,"ProgressType")&&n.d(t,"ProgressType",(function(){return c.ProgressType})),n.o(c,"RadioSlot")&&n.d(t,"RadioSlot",(function(){return c.RadioSlot}));class d extends i.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,active:void 0,slot:void 0}}render(){return r.a.createElement("div",Object.assign({},this.unhandledProps(),{role:"tab","aria-selected":this.props.active,className:this.generateClassNames()}),this.props.children)}generateClassNames(){const{tab:e,tab__active:t}=this.props.managedClasses;return super.generateClassNames(Object(a.a)(e,[t,this.props.active]))}}d.defaultProps={active:!1,managedClasses:{}},d.displayName=s.DisplayNamePrefix+"Tab",t.default=d},zJcZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("LJMo");function a(e){return e?{feedItems:e.subCards.map(e=>o(e)),nextPageUrl:e.nextPageUrl}:{}}function o(e){if(!e)return{};if(e.type===i.a.SportsMatch||e.type===i.a.StockQuote||e.type===i.a.TrafficDelays||e.type===i.a.WeatherSummary||e.type===i.a.ShoppingMerchantCategoryDeals)return e;if(e.subCards)return e.type==i.a.MyBriefRiverCard||e.type==i.a.TopStories?e:function(e){const{type:t,title:n}=e,i=e.subCards.map(e=>o(e));return{type:t,subItems:i,metadata:{title:n}}}(e);if(e.type===i.a.ExternalLink)return function(e){const{id:t,type:n,images:i,url:a,category:o,feed:r={},title:s="",abstract:l=""}=e,u=d(i)||{},h=c(a),{uiHint:p,actionText:g}=e.uiMetadata||{};return{id:t,type:n,metadata:{abstractLength:l.length,title:s,titleLength:s.length,category:o||h[4],subCategory:"other",primaryImage:{height:u.height,width:u.width,url:u.url},locale:h[3],url:a,abstract:l,uiHint:p,actionText:g,feed:{id:r.id},kicker:[{feedName:r.feedName}]}}}(e);if(e.type===i.a.WebContent)return function(e){const{id:t,type:n,images:i,url:a,category:o,locale:r,reactionSummary:s,commentSummary:u,abstract:h="",feed:p={},title:g="",provider:m={},actions:b=[]}=e,f=d(i)||{},C=c(a);return{id:t,type:n,metadata:{abstract:h,abstractLength:h.length,titleLength:g.length,category:o||C[4],subCategory:C[5],locale:r,feed:{id:p.id},kicker:[p],actions:b.map(e=>l[e]||e),reactionSummary:s,commentSummary:u,primaryImage:{height:f.height,width:f.width,url:f.url},url:a,title:g,provider:{name:m.name,logo:{url:m.logoUrl}}}}}(e);const{type:t,isBreaking:n,locale:a,category:u,images:h,topics:p=[],dataUrl:g,publishedDateTime:m,id:b,url:f,abstract:C="",title:v="",provider:y={},feed:S={},actions:O=[],externalVideoFiles:w,reactionSummary:x,commentSummary:j,sourceId:R}=e,P=d(h)||{},A=w||{},k=p.find(e=>e.feedId===S.id&&e.locale===a),I=c(f);let E=s(y.logoUrl);return!E&&y.logo&&y.logo.url&&(E=s(y.logo.url)),{id:b,type:t,metadata:{abstractLength:C.length,titleLength:v.length,category:u||I[4],subCategory:I[5],primaryImage:{height:P.height,width:P.width},locale:a,feed:{id:S.id},kicker:[S],actions:O.map(e=>l[e]||e),reactionSummary:x,commentSummary:j},cardContent:{id:b,type:r(t),title:v,uriTitle:I[6],abstract:C,isBreaking:n||0,tags:[k||{}],provider:{id:y.id,name:y.name,logo:{id:E},logoUrl:y.logoUrl,subscribable:!1},category:{product:u,label:void 0},locale:a,images:[{id:s(P.url),height:P.height,width:P.width,caption:P.title,focalRegion:P.focalRegion,attribution:P.attribution,url:P.url}],videoFiles:A,publishedDateTime:m,kicker:v,sourceHref:g,destinationUrl:f,sourceId:R}}}function r(e){switch(e){case"article":return"ArticlePreview";case"video":return"VideoPreview";case"slideshow":return"SlideshowPreview";default:return""}}function s(e){if(!e)return"";const t=e.split("/");return d(t)&&t[t.length-1].replace(".img","")}function c(e){return e?e.split("/"):[]}function d(e=[],t=0){return e[t]}const l={liked:"like",unliked:"unlike",saved:"save"}}}]);