(window.webpackJsonp=window.webpackJsonp||[]).push([["sports-card"],{"+qLX":function(e,t,a){"use strict";var r,s,i,n,o,c,l;a.d(t,"a",(function(){return n})),function(e){e.Article="article",e.Gallery="gallery",e.Video="video",e.Win32="win32",e.UWP="uwp",e[e.Module=8]="Module",e[e.ActionButton=11]="ActionButton",e[e.Navigation=14]="Navigation",e[e.WebView=31]="WebView",e[e.SmartList=35]="SmartList"}(r||(r={})),function(e){e[e.Taboola=0]="Taboola",e[e.Outbrain=1]="Outbrain",e[e.MediaNet=2]="MediaNet",e[e.Editor=3]="Editor",e[e.Personalization=4]="Personalization",e[e.Autocuration=5]="Autocuration"}(s||(s={})),function(e){e[e.MUID=0]="MUID",e[e.ANID=1]="ANID",e[e.AAD=2]="AAD"}(i||(i={})),function(e){e.StartPage="startpage",e.SpartanDhp="default",e.SpartanNtp="default",e.ArticleVnext="article_vnext",e.GalleryVnext="gallery_vnext",e.GalleryClassic="gallery_classic",e.GalleryFlex="gallery_flex",e.ArticleFlex="article_flex",e.StockDetailsPage="stockdetails",e.TeamStatsPage="teamstats",e.Xfeed="xfeed",e.Interests="cinterests"}(n||(n={})),function(e){e.DHP="dhp",e.NTP="ntp",e.Article="article",e.Gallery="gallery",e.Video="video"}(o||(o={})),function(e){e.Emmx="emmx",e.Prime="prime",e.Spartan="spartan",e.ChromeExt="chromeext",e.IEExt="ieext"}(c||(c={})),function(e){e[e.Empty=0]="Empty",e[e.SearchBox=1]="SearchBox",e[e.TopSites=2]="TopSites",e[e.Suggested=4]="Suggested",e[e.ContentFeed=8]="ContentFeed",e[e.WinFRE=16]="WinFRE"}(l||(l={}))},"0NrY":function(e,t,a){"use strict";var r=a("PfRV"),s=a("7FLv"),i=a("MF9s"),n=a("objN");const o={card:Object.assign(Object.assign(Object.assign(Object.assign({width:"100%",height:"100%",background:i.k},Object(r.b)()),Object(s.b)(s.a.e4)),{transition:"all 0.2s ease-in-out"}),n.d)};t.a=o},"0vDZ":function(e,t,a){"use strict";var r;a.d(t,"a",(function(){return r})),function(e){e.article="article",e.div="div",e.section="section"}(r||(r={}))},"4U+6":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("G82u");class s{}s.initialize=new r.a("initialize"),s.renderReady=new r.a("renderReady"),s.toggleResetConfirmationVisibility=new r.a("toggleResetConfirmationVisibility"),s.show=new r.a("show"),s.hide=new r.a("hide")},"8AuO":function(e,t,a){"use strict";var r=a("OnwC"),s=a("o1qX"),i=a("ERkP"),n=a.n(i),o=a("eGM7"),c=a("0vDZ");class l extends r.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0,tag:void 0}}render(){return n.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.children)}generateClassNames(){return super.generateClassNames(Object(s.a)(this.props.managedClasses.card))}get tag(){return c.a[this.props.tag]||c.a.div}}l.displayName=o.DisplayNamePrefix+"Card",l.defaultProps={managedClasses:{}};var d=l;t.a=d},C4R5:function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return y}));var r,s=a("D57K"),i=a("9J8d"),n=a("FaCY"),o=a("s9+9"),c=a("rvYQ"),l=a("Z3LZ");class d{constructor(e,t){this.onUpdateFollowedTopics=()=>{if(!this.connector)return this.onRouteUpdateCallback([]);const e=this.connector.getCurrentState(),t=e.followedTopicIds,a=e.topicMap,s=[];t&&a&&t.forEach(e=>{const t=a[e],i={path:h(t.canonicalName||t.name,e),display:t.name,experienceInfo:this.dynamicRouteExperienceInfo,context:{feedId:e},pivotId:e,dynamicPivotSource:r.TopicsData};s.push(i)}),this.onRouteUpdateCallback(s)},this.onRouteUpdateCallback=e,this.dynamicRouteExperienceInfo=t}getDynamicPivotsFromDataConnector(e){return Object(s.b)(this,void 0,void 0,(function*(){switch(e){case o.a.TopicData:yield this.getPivotsFromTopicData();break;case o.a.NavigationData:yield this.getPivotsFromNavigationData();break;default:return}}))}getPivotsFromTopicData(){return Object(s.b)(this,void 0,void 0,(function*(){yield Object(l.l)(),i.a.getInstance().rootReducer.getDataConnector(o.a.TopicData).then(e=>{this.connector=e,this.connector.getFollowedTopics(!1).then(()=>{this.onUpdateFollowedTopics()})}),n.a.followedTopics.registerObserver(this.onUpdateFollowedTopics),n.a.updateTopicFollowedState.registerObserver(this.onUpdateFollowedTopics)}))}getPivotsFromNavigationData(){return Object(s.b)(this,void 0,void 0,(function*(){if(this.connector=yield i.a.getInstance().rootReducer.getDataConnector(o.a.NavigationData),this.connector){const e=yield this.connector.getNavigationItems(c.b.HostPage.verticalKey,c.b.HostPage.categoryKey);this.onRouteUpdateCallback(this.mapNavigationItemsToDynamicRoutes(e))}else this.onRouteUpdateCallback([])}))}mapNavigationItemsToDynamicRoutes(e){return e.map(e=>({path:e.targetUrl,externalUrl:e.targetUrl,display:e.displayText,pivotId:e.categoryKey,dynamicPivotSource:r.NavigationData}))}}!function(e){e.NavigationData="NavigationDataAdapter",e.TopicsData="TopicsDataAdapter"}(r||(r={}));var m,u=a("b2pY"),g=a("dTwT");class p{constructor(e){this.staticRoutes=[],this.dynamicRoutes=[],this.onUpdateRoutesCallbacks=[],this.switchListeners=[],this.callSwitchListeners=e=>{if(!this.switchListeners.length)return;const t=this.getPivotSelectionInfoFromPath(e.state&&e.state.previousPath),a=this.getPivotSelectionInfoFromPath(e.pathname,e),r={newSelection:a,oldSelection:t};this.config.enableRememberedPivots&&g.a.setItem(C,a&&a.pivotId),this.switchListeners.sort((e,t)=>e.order-t.order);for(const e of this.switchListeners)e.callback(r)},e&&(e.enableLocaleFeedPrefix&&(p.enableLocaleFeedPrefix=!0),this.setRoutes(e)),u.a.listen(this.callSwitchListeners)}setRoutes(e){this.config=e,this.setStaticRoutes(),this.config.disableLoadingDynamicRoutes||this.setDynamicRoutes()}pushHistory(e,t,a,r){const s=u.a.location.pathname;u.a.push(h(e,t),{previousPath:s,context:a},r)}getStaticRoutes(){return this.staticRoutes}getDynamicRoutes(){return this.dynamicRoutes}getDynamicRoute(){return{path:h("interest"),experienceInfo:this.config.dynamicRouteExperienceInfo,pivotId:"oneriver.xfeed"}}isDynamicRoute(e){const t=c.b.CurrentMarket,a=p.enableLocaleFeedPrefix?`/${t}/feed/interest`:"/interest";return 0===e.indexOf(a)}getCurrentRoute(){const e=u.a.location.pathname,t=this.staticRoutes.find(t=>t.path===e);return t||(e.includes("/interest")?this.getDynamicRoute():null)}addDynamicRouteListener(e){this.onUpdateRoutesCallbacks.push(e)}addSwitchListener(e,t=S.AfterLoadContent){this.switchListeners.push({callback:e,order:t})}getRememberedPivot(){if(!this.config.enableRememberedPivots)return;const e=g.a.getItem(C);e&&this.config.staticRoutes.forEach(t=>{t.pivotId===e&&this.pushHistory(t.canonicalName)})}getPivotSelectionInfoFromPath(e,t){if(!e)return null;const a=this.config.staticRoutes.find(t=>h(t.canonicalName)===e);if(a)return{pivotId:a.pivotId,telemetryPageName:a.telemetryPageName,telemetryPivotCategory:a.telemetryPivotCategory,display:a.canonicalName};if(!this.isDynamicRoute(e))return null;const r=e.split("/"),s=p.enableLocaleFeedPrefix?2:0,i=t&&t.state&&t.state.context;return{telemetryPageName:"xfeed",telemetryPivotCategory:"news",pivotId:i&&t.state.context.feedId||r.length>=4+s&&r[3+s],display:i&&(t.state.context.display||t.state.context.query)||r.length>=3+s&&decodeURIComponent(r[2+s])}}setStaticRoutes(){const{staticRoutes:e}=this.config;e.forEach(e=>{const t={path:h(e.canonicalName)||e.externalUrl,externalUrl:e.externalUrl,experienceInfo:e.experienceInfo,queryParamOverrides:e.queryParamOverrides,display:e.canonicalName,pivotId:e.pivotId,context:e.context};this.staticRoutes.push(t)})}setDynamicRoutes(){return Object(s.b)(this,void 0,void 0,(function*(){const e=new d(this.onUpdateDynamicRoute.bind(this),this.config.dynamicRouteExperienceInfo);yield e.getDynamicPivotsFromDataConnector(this.config.dynamicRouteDataConnector)}))}onUpdateDynamicRoute(e){this.dynamicRoutes=e;for(const e of this.onUpdateRoutesCallbacks)e(this.dynamicRoutes)}}function h(e,t){if(p.enableLocaleFeedPrefix){const a=c.b.CurrentMarket;if(!e)return`/${a}/feed`;if(t)return`/${a}/feed/interest/${encodeURIComponent(e)}/${encodeURIComponent(t)}`;const r="/"===e[0]?e.slice(1):e;return b[r]?`/${a}/feed${b[r]}`:`/${a}/feed/${r}`}{if(!e)return"";if(t)return`/interest/${encodeURIComponent(e)}/${encodeURIComponent(t)}`;const a="/"===e[0]?e.slice(1):e;return b[a]||"/"+a}}function f(e){return!!(e&&e.oldSelection&&e.newSelection)&&(!(!e.oldSelection||!e.oldSelection.pivotId)&&!(!e.newSelection||!e.newSelection.pivotId))}p.enableLocaleFeedPrefix=!1,function(e){e.MyFeed="myFeed",e.Personalize="personalize",e.Saves="saves"}(m||(m={}));const b={myFeed:"/",personalize:"/personalize",interest:"/interest/*/:id",saves:"/personalize/saves"};var S;!function(e){e[e.Telemetry=0]="Telemetry",e[e.Monetization=1]="Monetization",e[e.LoadContent=2]="LoadContent",e[e.AfterLoadContent=3]="AfterLoadContent"}(S||(S={}));const C="selectedPivot";let v;const y=e=>v?(e&&v.setRoutes(e),v):(v=new p(e),v)},Cj5D:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return c}));var r,s,i=a("C4R5"),n=a("+qLX"),o=a("w0HK");function c(e,t){e&&t?Object(i.d)().pushHistory(i.b.Personalize,"",{isRequestFromSdCardAddRemoveClick:!0}):e&&Object(o.a)().switchPivot({pivotId:e.pivotId,configIndexHref:e.configIndexHref,configIndexRef:e.configIndexRef,context:{isRequestFromSdCardAddRemoveClick:!0},telemetryPageName:n.a.Interests,display:e.displayName})}!function(e){e.SwitchToPageSettings="SwitchToPageSettings",e.SwitchToNewsSettingsInPersonalizePivot="SwitchToNewsSettingsInPersonalizePivot"}(r||(r={})),function(e){e.edgePageSettings="EdgePageSettings",e.chromiumPageSettings="ChromiumPageSettings",e.proActiveCanvasSettingHandler="ProActiveCanvasHandler",e.localStorageSettings="LocalStorageSettings"}(s||(s={}))},Dlnh:function(e,t){},FaCY:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("G82u");class s{}s.followedTopics=new r.a("FollowedTopics"),s.followedTopicsFailed=new r.a("FollowedTopicsFailedSignature"),s.recommendedTopics=new r.a("RecommendedTopics"),s.recommendedTopicsFailed=new r.a("RecommendedTopicsFailed"),s.topic=new r.a("Topic"),s.topicFailed=new r.a("TopicsFailed"),s.topics=new r.a("Topics"),s.topicsFailed=new r.a("TopicsFailed"),s.topicGroup=new r.a("TopicGroup"),s.topicGroupFailed=new r.a("TopicGroupFailed"),s.updateTopicFollowedState=new r.a("UpdateTopicFollowedState"),s.updateTopicFollowedStateFailed=new r.a("UpdateTopicFollowedStateFailed")},K2q4:function(e,t,a){"use strict";a.r(t),a.d(t,"SportsCard",(function(){return nt})),a.d(t,"SportsCardConnector",(function(){return rt})),a.d(t,"SportsCardReducer",(function(){return it})),a.d(t,"SportsCardPdpDataImpl",(function(){return B})),a.d(t,"ToolingInfo",(function(){return ot}));var r=a("5mwN"),s=a("OnwC"),i=a("ERkP"),n=a.n(i),o=a("wirn"),c=a("YJhp"),l=a("0fst"),d=a("qBHm"),m=a("83R0"),u=a("8yfO"),g=a("SP+O"),p=a("mDtb"),h=a("XI4f"),f=a("X9F+"),b=a("QhQn"),S=a("rRWH"),C=a("3ZGc"),v=a("AuhI");var y=e=>({sportsCard:Object.assign(Object.assign({},Object(u.d)("t8")),{"text-align":Object(S.b)("left","right",e.direction),"box-sizing":"border-box",padding:"12px 0",display:"flex","flex-direction":"column","justify-content":"space-between","letter-spacing":"0.7px",color:g.c,height:"inherit"}),sportsCard_headingWrapper:{display:"flex","flex-shrink":"0","justify-content":"space-between","align-items":"center",margin:"0 16px","max-height":Object(C.a)(Object(u.f)("t8"))},sportsCard_heading:Object.assign(Object.assign(Object.assign({},Object(p.d)()),Object(v.a)(1,Object(u.f)("t8")+1)),{"text-overflow":"ellipsis","text-transform":"uppercase","&&&&":{color:h.a,"border-bottom":"none","&:focus, &:hover":{"border-bottom":"none",color:g.b,"text-decoration":"underline"}}}),sportsCard_headingChevron:{[Object(S.b)("margin-left","margin-right",e.direction)]:"5px",transform:Object(S.b)("","rotate(180deg)",e.direction),height:"15px",width:"12px",position:"relative",top:"3px"},sportsCard_data:{display:"flex","flex-direction":"column","flex-grow":"1","justify-content":"center","margin-top":"8px"},sportsCard_game:{color:"currentColor",overflow:"hidden","text-decoration":"none",height:"93px","&:hover":{background:f.b}},sportsCard_footer:{"letter-spacing":"normal","margin-top":"8px","flex-shrink":"0"},sportsCard_contextMenuButton:{[Object(S.b)("margin-left","margin-right",e.direction)]:"12px","max-height":"16px","max-width":"30px"},sportsCard_provider:Object.assign(Object.assign({},Object(v.a)(1,Object(u.f)("t8"))),{"text-overflow":"ellipsis",color:h.a,"letter-spacing":"normal",margin:"0 16px","flex-shrink":"0"})});const T=e=>({contextMenu:{"box-shadow":"none",padding:"0",margin:"0",width:"auto","min-width":"145px",border:Object(C.a)(e.outlineWidth)+" solid","border-color":b.c},menuContainer:{background:"none"}});class O extends s.a{constructor(){super(...arguments),this.handledProps={cardContextMenuTelemetryObject:void 0,contextMenuItems:void 0,contextMenuButtonLabel:void 0,footerLink:void 0,games:void 0,generateGameRow:void 0,headerLink:void 0,providerText:void 0,managedClasses:void 0,showMaxGames:void 0,requestContext:void 0}}render(){const{contextMenuItems:e,footerLink:t,games:a,generateGameRow:r,headerLink:s,managedClasses:i,providerText:u,showMaxGames:g}=this.props;return n.a.createElement("div",Object.assign({},this.unhandledProps(),{className:i.sportsCard}),n.a.createElement("div",{className:i.sportsCard_headingWrapper},n.a.createElement(m.a,Object.assign({},s,{className:i.sportsCard_heading}),s.children,n.a.createElement(o.a,{glyphType:c.a.Chevron,className:i.sportsCard_headingChevron})),e&&n.a.createElement("div",{className:i.sportsCard_contextMenuButton},n.a.createElement(d.a,Object.assign({jssStyleSheet:T,zIndex:l.a.Above+5,enabled:!0,buttonLabel:this.props.contextMenuButtonLabel,menuItems:e},this.props.cardContextMenuTelemetryObject,{requestContext:this.props.requestContext})))),n.a.createElement("div",{className:i.sportsCard_data},a.slice(0,g).map(r(i.sportsCard_game))),t&&n.a.createElement("div",{className:i.sportsCard_footer},n.a.createElement("a",Object.assign({},t))),u&&n.a.createElement("div",Object.assign({},u,{className:i.sportsCard_provider})))}}O.defaultProps={showMaxGames:3};var x=a("+viU");const I=Object(x.a)(y)(O);var G=a("Cj5D"),F=a("u5KZ"),j=a("Am8i"),P=a("4U+6");function w(e,t,a,r,s){return[{key:"addRemove",text:t,telemetryTag:e.render(),onSelect:e=>{a===G.b.SwitchToNewsSettingsInPersonalizePivot?Object(G.c)(r,s):P.a.show.getGlobalActionSender().send(),F.a.sendActionEvent(e.currentTarget,j.a.Click,j.b.Navigate)}}]}const L={rel:"noopener",target:"_blank"};var k=a("rnYi");class E extends s.a{constructor(){super(...arguments),this.state={menuItems:[]},this.handledProps={configPageHandler:void 0,enableContextMenu:void 0,managedClasses:void 0,sportsCard:void 0,useRouter:void 0,requestContext:void 0},this.renderCricketGameRow=e=>(t,a)=>{const{managedClasses:r,sportsCard:s}=this.props;return n.a.createElement("a",Object.assign({},s.linksInNewTabProps,{key:a,className:`${r.SportsCardCricket_game} ${e}`,href:t.gameUrl,"aria-label":t.gameSummary},t.telemetryTags),n.a.createElement("div",{className:r.SportsCardCricket_teamWrapper},n.a.createElement("img",Object.assign({},t.firstTeamLogo,{className:r.SportsCardCricket_teamLogo})),n.a.createElement("div",{className:r.SportsCardCricket_teamName},t.firstTeamName),n.a.createElement("div",{className:r.SportsCardCricket_teamScore},t.topMainText)),n.a.createElement("div",{className:r.SportsCardCricket_teamWrapper},n.a.createElement("img",Object.assign({},t.secondTeamLogo,{className:r.SportsCardCricket_teamLogo})),n.a.createElement("div",{className:r.SportsCardCricket_teamName},t.secondTeamName),n.a.createElement("div",{className:r.SportsCardCricket_teamScore},t.bottomMainText)),n.a.createElement("div",{className:r.SportsCardCricket_gameFooter},t.leftFooterText))}}static getDerivedStateFromProps(e){return{menuItems:w(e.sportsCard?e.sportsCard.cardContextMenuItemTelemetryObject:null,e.sportsCard&&e.sportsCard.addRemoveMenuItem||"",e.sportsCard&&e.sportsCard.addRemoveMenuItemBehaviour,e.sportsCard&&e.sportsCard.oneRiverInterestsPivotInfo,e.sportsCard&&e.useRouter)}}render(){const{sportsCard:e}=this.props;return e&&e.games&&Array.isArray(e.games)&&0!==e.games.length?n.a.createElement(I,Object.assign({},this.unhandledProps(),{contextMenuItems:this.props.enableContextMenu?this.state.menuItems:null,headerLink:Object.assign(Object.assign(Object.assign({},e.linksInNewTabProps),e.headingTelemetryObject.render()),{children:e.headingText,href:e.headingUrl,title:e.headingText}),providerText:this.getProviderProps(),footerLink:this.getFooterProps(),games:e.games,generateGameRow:this.renderCricketGameRow,cardContextMenuTelemetryObject:e.cardContextMenuTelemetryObject,contextMenuButtonLabel:e.contextMenuButtonLabel,requestContext:this.props.requestContext})):this.renderEmptyMessaging()}getFooterProps(){const{sportsCard:e}=this.props;if(!Object(k.a)(e.footerLink)&&!Object(k.a)(e.footerText))return Object.assign(Object.assign({},e.linksInNewTabProps),{href:e.footerLink,children:e.footerText})}getProviderProps(){if(this.props.sportsCard.dataProvider&&!Object(k.a)(this.props.sportsCard.dataProvider.dataProvider))return{title:this.props.sportsCard.dataProvider.dataProvider,children:this.props.sportsCard.dataProvider.dataProvider}}renderEmptyMessaging(){return n.a.createElement("div",{className:this.props.managedClasses.SportsCardCricket_noGameMessage},this.props.sportsCard.noGameMessage)}}class D extends s.a{constructor(){super(...arguments),this.state={menuItems:[]},this.handledProps={configPageHandler:void 0,enableContextMenu:void 0,managedClasses:void 0,sportsCard:void 0,useRouter:void 0,requestContext:void 0},this.renderBaseballGameRow=e=>(t,a)=>{const r=!Object(k.a)(t.headerText),s=!Object(k.a)(t.mainText),i=!Object(k.a)(t.footerText),o=!Object(k.a)(t.gameAndSeriesInfo),{managedClasses:c,sportsCard:l}=this.props;return n.a.createElement("a",Object.assign({},l.linksInNewTabProps,{key:a,className:`${c.sportsCard_game} ${e}`,href:t.gameUrl,"aria-label":t.gameSummary},t.telemetryTags),n.a.createElement("div",{className:c.sportsCard_team},n.a.createElement("img",Object.assign({},t.firstTeamLogo,{className:c.sportsCard_teamLogo})),n.a.createElement("p",{className:c.sportsCard_teamName},t.firstTeamName)),n.a.createElement("div",{className:c.sportsCard_scoreContainer},r&&n.a.createElement("p",{className:c.sportsCard_gameHeaderFooter},t.headerText),n.a.createElement("p",{className:c.sportsCard_gameMain},s?t.mainText:n.a.createElement(n.a.Fragment,null,t.firstTeamScore," ",t.scoreSeparator," ",t.secondTeamScore)),i&&n.a.createElement("p",{className:c.sportsCard_gameHeaderFooter},t.footerText),o&&n.a.createElement("p",{className:c.sportsCard_seriesInfo},t.gameAndSeriesInfo)),n.a.createElement("div",{className:c.sportsCard_team},n.a.createElement("img",Object.assign({},t.secondTeamLogo,{className:c.sportsCard_teamLogo})),n.a.createElement("p",{className:c.sportsCard_teamName},t.secondTeamName)))}}static getDerivedStateFromProps(e){return{menuItems:w(e.sportsCard?e.sportsCard.cardContextMenuItemTelemetryObject:null,e.sportsCard&&e.sportsCard.addRemoveMenuItem||"",e.sportsCard&&e.sportsCard.addRemoveMenuItemBehaviour,e.sportsCard&&e.sportsCard.oneRiverInterestsPivotInfo,e.sportsCard&&e.useRouter)}}render(){const{sportsCard:e}=this.props;return e&&e.games&&Array.isArray(e.games)&&0!==e.games.length?n.a.createElement(I,Object.assign({},this.unhandledProps(),{contextMenuItems:this.props.enableContextMenu?this.state.menuItems:null,headerLink:Object.assign(Object.assign(Object.assign({},e.linksInNewTabProps),e.headingTelemetryObject.render()),{children:e.headingText,href:e.headingUrl,title:e.headingText}),providerText:this.getProviderProps(),footerLink:this.getFooterProps(),games:e.games,generateGameRow:this.renderBaseballGameRow,cardContextMenuTelemetryObject:e.cardContextMenuTelemetryObject,contextMenuButtonLabel:e.contextMenuButtonLabel,requestContext:this.props.requestContext})):this.renderEmptyMessaging()}getFooterProps(){const{sportsCard:e}=this.props;if(!Object(k.a)(e.footerLink)&&!Object(k.a)(e.footerText))return Object.assign(Object.assign({},e.linksInNewTabProps),{href:e.footerLink,children:e.footerText})}getProviderProps(){if(this.props.sportsCard.dataProvider&&!Object(k.a)(this.props.sportsCard.dataProvider.dataProvider))return{title:this.props.sportsCard.dataProvider.dataProvider,children:`${this.props.sportsCard.dataProvider.dataProvider} ${this.props.sportsCard.dataProvider.providerUpdatedDelimiter} ${this.props.sportsCard.dataProvider.lastUpdated}`}}renderEmptyMessaging(){return n.a.createElement("div",{className:this.props.managedClasses.sportsCard_noGameMessage},this.props.sportsCard.noGameMessage)}}var R=e=>({SportsCardCricket_game:Object.assign(Object.assign({},Object(p.d)()),{display:"flex","flex-direction":"column","justify-content":"center",padding:"0 16px"}),SportsCardCricket_teamWrapper:{display:"flex","align-items":"center",height:"22px","& + &":{"margin-top":"4px"}},SportsCardCricket_teamLogo:{display:"inline-block",height:"22px",width:"22px","flex-shrink":"0",[Object(S.b)("margin-right","margin-left",e.direction)]:"8px"},SportsCardCricket_teamName:Object.assign(Object.assign({},Object(v.a)(1,Object(u.f)("t8"))),{[Object(S.b)("margin-right","margin-left",e.direction)]:"8px","flex-grow":"1","text-overflow":"ellipsis"}),SportsCardCricket_teamScore:Object.assign(Object.assign({},Object(v.a)(1,Object(u.f)("t8"))),{"flex-shrink":"0","text-overflow":"ellipsis"}),SportsCardCricket_gameFooter:Object.assign(Object.assign({},Object(v.a)(1,Object(u.f)("t8"))),{"text-overflow":"ellipsis","letter-spacing":"normal","margin-top":"4px"}),SportsCardCricket_noGameMessage:Object.assign({},Object(u.d)("t6"))});var M={sportsCard_game:Object.assign(Object.assign({},Object(p.d)()),{display:"flex",padding:"0 32px","justify-content":"space-between","align-items":"center","text-align":"center"}),sportsCard_team:{"flex-shrink":"0",width:"40px"},sportsCard_teamLogo:{display:"block",height:"40px",width:"40px"},sportsCard_teamName:Object.assign(Object.assign({},Object(v.a)(1,Object(u.f)("t8"))),{"text-overflow":"ellipsis",margin:"4px 0 0"}),sportsCard_scoreContainer:{"flex-grow":"1",overflow:"hidden",margin:"0 12px"},sportsCard_gameHeaderFooter:Object.assign(Object.assign({},Object(v.a)(1,Object(u.f)("t8"))),{"text-overflow":"ellipsis","text-transform":"uppercase",margin:"0"}),sportsCard_gameMain:Object.assign(Object.assign(Object.assign(Object.assign({},Object(p.c)()),Object(u.d)("t5")),Object(v.a)(1,Object(u.f)("t5"))),{"text-overflow":"ellipsis",margin:"0"}),sportsCard_seriesInfo:Object.assign(Object.assign({},Object(v.a)(1,Object(u.f)("t8"))),{"text-overflow":"ellipsis",margin:"0",color:h.a}),sportsCard_noGameMessage:Object.assign({},Object(u.d)("t6"))};const N=Object(x.a)(R)(E),A=Object(x.a)(M)(D);var H,z=a("lWfA");!function(e){e[e.GeneralSportsCard=1]="GeneralSportsCard",e[e.CricketSportsCard=2]="CricketSportsCard",e[e.Idle=3]="Idle"}(H||(H={}));class U extends r.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},r.b),{config:void 0,configPageHandler:void 0,cricketSportsCardProps:void 0,enableContextMenu:void 0,error:void 0,generalSportsCardProps:void 0,managedClasses:void 0,renderState:void 0,unwrapCardBase:void 0,addRemoveMenuItemBehaviour:void 0})}render(){if(super.render(),!this.props.renderState)return null;let e=null;switch(this.props.renderState){case H.GeneralSportsCard:e=n.a.createElement(A,Object.assign({},this.unhandledProps(),this.props.generalSportsCardProps,{enableContextMenu:this.props.enableContextMenu,configPageHandler:this.props.configPageHandler,requestContext:this.props.requestContext}));break;case H.CricketSportsCard:e=n.a.createElement(N,Object.assign({},this.unhandledProps(),this.props.cricketSportsCardProps,{enableContextMenu:this.props.enableContextMenu,configPageHandler:this.props.configPageHandler}));break;case H.Idle:default:e=null}return this.props.unwrapCardBase?e:n.a.createElement(z.a,{height:"100%",width:"100%"},e)}}U.defaultProps={experienceName:"SportsCardExperience"};class B{constructor(e){this.players=["40301000000388363","40301000000326468"],this.teams=[{teamId:"30201000000001717",teamLeagueId:"basketball_ncaa"},{teamId:"40201000000000226",teamLeagueId:"baseball_mlb"}],this.leagues=["basketball_nba","baseball_mlb"],e=e||{},Object.assign(this,e)}}var W,_,$,V,q=a("Dlnh"),J=a("D57K");!function(e){e.sportsLeagueServiceApi="view/v1/Matches",e.sportsPlayerServiceApi="view/v1/Players",e.sportsTeamServiceApi="view/v1/Matches",e.sportsEventsServiceApi="view/v1/Events",e.sportsTeamLocalizationApi="view/v1/Teams"}(W||(W={})),function(e){e.pdpServiceEndpoint="/graph/actions"}(_||(_={})),function(e){e.Soccer="soccer",e.AustralianRules="australianrules",e.IceHockey="icehockey",e.Baseball="baseball",e.Basketball="basketball",e.Cricket="cricket",e.Football="football",e.Golf="golf",e.Tennis="tennis",e.Racing="racing",e.Nascar="nascar",e.RugbyLeague="rugbyleague",e.RugbyUnion="rugbyunion"}($||($={})),function(e){e.SportsStateFirstHalf="Half1",e.SportsStateSecondHalf="Half2",e.SportsStateFirstQuarter="Quarter1",e.SportsStateSecondQuarter="Quarter2",e.SportsStateThirdQuarter="Quarter3",e.SportsStateFourthQuarter="Quarter4",e.SportsStateHalfTime="HalfTime",e.SportsStateExtraTimeFirstHalf="ExtraTimeHalf1",e.SportsStateExtraTimeSecondHalf="ExtraTimeHalf2",e.SportsStatePenaltyShootout="PenaltyShootout",e.SportsStatePreGame="PreGame",e.SportsStateInProgress="InProgress",e.SportsStateSuspended="Suspended",e.SportsStatePostponed="Postponed",e.SportsStateDelayed="Delayed",e.SportsStateCancelled="Cancelled",e.SportsStateFinal="Final",e.SportsStateFinalInExtraTime="FinalInExtraTime",e.SportsStateFinalInPenaltyShootout="FinalInPenaltyShootout",e.MatchSplitTypeOverall="Overall",e.MatchSplitTypeHome="Home",e.MatchSplitTypeAway="Away",e.MatchStateHalf="half",e.InningHalfBottom="Bottom",e.InningHalfTop="Top",e.SportsStateRainDelay="RainDelay",e.SportsStateInningsBreak="InningsBreak"}(V||(V={}));const K={"Wild Card Elimination Game":{MatchCount:1,LocKey:"wildcard",LeagueId:"baseball_mlb"},"Division Playoff":{MatchCount:5,LocKey:"divisionalplayoffs",LeagueId:"baseball_mlb"},LCS:{MatchCount:7,LocKey:"leaguechampionship",LeagueId:"baseball_mlb"},"World Series":{MatchCount:7,LocKey:"worldseries",LeagueId:"baseball_mlb"},"Stage 1 Playoff":{MatchCount:7,LocKey:"stage1playoff",LeagueId:"baseball_mlb"},"Stage 2 Playoff":{MatchCount:7,LocKey:"stage2playoff",LeagueId:"baseball_mlb"},"Japan Series":{MatchCount:7,LocKey:"japanseries",LeagueId:"baseball_mlb"}};var Q,Y,Z,X,ee,te;!function(e){e.BaseballMlb="baseball_mlb",e.BasketballNba="basketball_nba",e.BasketballNcaa="basketball_ncaa",e.BasketballWcbk="basketball_wcbk",e.CricketInternationals="cricket_icc",e.CricketIccT20="cricket_t_twenty_i",e.CricketIccOdi="cricket_odi",e.CricketIccTest="cricket_icc_test",e.CricketIpl="cricket_ipl",e.CricketBigBash="cricket_bigbash",e.CricketLeague="cricket_league",e.RacingFormulaOne="racing_form_one",e.RacingNascarSprintCup="racing_nascar",e.RacingNascarNationWide="racing_nascar_two",e.RacingMotoGp="racing_motogp",e.GolfPga="golf_pga",e.GolfLpga="golf_lpga",e.AustralianRulesCup="australianrules_cup",e.TennisATP="tennis_atp",e.TennisWTA="tennis_wta",e.TennisInternationals="tennis_intl",e.FootballNcaa="football_ncaa"}(Q||(Q={})),function(e){e.Unknown="unknown",e.PreGame="pregame",e.InProgress="inprogress",e.InProgressBreak="inprogressbreak",e.Final="final",e.Abandoned="abandoned"}(Y||(Y={})),function(e){e.Unknown="unknown",e.PreGame="pregame",e.InProgress="inprogress",e.HalfTime="halftime",e.Final="final",e.Suspended="suspended",e.Cancelled="cancelled",e.Postponed="postponed",e.Bye="bye",e.Delayed="delayed",e.Stopped="stopped",e.Abandoned="abandoned",e.AbandonedBeforeStart="abandonedbeforeStart",e.Drinks="drinks",e.Lunch="lunch",e.Tea="tea",e.Stumps="stumps",e.InningsBreak="inningsbreak",e.TimeOut="timeout",e.ExtraTimeHalf1="extratimehalf1",e.ExtraTimeHalf2="extratimehalf2",e.ExtraTimeBreak="extratimebreak",e.DelayedAfterStart="delayedafterstart",e.Half1="half1",e.Half2="half2",e.PenaltyShootout="penaltyshootout",e.Quarter1="quarter1",e.Quarter2="quarter2",e.Quarter3="quarter3",e.Quarter4="quarter4",e.Break1="break1",e.Break2="break2",e.Break3="break3",e.ForfeitbyHome="forfeitbyhome",e.ForfeitbyAway="forfeitbyaway",e.Break4="break4",e.FinalInExtraTime="finalinextratime",e.FinalInPenaltyShootout="finalinpenaltyshootout",e.Half2Over="half2over",e.ExtraTimeHalf2Over="extratimehalf2over",e.RainDelay="raindelay",e.BadLight="badlight",e.CrowdTrouble="crowdtrouble",e.PitchCondition="pitchcondition",e.FloodlightFailure="floodlightfailure",e.SuperOver="superover"}(Z||(Z={})),function(e){e.SchedulePage="schedule",e.ScoresPage="scores",e.GameCenterPage="gamecenter"}(X||(X={})),function(e){e[e.MaxFavoriteTeamCount=5]="MaxFavoriteTeamCount",e[e.MaxFavoritePlayerCount=5]="MaxFavoritePlayerCount",e[e.MinCustomGamesCount=3]="MinCustomGamesCount",e[e.DefaultGamesCountForCard=3]="DefaultGamesCountForCard"}(ee||(ee={})),function(e){e.Inning1="inning1",e.Inning3="inning3"}(te||(te={}));const ae=new Date("1970-01-01"),re="sports_game",se="sports_header",ie="sportscard_customization",ne="sportscard_customization_addremove";var oe=a("rvYQ"),ce=a("bshj"),le=a("dMmp"),de=a("kpPY");class me{static getShortMonthDayText(e){return e.toLocaleDateString(oe.b.CurrentMarket,{month:"short",day:"numeric"})}static generateGameTime(e,t=0,a=0,r){let s="";const i=t.toLocaleString("en",{minimumIntegerDigits:2}),n=e.toLocaleString("en",{minimumIntegerDigits:1});return i&&"00"!==i&&n&&"0"!==n&&(s=le.String.Format(r.sportsCardLocalizationProps.sportsCommonGameTimeInMinutesAndSecondsFormat,n,i)),"00"===i&&"0"!==n&&(s=le.String.Format("{0}:00",n)),!Object(de.b)(s)&&a>0&&(s=le.String.Format(r.sportsCardLocalizationProps.sportsCommonSoccerGameTimeAndAdditionalMinutesFormat,s,a)),s}static addDayToDate(e,t){const a=new Date(e);return new Date(a.getTime()+1e3*t*60*60*24)}static isSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}static getTimeInHoursAndMinutes(e,t,a){if(e){let r=e.getHours();const s=e.getMinutes();let i="";t&&(i=r>=12?a.sportsCardLocalizationProps.timePmString:a.sportsCardLocalizationProps.timeAmString,r=r%12?r%12:12);return r+":"+(s>=10?s.toString():"0"+s.toString())+" "+i}return""}static getDaysFromMilliseconds(e){return Math.round(e/864e5)}static getHoursFromMilliseconds(e){return Math.round(e/36e5)}static getMinutesFromMilliseconds(e){return Math.round(e/6e4)}static getSecondsFromMilliseconds(e){return Math.round(e/1e3)}static getFriendlyTimeStamp(e,t,a){if(e.getTime()===ae.getTime())return"";const r=t-new Date(e).getTime();if(r<0)return"";const s=this.getDaysFromMilliseconds(r);if(s>7)return me.getShortMonthDayText(e);if(s>=1){if(1===s)return a.friendlyTimestampDayFormatString;const e=a.friendlyTimestampDaysFormatString;return Object(de.b)(e)?"":le.String.Format(e,s)}const i=this.getHoursFromMilliseconds(r);if(i>=1){if(1===i)return a.friendlyTimestampHrFormatString;const e=a.friendlyTimestampHrsFormatString;return Object(de.b)(e)?"":le.String.Format(e,i)}const n=this.getMinutesFromMilliseconds(r);if(n>=1){if(1===n)return a.friendlyTimestampMinFormatString;const e=a.friendlyTimestampMinsFormatString;return Object(de.b)(e)?"":le.String.Format(e,n)}const o=this.getSecondsFromMilliseconds(r);if(1===o)return a.friendlyTimestampSecFormatString;const c=a.friendlyTimestampSecsFormatString;return Object(de.b)(c)?"":le.String.Format(c,o)}static convertDateWithTimezone(e,t){if(Object(de.b)(t))return null;const a=e.toLocaleString("en-us",{timeZone:t});return new Date(a)}static getHoursDiff(e,t){const a=t.getTime()-e.getTime();return Math.ceil(a/36e5)}static roundTimestampBySeconds(e,t){if(t<=0||t>=60)return e.toISOString();const a=e.toISOString().split(".")[0],r=a.split(":").pop(),s=Math.floor(parseInt(r)/t)*t,i=0===s?"00":s;return a.substring(0,a.lastIndexOf(":"))+":"+i+"Z"}}var ue=a("r6MD");class ge{static getSportsName(e){return Object(k.a)(e)?"":e.split("_")[0].toLowerCase()}static isMatchCenterEnabled(e,t){return!!e&&(!(e.indexOf("_")<0)&&(t.MatchCenterEnabled&&!t.IsSportsLite))}static isFutureGame(e){return e.toLowerCase()===Y.PreGame}static getHomeTeamIndex(e){return e.findIndex(e=>e&&!e.order)}static getVisitingTeamIndex(e){return e.findIndex(e=>e&&e.order&&1===e.order)}static isLiveGame(e,t){return(e.toLowerCase()===Y.InProgress||e.toLowerCase()===Y.InProgressBreak)&&t.toLowerCase()!==Z.Suspended}static getTeamFullName(e,t,a,r){const s=Object(ue.a)(t,`[${a}].entity.fullName`,null);return Object(ue.a)(e,`[${a}].name`,null)||s||r.sportsCardLocalizationProps.sportsScoreScheduleTeamunknownAbbreviation}static isGameFinished(e,t){return e.toLowerCase()===Y.Final||e.toLowerCase()===Y.Abandoned||t.toLowerCase()===Z.Suspended}static prioritiesGames(e,t,a){return this.sortGamesByStartDateTimeAsc(e).concat(this.sortGamesByStartDateTimeAsc(t)).concat(this.sortGamesByStartDateTimeAsc(a))}static getOrdinalSuffix(e,t){let a="";const r=e%10,s=Math.floor(e/10)%10,i=t.sportsCardLocalizationProps;if(1===s)a=i.sportsNumberFormatOrdinalDefaultSuffix;else switch(r){case 1:a=i.sportsNumberFormatOrdinalFirstSuffix;break;case 2:a=i.sportsNumberFormatOrdinalSecondSuffix;break;case 3:a=i.sportsNumberFormatOrdinalThirdSuffix;break;default:a=i.sportsNumberFormatOrdinalDefaultSuffix}return a}static getCompetitionConfig(e,t){const a=e.leagueId,r=e.sportsName;let s;if(t&&t.sportConfigs&&t.sportConfigs.length){s=t.sportConfigs.find(e=>e.sportName===r.toLowerCase()).leagueConfigs.find(e=>e.Id.toLowerCase()===a.toLowerCase())}return s}static isHomeAwayOrder(e,t){let a=null;return t&&t.sportConfigs&&(a=t.sportConfigs.find(t=>t.sportName===e.toLowerCase()).homeAwayOrder),Object(k.a)(a)||a.toLowerCase()===ge.SportHomeAwayTeamOrder}static getLocalGameStartDateTime(e,t,a){const r=new Date(e);return me.convertDateWithTimezone(r,t)}static sortGamesByStartDateTimeAsc(e){return Array.from(e.values()).sort((e,t)=>{const a=new Date(e.StartDateTime),r=new Date(t.StartDateTime);return a>r?1:a<r?-1:0})}}ge.SportHomeAwayTeamOrder="homeaway";class pe{constructor(e){this.gameOutputInJson=e}asIGameOutput(){return{gameId:this.getGameId(),leagueId:this.getLeagueId(),teamsEntities:this.getTeamsEntities(),stateCategory:this.getStateCategory(),leaguePhase:this.getLeaguePhase(),secondsRemaining:this.getSecondsRemaining(),minutesRemaining:this.getMinutesRemaining(),state:this.getState(),lastUpdateTimeStamp:this.getLastUpdateTimeStamp(),result:this.getResult(),isLiveGame:this.isLiveGame(),isGameSuspended:this.isGameSuspended(),sportsName:ge.getSportsName(this.getLeagueId()),startTime:this.getStartTime(),currentInningHalf:this.getCurrentInningHalf(),currentInningNumber:this.getCurrentInningNumber(),gameCategoryDescription:this.getGameCategoryDescription(),isTopGame:this.isTopGame(),quarter:this.getQuarter(),homeTeamSeriesRecordWins:this.getTeamSeriesRecordWins(0),visitTeamSeriesRecordWins:this.getTeamSeriesRecordWins(1),homeTeamWins:this.getTeamWins(0),visitTeamWins:this.getTeamWins(1),channelInfo:this.getChannelInfo(),session:this.getSession(),tournamentType:this.getTournamentType(),period:this.getPeriod(),latestPeriodType:this.getLatestPeriodType(),roundedMinutes:this.getRoundedMinutes(),roundedAdditionalMinutes:this.getRoundedAdditionalMinutes(),homeTeamOtherLegGameGoals:this.getOtherLegGameGoals(0),visitingTeamOtherLegGameGoals:this.getOtherLegGameGoals(1),otherLegGameStartTime:this.getOtherLegGameStartTime(),homeTeamGoals:this.getTeamGoals(0),visitingTeamGoals:this.getTeamGoals(1),homeTeamShootoutScore:this.getShootoutScore(0),visitingTeamShootoutScore:this.getShootoutScore(1),venueCity:this.getVenueCity(),cricketInnings:this.getCricketInnings(),resultDescription:this.getResultDescription(),cricketGameCategoryDescription:this.getCricketGameCategoryDescription(),localizedTeamNames:this.getLocaliedTeamNames()}}getGameId(){return Object(ue.a)(this.gameOutputInJson,"sourceId","")}getLeagueId(){return Object(ue.a)(this.gameOutputInJson,"event.specificAttributes.eventType","")}getTeamsEntities(){return Object(ue.a)(this.gameOutputInJson,"participants",[])}getStateCategory(){return Object(ue.a)(this.gameOutputInJson,"stateCategory","").toLowerCase()}getLeaguePhase(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.leaguePhase","")}getSecondsRemaining(){return Object(ue.a)(this.gameOutputInJson,"secondsRemaining",0)}getMinutesRemaining(){return Object(ue.a)(this.gameOutputInJson,"minutesRemaining",0)}getState(){return Object(ue.a)(this.gameOutputInJson,"state","").toLowerCase()}getStartTime(){return Object(ue.a)(this.gameOutputInJson,"startTime","")}isGameSuspended(){return this.getState()===Z.Suspended}getLastUpdateTimeStamp(){return Object(ue.a)(this.gameOutputInJson,"_lastEditedDateTime","")}getResult(){return Object(ue.a)(this.gameOutputInJson,"result",null)}isTopGame(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.isTopGame",!1)}getCurrentInningHalf(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.currentInningHalf","")}getCurrentInningNumber(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.currentInningNumber",-1)}getGameCategoryDescription(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.phaseDescription","")}isLiveGame(){const e=this.getStateCategory(),t=this.getState();return(e===Y.InProgress||e===Y.InProgressBreak)&&t!==Z.Suspended}getQuarter(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.quarter",-1)}getScoreValueWithKeyInArray(e,t,a,r){if(!e||!e.length)return-1;const s=Object.keys(e).find(a=>e[a][t]===r);return parseInt(s)>=0?e[s][a]:-1}getTeamSeriesRecordWins(e){const t=this.getTeamsEntities();if(!t||!t.length||e<0||e>1)return-1;const a=0===e?ge.getHomeTeamIndex(t):ge.getVisitingTeamIndex(t),r=this.getTeamEntityStats(a);return this.getScoreValueWithKeyInArray(r,"key","value","TeamSeriesRecordWins")}getTeamWins(e){const t=this.getTeamsEntities();if(!t||!t.length||e<0||e>1)return-1;const a=0===e?ge.getHomeTeamIndex(t):ge.getVisitingTeamIndex(t),r=this.getTeamEntityStats(a);return this.getScoreValueWithKeyInArray(r,"key","value","TeamWins")}getChannelInfo(){return oe.b.CurrentMarket!==ce.a.ENUS&&Object(ue.a)(this.gameOutputInJson,"tvChannels[0].channelInfo","").toUpperCase()}getSession(){return Object(ue.a)(this.gameOutputInJson,"period",-1)}getTournamentType(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.tournamentType","")}getPeriod(){return Object(ue.a)(this.gameOutputInJson,"period",-1)}getLatestPeriodType(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.gameType","")}getRoundedMinutes(){return Object(ue.a)(this.gameOutputInJson,"roundedMinutes",-1)}getRoundedAdditionalMinutes(){return Object(ue.a)(this.gameOutputInJson,"roundedAdditionalMinutes",-1)}getOtherLegGameGoals(e){const t=this.getResult();if(!t||!t.length||e<0||e>1)return-1;const a=0===e?ge.getHomeTeamIndex(t):ge.getVisitingTeamIndex(t),r=this.getEntityStats(a);return r&&r.length&&r?this.getScoreValueWithKeyInArray(r,"key","value","AggregateScore"):-1}getOtherLegGameStartTime(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.otherLegGameStartTime","")}getTeamGoals(e){const t=this.getResult();if(!t||!t.length||e<0||e>1)return-1;const a=0===e?ge.getHomeTeamIndex(t):ge.getVisitingTeamIndex(t),r=this.getEntityStats(a);return r&&r.length&&r?this.getScoreValueWithKeyInArray(r,"key","value","Goals"):-1}getShootoutScore(e){const t=this.getResult();if(!t||!t.length||e<0||e>1)return-1;const a=0===e?ge.getHomeTeamIndex(t):ge.getVisitingTeamIndex(t),r=this.getEntityStats(a);return r&&r.length&&r?this.getScoreValueWithKeyInArray(r,"key","value","ShootoutScore"):-1}getEntityStats(e){return e<0||e>1?[]:Object(ue.a)(this.gameOutputInJson,`result.[${e}].entityStats`,null)}getTeamEntityStats(e){return e<0||e>1?[]:Object(ue.a)(this.gameOutputInJson,`participants.[${e}].entityStats`,null)}getVenueCity(){return Object(ue.a)(this.gameOutputInJson,"venueInfo.place.city","")}getCricketInnings(){return Object(ue.a)(this.gameOutputInJson,"cricketInnings",[])}getResultDescription(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.result","")}getCricketGameCategoryDescription(){return Object(ue.a)(this.gameOutputInJson,"specificAttributes.gameCategoryDescription","")}getLocaliedTeamNames(){return Object(ue.a)(this.gameOutputInJson,"localizedTeamNames",null)}}class he{constructor(e){this.gameOutputTransformer=new pe(e),this.gameRawData=e}getGameoutput(){return this.gameOutputTransformer.asIGameOutput()}getGameRawData(){return this.gameRawData}}class fe{constructor(e,t,a,r,s,i,n,o,c){this.isFavoriteScores=e,this.isMixedScores=t,this.isLiveGames=a,this.games=r,this.headingText=s,this.headingUrl=i,this.footerLink=n,this.footerText=o,this.dataProvider=c}}class be{constructor(e,t,a){this.dataProvider=e,this.lastUpdated=t,this.providerUpdatedDelimiter=a}}class Se{constructor(e,t,a,r,s,i){this.StateCategory=e,this.State=t,this.StartDateTime=a,this.Entry=r,this.DefaultLeagueId=s,this.GameId=i}}var Ce=a("s9+9"),ve=a("tERu"),ye=a("9J8d"),Te=a("Z3LZ"),Oe=a("zZnt"),xe=a("tMmC"),Ie=a("HxRh"),Ge=a("NkTa"),Fe=a("KaPL"),je=a("WfnD"),Pe=a("3Amp"),we=a("vhqU");class Le{static correctUrlSegment(e){if(Object(de.b)(e))return"";let t=e.trim();return t=t.replace(/ /g,"-"),t.toLowerCase()}}class ke{constructor(e){this.config=e}getGameUrl(e,t,a,r){const s=e.gameId,i=e.leagueId;if(this.isMatchCenterEnabled(i,t,e)){const t=this.generateMatchName(e,a,this.config.sportsCardLocalizationProps);return this.generateGameCenterPageUrl(r,t,s,e.leagueUrlSegment,e.sportUrlSegment)}const n=ge.isFutureGame(e.stateCategory)?X.SchedulePage:X.ScoresPage;return this.generateResourceUrl(e.leagueUrlSegment,e.sportUrlSegment,n,r)}getScoreSeparator(){return this.config.sportsCardLocalizationProps.sportsScoresScoreSeparator}getHeaderText(e,t,a,r){const s=ge.isFutureGame(e.stateCategory),i=t&&t.ShowTvInfo,n=e.channelInfo;if(s&&i&&!Object(de.b)(n))return n;if(r=r.toLowerCase(),a)return e.leagueDisplayText;const o=ge.getLocalGameStartDateTime(e.startTime,this.config.marketConfig.timeZoneValue,this.config.marketConfig.locale);return!s&&o?me.getShortMonthDayText(o):""}getSummary(e,t,a,r,s){let i="";const n=this.config.sportsCardLocalizationProps,o=n.commonEndOfSentence,c=ge.getTeamFullName(e.localizedTeamNames,t,a,this.config),l=ge.getTeamFullName(e.localizedTeamNames,t,r,this.config);return Object(de.b)(c)||Object(de.b)(l)?Object(de.b)(s.firstTeamName)||Object(de.b)(s.secondTeamName)||(i+=le.String.Format(o,le.String.Format(n.sportsCommonGameVersusAria,s.firstTeamName,s.secondTeamName))):i+=le.String.Format(o,le.String.Format(n.sportsCommonGameVersusAria,c,l)),ge.isFutureGame(e.stateCategory)&&!Object(de.b)(s.channelInfo)&&(i+=le.String.Format(o,s.channelInfo)),Object(de.b)(s.gameStartDate)||Object(de.b)(s.gameStartTime)||(i+=le.String.Format(o,le.String.Format(n.sportsGameStartDateTimeAria,s.gameStartDate,s.gameStartTime))),Object(de.b)(s.firstTeamScore)||Object(de.b)(s.secondTeamScore)||(i+=le.String.Format(o,le.String.Format(n.sportsScoreIsAria,s.firstTeamScore+s.scoreSeparator+s.secondTeamScore))),Object(de.b)(s.footerText)||s.footerText.toLowerCase()===s.gameStartDate.toLowerCase()||(i+=le.String.Format(o,s.footerText)),Object(de.b)(s.gameAndSeriesInfo)||(i+=le.String.Format(o,s.gameAndSeriesInfo)),i}getLocalizedGamePeriod(e,t){const a=e.sportsName,r=this.config.sportsCardLocalizationProps.sportsGamePeriodExtraPeriodFormat,s=this.getLocalizedPeriodForGame(e,r,!1);return Object(de.b)(s)?this.getLocalizedGameState(e,a):s}getTeamLogo(e){const t=Object(ue.a)(e,"entity.heroImage.href",null),a="//img-s-msn-com.akamaized.net/tenant/amp/entityid/"+(!!t?t.split("/").pop():"AAEazT")+"?f=PNG&h=60&w=60&m=6&q=60&o=t&l=f",r=Object(ue.a)(e,"entity.fullName",null);return{src:a,alt:r?le.String.Format(this.config.sportsCardLocalizationProps.altTextLogo,r):""}}getTeamScore(e,t){const a=e.result&&e.result[t]?e.result[t].value:-1;return a>=0?Number(a).toString():""}getMainText(e,t,a){return this.isPostponedGame(e)||!ge.isFutureGame(e.stateCategory)&&this.hasScores(e)?"":t&&a&&me.isSameDay(t,a)?this.getGameStartTime(t):me.getShortMonthDayText(t)}getGameStartTime(e){const t=this.config.sportsCardLocalizationProps.sportsStripeGameStartTimeAndTimezoneFormat,a=me.getTimeInHoursAndMinutes(e,this.config.marketConfig.isTwelveHourTimeFormat,this.config);return le.String.Format(t,a,this.config.marketConfig.timeZoneAbbr)}getFooterText(e,t,a){return ge.isFutureGame(e.stateCategory)&&t?a&&me.isSameDay(t,a)?me.getShortMonthDayText(t):this.getGameStartTime(t):this.getLocalizedGameStatus(e)}getSeriesInfo(e,t){return this.IsGameNumberAndSeriesInfoEnabled(e)?this.getSeriesInfoForGame(e,t):""}getGameStartDate(e){return e?me.getShortMonthDayText(e):""}getTeamBasedGameStateAndTime(e,t){const a=e.isLiveGame,r=this.getLocalizedGamePeriod(e,a),s=e.state;return a&&(e.sportsName!==$.Soccer||s!==Z.HalfTime&&s!==Z.ExtraTimeBreak&&s!==Z.PenaltyShootout)?Object(de.b)(t)?r:le.String.Format(this.config.sportsCardLocalizationProps.sportsCommonGameStateAndTimeFormat,r,t):r}filterEntries(e,t){return e}getLocalizedGameState(e,t){const a=e.state,r=this.config.sportsCardLocalizationProps;switch(a){case Z.Final:switch(t){case $.Soccer:return r.sportsGameStateFullTime;case $.Tennis:return r.sportsGameStateCompleted;default:return r.sportsGameStateFinal}case Z.Postponed:return r.sportsGameStatePostPoned;case Z.PreGame:return r.sportsGameStatePreGame;case Z.Delayed:return r.sportsGameStateDelayed;case Z.Cancelled:return r.sportsGameStateCancelled;case Z.InProgress:switch(t){case $.Tennis:return r.sportsGameStateLive;default:return r.sportsGameStateInProgress}case Z.HalfTime:return r.sportsGameStateHalfTime;case Z.PenaltyShootout:return r.sportsGameStatePenaltyShoot;case Z.Suspended:return r.sportsGameStateSuspended;case Z.Bye:return r.sportsGameStateBye;case Z.Stopped:return r.sportsGameStateStopped;case Z.Abandoned:return r.sportsGameStateAbandoned;case Z.AbandonedBeforeStart:return r.sportsGameStateAbandonedBeforeStart;case Z.Drinks:return r.sportsGameStateDrinks;case Z.Lunch:return r.sportsGameStateLunch;case Z.Tea:return r.sportsGameStateTea;case Z.Stumps:return r.sportsGameStateStumps;case Z.TimeOut:return r.sportsGameStateTimeOut;case Z.InningsBreak:return r.sportsGameStateInningsBreak;case Z.ExtraTimeBreak:return r.sportsGameStateExtraTimeBreak;case Z.ExtraTimeHalf1:return r.sportsGameStateExtraTimeHalf1;case Z.ExtraTimeHalf2:return r.sportsGameStateExtraTimeHalf2;case Z.DelayedAfterStart:return r.sportsGameStateDelayedAfterStart;case Z.Half1:return r.sportsGameStateHalf1;case Z.Half2:return r.sportsGameStateHalf2;case Z.Quarter1:return r.sportsGameStateQuarter1;case Z.Quarter2:return r.sportsGameStateQuarter2;case Z.Quarter3:return r.sportsGameStateQuarter3;case Z.Quarter4:return r.sportsGameStateQuarter4;case Z.Break1:return r.sportsGameStateBreak1;case Z.Break2:return r.sportsGameStateBreak2;case Z.Break3:return r.sportsGameStateBreak3;case Z.Half2Over:return r.sportsGameStateHalf2Over;case Z.ExtraTimeHalf2Over:return r.sportsGameStateExtraTimeHalf2Over;case Z.FinalInPenaltyShootout:return r.sportsGameStateFinalInPenaltyShootout;case Z.FinalInExtraTime:return r.sportsGameStateFineInExtraTime;default:return a}}isMatchCenterEnabled(e,t,a){return ge.isMatchCenterEnabled(e,t)}generateResourceUrl(e,t,a,r){let s="";switch(a.toLowerCase()){case X.SchedulePage:s=r.schedulePage||"";break;case X.ScoresPage:s=r.scoresPage||"";break;default:s=""}return this.config.homepageUrl+t+`${e}/${s}`}generateGameCenterPageUrl(e,t,a,r,s){return this.config.homepageUrl+s+r+`/${t}/${e.gameCenterPage}/sp-id-${a}`}generateMatchName(e,t,a){const r=e.teamsEntities,s=ge.getHomeTeamIndex(r),i=ge.getVisitingTeamIndex(r),n=ge.getTeamFullName(e.localizedTeamNames,r,s,this.config),o=ge.getTeamFullName(e.localizedTeamNames,r,i,this.config),c=Le.correctUrlSegment(n),l=Le.correctUrlSegment(o);let d=t?"{0}-v-{1}":"{1}-at-{0}";return"cricket"===e.sportsName&&(d=a.sportsCricketMatchNameUrlFormat),le.String.Format(d,c,l)}isPostponedGame(e){return"postponed"===e.state.toLowerCase()}hasScores(e){return!Object(de.b)(this.getTeamScore(e,0))&&!Object(de.b)(this.getTeamScore(e,1))}}class Ee extends ke{getLocalizedGameStatus(e){return"status"}IsGameNumberAndSeriesInfoEnabled(e){return!1}getLocalizedPeriodForGame(e,t,a=!1){return""}getSeriesInfoForGame(e,t){return"unimplemented series info for game"}filterEntries(e,t){return[]}}class De{static getSeriesInfo(e,t,a,r,s,i){if(!e||a<0||r<0)return"";const n=e.teamsEntities,o=ge.getHomeTeamIndex(n),c=ge.getVisitingTeamIndex(n),l=t?this.getTeamAlias(n,o):this.getTeamAlias(n,c),d=t?this.getTeamAlias(n,c):this.getTeamAlias(n,o);let m=t?a:r,u=t?r:a;m=m||0,u=u||0;const g=m>=u?l:d,p=m>=u?m:u,h=m>=u?u:m,f=i.sportsCardLocalizationProps;if(m===u){const e=f.sportsGameNumberAndSeriesWithTie;return le.String.Format(e,m,u)}if(this.isSeriesFinished(e,p,s)){const e=f.sportsGameNumberAndSeriesWinsWithName;return le.String.Format(e,g.toUpperCase(),p,h)}{const e=f.sportsGameNumberAndSeriesLeadsWithAlias;return le.String.Format(e,g.toUpperCase(),p,h)}}static getTeamAlias(e,t){return Object(ue.a)(e,`[${t}].entity.specificAttributes.abbreviation`,"")}static isSeriesFinished(e,t,a){return e.stateCategory===Y.Final&&t===a}}class Re extends ke{filterEntries(e,t){const a=[];return e.forEach(e=>{const r=e.getGameoutput(),s=r.startTime;(r.state!==Z.Suspended||s&&me.addDayToDate(s,1).getTime()>t)&&a.push(e)}),a}IsGameNumberAndSeriesInfoEnabled(e){return e&&"postseason"===e.leaguePhase.toLowerCase()}getSeriesInfoForGame(e,t){const a=e.gameCategoryDescription,r=K[a];if(Object(de.b)(a)||!r)return"";const s=Math.ceil(r.MatchCount/2),i=e.homeTeamSeriesRecordWins>-1?e.homeTeamSeriesRecordWins:e.homeTeamWins,n=e.visitTeamSeriesRecordWins>-1?e.visitTeamSeriesRecordWins:e.visitTeamWins;return De.getSeriesInfo(e,t,i,n,s,this.config)}getLocalizedGameStatus(e){return e&&e.stateCategory!==Y.PreGame?this.getLocalizedGamePeriod(e,e.isLiveGame):""}getLocalizedPeriodForGame(e,t,a=!1){const r=this.getLocalizedGameState(e,e.sportsName),s=e.currentInningNumber,i=e.currentInningHalf;if(Object(de.b)(i)||s<0)return r;if(e.isLiveGame&&!e.isGameSuspended){let e="";switch(i){case V.InningHalfBottom:e=this.config.sportsCardLocalizationProps.sportGameperiodBaseballInningBottomFormat;break;case V.InningHalfTop:e=this.config.sportsCardLocalizationProps.sportsGameperiodBaseballInningTopFormat}if(!Object(de.b)(e))return a&&"jp"!==this.config.marketConfig.country?le.String.Format(this.config.sportsCardLocalizationProps.sportsCommonScoringminuteFormat,s,ge.getOrdinalSuffix(s,this.config)):le.String.Format(e,s+ge.getOrdinalSuffix(s,this.config))}return e.state===Z.Final&&s>9?le.String.Format(t,r,s):r}}class Me extends ke{constructor(){super(...arguments),this.NBA_POST_SEASON_WIN_NUMBER=4}getLocalizedGameStatus(e){if(!e||!e.state||ge.isFutureGame(e.stateCategory))return"";const t=e.secondsRemaining,a=e.minutesRemaining;let r="";return ge.isLiveGame(e.stateCategory,e.state)&&(t>0||a>0)&&(r=me.generateGameTime(a,t,0,this.config)),this.getTeamBasedGameStateAndTime(e,r)}IsGameNumberAndSeriesInfoEnabled(e){return!e&&!Object(de.b)(e.leaguePhase)&&"postseason"===e.leaguePhase.toLowerCase()}getLocalizedPeriodForGame(e,t,a=!1){let r=this.getLocalizedGameState(e,e.sportsName);if(!e.session||e.session<0)return r;const s=this.isGamePlayedInHalves(e),i=s?2:4,n=e.session,o=n-i,c=this.config.sportsCardLocalizationProps;if(e.isLiveGame&&e.state.toLowerCase()!==Z.Suspended){const t=0===e.minutesRemaining&&0===e.secondsRemaining;if(e.leagueId===Q.BasketballNba||e.leagueId===Q.BasketballNcaa&&!s)return n<=4?t?le.String.Format(c.sportsGameperiodEndOfQuarterFormat,n):le.String.Format(c.sportsGameperiodQuarterFormat,n):t?le.String.Format(c.sportsGameperiodEndOfOverTimeFormat,o):le.String.Format(c.sportsGameperiodOvertimeFormat,o);if(e.leagueId===Q.BasketballNcaa){const e=t&&1===n,a=t&&2===n;if(!t)return le.String.Format(c.sportsGameperiodHalfFormat,n);if(e)return c.sportsGameStateHalfTime;if(o>0)return le.String.Format(c.sportsGameperiodOvertimeReverseFormat,o);if(a)return le.String.Format(c.sportsGameperiodEndOfHalfFormat,n)}}if(e.state.toLowerCase()===Z.Final&&o>0){const e=c.sportsGameperiodNumberOfOvertimeFormat,a=this.config.sportsCardLocalizationProps.sportsGameperiodOvertime;r=le.String.Format(t,r,le.String.Format(e,o,a))}return r}getSeriesInfoForGame(e,t){if(!e||!Object(de.b)(e.leagueId)||e.leagueId.toLowerCase()!==Q.BasketballNba)return"";const a=e.homeTeamSeriesRecordWins>-1?e.homeTeamSeriesRecordWins:e.homeTeamWins,r=e.visitTeamSeriesRecordWins>-1?e.visitTeamSeriesRecordWins:e.visitTeamWins;return De.getSeriesInfo(e,t,a,r,this.NBA_POST_SEASON_WIN_NUMBER,this.config)}isGamePlayedInHalves(e){return e&&!Object(de.b)(e.leagueId)&&e.leagueId===Q.BasketballNcaa&&"nittourney"!==e.tournamentType.toLowerCase()}}var Ne=a("XJ1h");class Ae{static formatScore(e,t,a,r){if(!e||!t||!a)return"";if(this.isTestCricektGame(t)){const t=e.filter(e=>e.battingTeam.fullName===a);if(t.length>1){const e=t.filter(e=>e.inningType===te.Inning1)[0],a=t.filter(e=>e.inningType===te.Inning3)[0];return this.formatTwoInningsScore(e,a,!0,r)}const s=t.filter(e=>e.inningType===te.Inning1)[0];return s?this.formatOneInningsScore(s.hasDeclared,s.totalRunsScored,s.totalWickets,s.totalOvers,!0,r):""}const s=e.filter(e=>e.battingTeam.fullName===a)[0];return s?this.formatOneInningsScore(s.hasDeclared,s.totalRunsScored,s.totalWickets,s.totalOvers,!0,r):""}static isTestCricektGame(e){return this.testCricketLeagues.indexOf(e)>-1}static formatOneInningsScore(e,t,a,r,s,i){const n=i.sportsCricketScoreFormat,o=i.sportsCricketScoreOnlyFormat,c=Object(Ne.a)(t)||Object(Ne.a)(a)?"":this.formatRunsAndWickets(e,t,a,i);return s&&!Object(Ne.a)(r)?le.String.Format(n,c,r):le.String.Format(o,c)}static formatTwoInningsScore(e,t,a,r){const s=r.sportsCricketTestScoreFormat,i=this.formatOneInningsScore(e.hasDeclared,e.totalRunsScored,e.totalWickets,e.totalOvers,!1,r),n=this.formatOneInningsScore(t.hasDeclared,t.totalRunsScored,t.totalWickets,t.totalOvers,a,r);return le.String.Format(s,i,n)}static formatRunsAndWickets(e,t,a,r){const s=r.sportsCricketRunsAndWickets,i=r.sportsCricketDeclaredRunsAndWickets,n=Object(Ne.a)(a)||10===a?t.toString():le.String.Format(s,t,a);return e?le.String.Format(i,n):n}}Ae.testCricketLeagues=["cricket_icc_test"];class He extends ke{gettopMainTextForCricket(e,t){if(!e)return"";if(ge.isFutureGame(e.stateCategory)){const t=ge.getLocalGameStartDateTime(e.startTime,this.config.marketConfig.timeZoneValue,this.config.marketConfig.locale);if(!t)return"";const a=me.getShortMonthDayText(t),r=me.getTimeInHoursAndMinutes(t,this.config.marketConfig.isTwelveHourTimeFormat,this.config),s=this.config.sportsCardLocalizationProps.sportsCricketGameDateAndTimeFormat;return le.String.Format(s,a,r)}return ge.isLiveGame(e.stateCategory,e.state)?this.config.sportsCardLocalizationProps.sportsCricketGameInProgressText:Ae.formatScore(e.cricketInnings,e.leagueId,t,this.config.sportsCardLocalizationProps)}getBottomMainTextForCricket(e,t){return e?ge.isFutureGame(e.stateCategory)?e.venueCity?e.venueCity:"":ge.isLiveGame(e.stateCategory,e.state)?"":Ae.formatScore(e.cricketInnings,e.leagueId,t,this.config.sportsCardLocalizationProps):""}getLeftFooterTextForCricket(e){return e?(ge.isLiveGame(e.stateCategory,e.state)&&(e.resultDescription=this.config.sportsCardLocalizationProps.sportsCricketGameInProgressText),""===e.resultDescription?e.cricketGameCategoryDescription:le.String.Format("{0}  {1}",e.cricketGameCategoryDescription,e.resultDescription)):""}getLocalizedGameStatus(e){return""}IsGameNumberAndSeriesInfoEnabled(e){return!1}getLocalizedPeriodForGame(e,t,a=!1){return""}getSeriesInfoForGame(e,t){return""}}class ze extends ke{getLocalizedGameStatus(e){if(!e||e.stateCategory===Y.PreGame)return"";const t=e.secondsRemaining>0||e.minutesRemaining>0?me.generateGameTime(e.minutesRemaining,e.secondsRemaining,0,this.config):null,a=e.isLiveGame&&t;return this.getTeamBasedGameStateAndTime(e,a)}IsGameNumberAndSeriesInfoEnabled(e){return!1}getSeriesInfoForGame(e,t){return""}getLocalizedPeriodForGame(e,t,a=!1){if(!e)return"";let r=this.getLocalizedGameState(e,e.sportsName);const s=e.quarter;if(-1===s)return r;const i=this.config.sportsCardLocalizationProps;if(ge.isGameFinished(e.stateCategory,e.state)&&s>4)return r=le.String.Format(le.String.Format(t,r,5===s?i.sportsGameperiodOvertime:i.sportsCommonTwostringNospaceFormat),s-4,i.sportsGameperiodOvertime),r;if(!e.isLiveGame)return r;if(0===e.minutesRemaining&&0===e.secondsRemaining)switch(s){case 1:case 3:r=le.String.Format(i.sportsGameperiodEndOfQuarterFormat,s);break;case 2:r=i.sportsGameMatchupSummaryHalfTimeStatus;break;case 4:r=i.sportsGameperiodEndOfRegulation;break;default:r=""}else r=s<=4?le.String.Format(i.sportsGameperiodQuarterFormat,s):le.String.Format(i.sportsGameperiodOvertimeFormat,s-4);return r}isMatchCenterEnabled(e,t,a){return ge.isMatchCenterEnabled(e,t)&&(e!==Q.FootballNcaa||a.isTopGame)}}class Ue extends ke{constructor(){super(...arguments),this.NHLPostSeasonWinNumber=4}getLocalizedGameStatus(e){if(!e||e.stateCategory===Y.PreGame)return"";const t=e.secondsRemaining,a=e.minutesRemaining;let r="";return ge.isLiveGame(e.stateCategory,e.state)&&(t>0||a>0)&&(r=me.generateGameTime(a,t,0,this.config)),this.getTeamBasedGameStateAndTime(e,r)}IsGameNumberAndSeriesInfoEnabled(e){return e&&"postseason"===e.leaguePhase.toLowerCase()}getLocalizedPeriodForGame(e,t,a=!1){if(!e||!e.leaguePhase)return"";let r=this.getLocalizedGameState(e,e.sportsName);const s=e.period;if(-1===s)return r;const i=this.config.sportsCardLocalizationProps;if(e.isLiveGame&&e.state!==Z.Suspended){if(5===s&&"regularseason"===e.leaguePhase.toLowerCase())return i.sportsGamePeriodShootout;const t=0===e.minutesRemaining&&0===e.secondsRemaining;let a="";return s>=1&&s<=3?(a=t?i.sportsGamePeriodEndOfPeriodFormat:i.sportsGamePeriodInPeriodFormat,le.String.Format(a,s)):(a=t?i.sportsGameperiodEndOfOverTimeFormat:i.sportsGameperiodOvertimeFormat,le.String.Format(a,s-3))}if(e.state===Z.Final&&s>3)if("shootout"===e.latestPeriodType.toLowerCase()&&4===s)r=le.String.Format(t,r,i.sportsGamePeriodOvertime);else if("shootout"!==e.latestPeriodType.toLowerCase()){i.sportsGameperiodOvertimeReverseFormat;r=le.String.Format(t,r,s-3)}else r=le.String.Format(t,r,i.sportsGamePeriodShootout);return r}getSeriesInfoForGame(e,t){if(!e||!this.IsGameNumberAndSeriesInfoEnabled(e))return"";const a=e.homeTeamSeriesRecordWins>-1?e.homeTeamSeriesRecordWins:0,r=e.visitTeamSeriesRecordWins>-1?e.visitTeamSeriesRecordWins:0;return De.getSeriesInfo(e,t,a,r,this.NHLPostSeasonWinNumber,this.config)}}class Be extends ke{getLocalizedGameStatus(e){return"status"}IsGameNumberAndSeriesInfoEnabled(e){return!1}getLocalizedPeriodForGame(e,t,a=!1){return""}getSeriesInfoForGame(e,t){return"unimplemented series info for game"}filterEntries(e,t){return[]}}class We extends ke{getLocalizedGameStatus(e){return"status"}IsGameNumberAndSeriesInfoEnabled(e){return!1}getLocalizedPeriodForGame(e,t,a=!1){return""}getSeriesInfoForGame(e,t){return"unimplemented series info for game"}filterEntries(e,t){return[]}}class _e extends ke{constructor(){super(...arguments),this.GameHalfMinutes=45,this.GameFullMinutes=90,this.GameHalfExtraTimeMinutes=105}getLocalizedGameStatus(e){if(!e||e.stateCategory===Y.PreGame)return"";const t=this.getEffectiveMinutes(e),a=e.isLiveGame?me.generateGameTime(t,0,e.roundedAdditionalMinutes,this.config):null,r=this.getTeamBasedGameStateAndTime(e,a),s=ge.isHomeAwayOrder(e.sportsName,this.config),i=this.getGameScores(e.homeTeamShootoutScore,e.visitingTeamShootoutScore,"PenaltyScores",s);if(!Object(de.b)(i)&&e.isLiveGame&&e.state===Z.PenaltyShootout)return i;if(!Object(de.b)(i)&&e.state===Z.FinalInPenaltyShootout)return le.String.Format(this.config.sportsCardLocalizationProps.sportsCommonGameStateAndScoresFormat,r,i);if(-1!==e.homeTeamOtherLegGameGoals||-1!==e.visitingTeamOtherLegGameGoals||ge.isGameFinished(e.stateCategory,e.state)||new Date(e.startTime).getTime()<=new Date(Object(de.b)(e.otherLegGameStartTime)?0:e.otherLegGameStartTime).getTime())return r;const n=e.homeTeamOtherLegGameGoals+(-1!==e.homeTeamGoals?e.homeTeamGoals:0),o=e.visitingTeamOtherLegGameGoals+(-1!==e.visitingTeamGoals?e.visitingTeamGoals:0),c=this.getGameScores(n,o,"AggregateScores",s);return Object(de.b)(c)||e.stateCategory!==Y.Final?r:le.String.Format(this.config.sportsCardLocalizationProps.sportsCommonGameStateAndScoresFormat,r,c)}IsGameNumberAndSeriesInfoEnabled(e){return!1}getLocalizedPeriodForGame(e,t,a=!1){if(!e)return"";let r=this.getLocalizedGameState(e,e.sportsName);return e.state===Z.Final&&e.period>2&&(r=le.String.Format(t,r,this.config.sportsCardLocalizationProps.sportsGamePeriodExtraTime)),r}getSeriesInfoForGame(e,t){return""}getEffectiveMinutes(e){const t=!!this.config.marketConfig.sportsResetTimeHalftime&&this.config.marketConfig.sportsResetTimeHalftime,a=e.roundedMinutes;if(!t)return a;if(!a||-1===a)return null;switch(e.state){case Z.Half1:return a;case Z.Half2:return a-this.GameHalfMinutes;case Z.ExtraTimeHalf1:return a-this.GameFullMinutes;case Z.ExtraTimeHalf2:return a-this.GameHalfExtraTimeMinutes}return a}getGameScores(e,t,a,r){const s=e&&-1!==e&&t&&-1!==t;let i="";const n=this.config.sportsCardLocalizationProps;switch(a){case"GeneralScores":i=n.scoresFormat;break;case"AggregateScores":i=n.aggregateScoresFormat;break;case"PenaltyScores":i=n.penaltyScoresFormat}return s&&!Object(de.b)(i)?le.String.Format(i,r?e:t,r?t:e):""}}class $e{constructor(e){this.mapCricketGameSchema=(e,t,a,r)=>{const s=this.cricketGameInfoMapper,i=ge.isHomeAwayOrder(e.sportsName,t),n=ge.getCompetitionConfig(e,t);if(!n)return null;const o=e.teamsEntities,c=e.localizedTeamNames,l=ge.getHomeTeamIndex(o),d=ge.getVisitingTeamIndex(o),m=i?l:d,u=i?d:l;return{id:Object(we.a)(),gameUrl:s.getGameUrl(e,n,i,a),firstTeamName:this.getTeamName(c,o,m,t),firstTeamLogo:s.getTeamLogo(o[m]),secondTeamName:this.getTeamName(c,o,u,t),secondTeamLogo:s.getTeamLogo(o[u]),topMainText:s.gettopMainTextForCricket(e,this.getFullTeamName(o,m)),bottomMainText:s.getBottomMainTextForCricket(e,this.getFullTeamName(o,u)),leftFooterText:s.getLeftFooterTextForCricket(e),telemetryTags:r}},this.mapGeneralGameSchema=(e,t,a,r,s)=>{const i=this.getSportsMapper(t),n=a.marketConfig,o=ge.getCompetitionConfig(e,a);if(!o)return null;const c=ge.isHomeAwayOrder(e.sportsName,a),l=e.teamsEntities,d=e.localizedTeamNames,m=ge.getHomeTeamIndex(l),u=ge.getVisitingTeamIndex(l),g=c?m:u,p=c?u:m,h=this.getTeamName(d,l,g,a),f=this.getTeamName(d,l,p,a),b=ge.getLocalGameStartDateTime(e.startTime,n.timeZoneValue,n.locale),S=ge.getLocalGameStartDateTime((new Date).toUTCString(),n.timeZoneValue,n.locale),C=e.leagueId,v={id:Object(we.a)(),gameUrl:i.getGameUrl(e,o,c,r),firstTeamName:h,firstTeamLogo:i.getTeamLogo(l[g]),firstTeamScore:i.getTeamScore(e,g),secondTeamName:f,secondTeamLogo:i.getTeamLogo(l[p]),secondTeamScore:i.getTeamScore(e,p),scoreSeparator:i.getScoreSeparator(),headerText:i.getHeaderText(e,o,!1,C),mainText:i.getMainText(e,b,S),footerText:i.getFooterText(e,b,S),gameAndSeriesInfo:i.getSeriesInfo(e,c),gameStartDate:i.getGameStartDate(b),gameStartTime:i.getGameStartTime(b),gameState:e.stateCategory,channelInfo:e.channelInfo,gameStatus:i.getLocalizedGameStatus(e),telemetryTags:s};return v.gameSummary=i.getSummary(e,l,g,p,v),v},this.baseballGameInfoMapper=new Re(e),this.basketballGameInfoMapper=new Me(e),this.cricketGameInfoMapper=new He(e),this.footballGameInforMapper=new ze(e),this.icehockeyGameInfoMapper=new Ue(e),this.australianrulesGameInfoMapper=new Ee(e),this.rugbyleagueGameInfoMapper=new Be(e),this.rugbyunionGameInfoMapper=new We(e),this.soccerGameInfoMapper=new _e(e)}getSportsMapper(e){switch(e){case $.Baseball:return this.baseballGameInfoMapper;case $.Football:return this.footballGameInforMapper;case $.Basketball:return this.basketballGameInfoMapper;case $.Cricket:return this.cricketGameInfoMapper;case $.IceHockey:return this.icehockeyGameInfoMapper;case $.AustralianRules:return this.australianrulesGameInfoMapper;case $.RugbyLeague:return this.rugbyleagueGameInfoMapper;case $.RugbyUnion:return this.rugbyunionGameInfoMapper;case $.Soccer:return this.soccerGameInfoMapper;default:throw new Error("Sports Mapper can not be found.")}}gameInfoMappingFunction(e,t,a,r){const s=e.sportsName;switch(s){case $.Cricket:return this.mapCricketGameSchema(e,t,a,r);default:return this.mapGeneralGameSchema(e,s,t,a,r)}}getTeamName(e,t,a,r){const s=Object(ue.a)(t,`[${a}].entity.specificAttributes.abbreviation`,null)||Object(ue.a)(t,`[${a}].entity.shortName`,null)||Object(ue.a)(t,`[${a}].entity.fullName`,null);return(Object(ue.a)(e,`[${a}].alias`,null)||Object(ue.a)(e,`[${a}].shortName`,null)||Object(ue.a)(e,`[${a}].name`,null)||s||r.sportsCardLocalizationProps.sportsScoreScheduleTeamunknownAbbreviation||"TBD").toUpperCase()}getFullTeamName(e,t){return e&&e[t]&&e[t].entity&&e[t].entity.fullName?e[t].entity.fullName:""}}var Ve=a("G82u");class qe{}qe.getSportsCardDataFailed=new Ve.a("GetSportsCardDataFailed"),qe.getSportsCardDataSuccess=new Ve.a("GetSportsCardDataSuccess");const Je={inspect(e){const{state:t,config:a,connectorArgs:r}=e;if(t.error)return{props:{},missingChildren:[]};const s={enableContextMenu:a.enableContextMenu,unwrapCardBase:a.unwrapCardBase,renderState:t.cardRenderState};switch(t.cardRenderState){case H.GeneralSportsCard:s.generalSportsCardProps={sportsCard:t.generalSportsCard&&t.generalSportsCard.sportsCard,requestContext:r.requestContext},t.generalSportsCard.sportsCard&&t.generalSportsCard.sportsCard.headingTelemetryObject&&(t.generalSportsCard.sportsCard.headingTelemetryObject.contract.content.headline=t.generalSportsCard.sportsCard.headingText,t.generalSportsCard.sportsCard.headingTelemetryObject.contract.destinationUrl=t.generalSportsCard.sportsCard.headingUrl);break;case H.CricketSportsCard:s.cricketSportsCardProps={sportsCard:t.cricketSportsCard&&t.cricketSportsCard.sportsCard,requestContext:r.requestContext},t.cricketSportsCard.sportsCard&&t.cricketSportsCard.sportsCard.headingTelemetryObject&&(t.cricketSportsCard.sportsCard.headingTelemetryObject.contract.content.headline=t.cricketSportsCard.sportsCard.headingText,t.cricketSportsCard.sportsCard.headingTelemetryObject.contract.destinationUrl=t.cricketSportsCard.sportsCard.headingUrl)}return{props:s,missingChildren:[]}}};var Ke,Qe=a("y+Kz"),Ye=a("KETb"),Ze=a("msIb");!function(e){e[e.LessThan=0]="LessThan",e[e.GreaterThan=1]="GreaterThan"}(Ke||(Ke={}));class Xe{constructor(e){this.fetchImpl=e,this.GameNumberToRetrieve=6,this.dataFieldsInUse=["participants/entity","participants/entityStats","participants/order","sourceId","event/specificAttributes/eventType","stateCategory","state","startTime","_lastEditedDateTime","result/value","result/entity","result/entityStats","result/order","specificAttributes/leaguePhase","secondsRemaining","minutesRemaining","specificAttributes/isTopGame","specificAttributes/currentInningHalf","specificAttributes/currentInningNumber","specificAttributes/phaseDescription","specificAttributes/quarter","tvChannels","period","specificAttributes/tournamentType","specificAttributes/gameType","roundedMinutes","roundedAdditionalMinutes","specificAttributes/otherLegGameStartTime","venueInfo/place/city","cricketInnings/inningType","cricketInnings/battingTeam/fullName","cricketInnings/hasDeclared","cricketInnings/totalOvers","cricketInnings/totalRunsScored","cricketInnings/totalWickets","specificAttributes/result","specificAttributes/gameCategoryDescription"],this.ocid="Peregrine",this.baseUrl=oe.b.ContentServiceUrlBase}getLeagueData(e){return Object(J.b)(this,void 0,void 0,(function*(){return this.getLeagueSeasonYear(e).then(e=>Object(J.b)(this,void 0,void 0,(function*(){try{const t=e&&e.value?e.value.find(e=>!!e.startDate):null,a=Object(ue.a)(t,"sourceIds[0]",""),r=new Date,s=me.roundTimestampBySeconds(r,30),i=this.queryGames(Ke.LessThan,a,s).then(e=>e.json()),n=this.queryGames(Ke.GreaterThan,a,s).then(e=>e.json()),[o,c]=yield Promise.all([i,n]),l=Object(ue.a)(o,"value",[]),d=Object(ue.a)(c,"value",[]);return l.concat(d)}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetLeagueDataFailure),{message:"Failed to get sports card league data",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetLeagueDataFailure.pb),{customMessage:"Failed to get sports card league data with exception: "+e})})),null}})))}))}getTeamData(e,t){return Object(J.b)(this,void 0,void 0,(function*(){return this.getLeagueSeasonYear(t).then(t=>Object(J.b)(this,void 0,void 0,(function*(){const a=t&&t.value?t.value.find(e=>!!e.startDate):null,r=Object(ue.a)(a,"sourceIds[0]","");return this.getTeamDataWithLeagueYear(r,e)})))}))}getPlayerBio(e){return Object(J.b)(this,void 0,void 0,(function*(){const t={method:"GET",headers:{}},a=`sourceIds eq '${e}'`,r=this.createQueryKeyValueArray("$filter",a),s=new URL(`${W.sportsPlayerServiceApi}${this.baseUrl.search}`,this.baseUrl);r.forEach(e=>{e.value&&s.searchParams.set(e.key,e.value)});return(yield Object(Ye.a)(()=>Object(J.b)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(decodeURIComponent(s.href),t);if(!e.ok)throw Error(`Status: ${e.status} ${e.statusText}, Json: ${e.json}, Url: ${decodeURIComponent(s.href)}`);return e})),"getPlayerBio")).json()}))}getLocalizedTeamName(e){return Object(J.b)(this,void 0,void 0,(function*(){const t=yield this.getLocalizedTeamNameHelper(e),a=oe.b.CurrentMarket,r=a.split("-")[0],s=a.replace("-","_");return Object(ue.a)(t,"value[0].localizedAttributes."+s,null)||Object(ue.a)(t,"value[0].localizedAttributes."+r,null)}))}getLocalizedTeamNameHelper(e){return Object(J.b)(this,void 0,void 0,(function*(){try{const t={method:"GET",headers:{}},a=(oe.b.CurrentMarket,e+"&$select=localizedAttributes"),r=this.createQueryKeyValueArray("ids",a),s=new URL(`${W.sportsTeamLocalizationApi}${this.baseUrl.search}`,this.baseUrl);r.forEach(e=>{e.value&&s.searchParams.set(e.key,e.value)});return(yield Object(Ye.a)(()=>Object(J.b)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(decodeURIComponent(s.href),t);if(!e.ok)throw Error(`Status: ${e.status} ${e.statusText}, Json: ${e.json}, Url: ${decodeURIComponent(s.href)}`);return e})),"getLocalizedTeamNameHelper")).json()}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetLocalizedTeamNameDataFailure),{message:"Failed to get sports card locaized team names data.",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetLocalizedTeamNameDataFailure.pb),{customMessage:"Failed to get sports card locaized team names data with exception: "+e})})),null}}))}getLeagueSeasonYear(e){return Object(J.b)(this,void 0,void 0,(function*(){try{const t={method:"GET",headers:{}},a=`EventType eq Msn.Sports.DataModel.Enums.EventType'${e}'&$select=sourceIds,startDate&$top=5&$orderby=year desc`,r=this.createQueryKeyValueArray("$filter",a),s=new URL(`${W.sportsEventsServiceApi}${this.baseUrl.search}`,this.baseUrl);r.forEach(e=>{e.value&&s.searchParams.set(e.key,e.value)});return(yield Object(Ye.a)(()=>Object(J.b)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(decodeURIComponent(s.href),t);if(!e.ok)throw Error(`Status: ${e.status} ${e.statusText}, Json: ${e.json}, Url: ${decodeURIComponent(s.href)}`);return e})),"getLeagueSeasonYear")).json()}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetLeagueSeasonYearDataFailure),{message:"Failed to get sports card league season year data.",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetLeagueSeasonYearDataFailure.pb),{customMessage:"Failed to get sports card league season year data with exception: "+e})})),null}}))}getTeamDataWithLeagueYear(e,t){return Object(J.b)(this,void 0,void 0,(function*(){try{const a=new Date,r=me.roundTimestampBySeconds(a,30),s=this.queryGames(Ke.LessThan,e,r,t,!1).then(e=>e.json()),i=this.queryGames(Ke.GreaterThan,e,r,t,!1).then(e=>e.json()),[n,o]=yield Promise.all([s,i]),c=Object(ue.a)(n,"value",[]),l=Object(ue.a)(o,"value",[]);return c.concat(l)}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetTeamDataFailure),{message:"Failed to get sports card team data.",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetTeamDataFailure.pb),{customMessage:"Failed to get sports card team data with exception : "+e})})),null}}))}queryGames(e,t,a,r=null,s=!0){return Object(J.b)(this,void 0,void 0,(function*(){const i={method:"GET",headers:{}};let n="",o="";switch(e){case Ke.GreaterThan:n="gt",o="asc";break;case Ke.LessThan:n="lt",o="desc"}const c=s?"&$select="+this.dataFieldsInUse.join(","):"",l=`event/externalId eq '${t}' ${r?`and participants/entity/externalId eq '${r}'`:""} and startTime ${n} ${a}&$orderby=startTime ${o} &$top=${this.GameNumberToRetrieve}${c}`,d=this.createQueryKeyValueArray("$filter",l),m=new URL(`${W.sportsLeagueServiceApi}${this.baseUrl.search}`,this.baseUrl);d.forEach(e=>e.value&&m.searchParams.set(e.key,e.value));return yield Object(Ye.a)(()=>Object(J.b)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(decodeURIComponent(m.href),i);if(!e.ok)throw Error(`Status: ${e.status} ${e.statusText}, Json: ${e.json}, Url: ${decodeURIComponent(m.href)}`);return e})),"getLeagueData")}))}createQueryKeyValueArray(e,t){return[{key:e,value:t},{key:"ocid",value:this.ocid},{key:Qe.w.apiKey,value:Ze.a.apiKey}]}}var et=a("u8F0"),tt=a("XLvf"),at=a("hSGL");class rt extends je.a{constructor(e,t,a,r,s,i,n){super(e,t,a,r,s,i,n),this.legalLeagues=[],this.gameBuckets={LiveGames:{priority:0,games:new Set},Upcoming2Hours:{priority:1,games:new Set},Completed8Hours:{priority:2,games:new Set},Upcoming4Hours:{priority:3,games:new Set},Completed16Hours:{priority:4,games:new Set},Upcoming8Hours:{priority:5,games:new Set},Completed24Hours:{priority:6,games:new Set},Upcoming7Days:{priority:7,games:new Set},Completed7Days:{priority:8,games:new Set},"Upcoming7+Days":{priority:9,games:new Set},"Completed7+Days":{priority:10,games:new Set}},this.getLatestEventForPlayer=e=>{const t=e&&e.participantedEvents?e.participantedEvents:[];return this.sortPlayerBioByEventDateDesc(t)[0]},this.addGameToBucket=e=>{if((e.stateCategory.toLowerCase()===Y.InProgress||e.stateCategory.toLowerCase()===Y.InProgressBreak)&&e.state.toLowerCase()!==Z.Suspended)return void this.gameBuckets.LiveGames.games.add(e);const t=me.getHoursDiff(new Date,new Date(e.startTime));t>=0?t<=2?this.gameBuckets.Upcoming2Hours.games.add(e):t<=4?this.gameBuckets.Upcoming4Hours.games.add(e):t<=8?this.gameBuckets.Upcoming8Hours.games.add(e):t<=168?this.gameBuckets.Upcoming7Days.games.add(e):this.gameBuckets["Upcoming7+Days"].games.add(e):t>=-8?this.gameBuckets.Completed8Hours.games.add(e):t>=-16?this.gameBuckets.Completed16Hours.games.add(e):t>=-24?this.gameBuckets.Completed24Hours.games.add(e):t>=-168?this.gameBuckets.Completed7Days.games.add(e):this.gameBuckets["Completed7+Days"].games.add(e)},this.config.sdCardPageSettingConnector===G.a.chromiumPageSettings?this.sdCardPageSettingsDataConnector=a.connector(Ce.a.ChromiumPageSettings):i.sdCardPageSettingConnector===G.a.edgePageSettings&&(this.sdCardPageSettingsDataConnector=a.connector(Ce.a.PageSettingsData))}setupServiceClient(e,t=null){this.serviceClient=t||new Xe(e)}onComponentConnect(e){return Object(J.b)(this,void 0,void 0,(function*(){je.a.prototype.onComponentConnect.call(this,e);const t=this.config.sdCardPageSettingConnector,a=Object(Oe.a)(t,this.sdCardPageSettingsDataConnector);a?a.sportsVisible?this.supportedRiverCardSizes=Fe.a.Size1Wx6H:this.supportedRiverCardSizes=Fe.a.None:this.supportedRiverCardSizes=Fe.a.Size1Wx6H;const r=ye.a.getInstance().rootReducer.connector(Ce.a.SharedState);this.useRouter=r&&r.getCurrentState().useHistory,Object(Te.l)().then(()=>{this.setupServiceClient(window.fetch.bind(window)),this.signInStatus=!1;const e=ye.a.getInstance().rootReducer.connector(Ce.a.SharedState),t=e&&e.getCurrentState();Pe.a.signedInStatus.registerObserver(()=>{t&&t.signedIn&&t.signedIn===ve.c.SignedIn&&!this.isUserLoggedIn()&&(this.SetUserLoggedIn(!0),this.fetchPdpDataForSports().then(e=>Object(J.b)(this,void 0,void 0,(function*(){this.getGamesForSports(e)}))))}),this.telemetryObject&&(this.headingTelemetryObject=this.telemetryObject.addOrUpdateChild({name:se,behavior:j.b.Navigate,destinationUrl:this.config.homepageUrl,content:{headline:""}}),this.cardContextMenuTelemetryObject=this.telemetryObject.addOrUpdateChild({name:ie,behavior:j.b.Customize,content:{headline:ie},destinationUrl:"",type:j.e.Interaction}),this.cardContextMenuItemTelemetryObject=this.telemetryObject.addOrUpdateChild({name:ne,behavior:j.b.Customize,content:{headline:"Add/Remove cards"},destinationUrl:"",type:j.e.ActionButton})),this.configSettings=class{static getSportsCardConfig(e){try{return{sportConfigs:this.getSportsConfig(e),marketConfig:this.getMarketConfig(e),moduleSetting:this.getModuleConfig(e),homepageUrl:e.homepageUrl,sportsCardLocalizationProps:e.sportsCardLocalizationProps}}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardConfigFetchError),{message:"Failed to get sports card config.",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardConfigFetchError.pb),{customMessage:"Failed to get sports card config with exception: "+e})})),null}}static getSportsConfig(e){try{const t=Object(ue.a)(e,"sportsConfig",null);return t?Object.entries(t).map(([e,t])=>{const a=t.leagues||[],r=[];return{sportName:e,leagueConfigs:a.map(e=>{const{_id:t="",_isSportsLite:a=!1,_matchCenterDisabled:s=!1,_showTvInfo:i=!1}=e;return r.push(e._id),{Id:t,IsSportsLite:a,MatchCenterEnabled:!s,ShowTvInfo:i}}),localeLeaguesCollection:r,homeAwayOrder:Object(ue.a)(t,"_homeAwayOrder",""),showSportUrlSegment:Object(ue.a)(t,"_showSportUrlSegment",!0)}}):[]}catch(e){throw Error("Get Sports Config Error out with exception: "+e)}}static getMarketConfig(e){try{const t=Object(ue.a)(e,"marketConfig",null);if(!t)return null;const a=oe.b.CurrentMarket,r=a.includes("-")?a.split("-")[1]:"";return{locale:a,country:r,timeZoneAbbr:Object(ue.a)(t,"sports_timezone_abbreviated",""),timeZoneValue:Object(ue.a)(t,"sports_timezone_value",""),dateTimeFormatMonthDayPattern:Object(ue.a)(t,"sp_datetimeformat_monthdaypattern_adjusted",""),sportsResetTimeHalftime:Object(ue.a)(t,"sports_reset_time_halftime",!1),isTwelveHourTimeFormat:Object(ue.a)(t,"sports_timeformat_twelve_hour",!1)}}catch(e){throw Error("Get Market Config Error out with exception: "+e)}}static getModuleConfig(e){try{const t=Object(ue.a)(e,"moduleConfig",null);return t?{pipeDelimitedGameIds:t._pipeDelimitedGameIds,areFavoritesEnabled:t._areFavoritesEnabled,customTitle:t._customTitle,customUrl:t._customUrl,leagueId:t._leagueId,verticalKey:t._verticalKey,maxDisplayedTiles:t._maxDisplayedTiles,minDisplayedTiles:t._minDisplayedTiles,isSdhpLayout:t._isSdhpLayout}:null}catch(e){throw Error("Get Module Config Error out with exception: "+e)}}}.getSportsCardConfig(this.config),this.gameInfoMapperFactory=new $e(this.configSettings),t&&t.signedIn&&t.signedIn===ve.c.SignedIn&&this.SetUserLoggedIn(!0),this.fetchPdpDataForSports().then(e=>Object(J.b)(this,void 0,void 0,(function*(){this.getGamesForSports(e)})))})}))}mapStateToProps(e){const t={requestContext:this.requestContext},a=Je.inspect({config:this.config,state:e,connectorArgs:t});return Object.assign(Object.assign({},this.telemetryTags),a.props)}getGamesForSports(e){return Object(J.b)(this,void 0,void 0,(function*(){const t=this.configSettings,a=t.moduleSetting,r=yield this.getStripeCardDataModel(e,t),s=r?r.games:null,i=a.minDisplayedTiles||1;if(!s||!s.length||s.length<i)return xe.a.logError("Failed to get enough game data"),void qe.getSportsCardDataFailed.getActionSender(this).send();const n=yield Promise.all(s.map(e=>this.populateLocalizedTeamNames(e).then(e=>Object(J.b)(this,void 0,void 0,(function*(){const a=e.getGameoutput(),r=a.leagueId.toLowerCase(),s=a.sportsName,i=t.sportConfigs.find(e=>e.sportName===s),n=Object.assign(Object.assign({},a),{leagueDisplayText:yield this.categoryDataConnector.getDisplayTextForCategory("sports",r),leagueUrlSegment:yield this.categoryDataConnector.getUrlSegmentForCategory("sports",r),sportUrlSegment:i&&i.showSportUrlSegment?(yield this.categoryDataConnector.getUrlSegmentForCategory("sports",s))+"/":""}),o={name:re,content:{id:n.gameId,type:j.c.StructuredData,headline:n.leagueDisplayText},destinationUrl:this.config.homepageUrl},c=this.telemetryObject.addOrUpdateChild(o).render(),l={scoresPage:yield this.categoryDataConnector.getUrlSegmentForCategory("sports",X.ScoresPage),schedulePage:yield this.categoryDataConnector.getUrlSegmentForCategory("sports",X.SchedulePage),gameCenterPage:yield this.categoryDataConnector.getUrlSegmentForCategory("sports",X.GameCenterPage)};return this.gameInfoMapperFactory.gameInfoMappingFunction(n,t,l,c)}))))),o={sportsCard:Object.assign(Object.assign({},r),{headingTelemetryObject:this.headingTelemetryObject,noGameMessage:"Nothing to display",cardContextMenuTelemetryObject:this.cardContextMenuTelemetryObject.render(),cardContextMenuItemTelemetryObject:this.cardContextMenuItemTelemetryObject,contextMenuButtonLabel:this.config.sportsCardLocalizationProps.contextMenuButtonLabel,addRemoveMenuItem:this.config.sportsCardLocalizationProps.addRemoveMenuItem,linksInNewTabProps:this.config.linksInNewTab?L:void 0,addRemoveMenuItemBehaviour:this.config.addRemoveMenuItemBehaviour,oneRiverInterestsPivotInfo:this.config.oneRiverInterestsPivotInfo,games:n}),useRouter:this.useRouter,requestContext:this.requestContext},c=s[0].getGameoutput().sportsName===$.Cricket,l={cricketSportsCardProps:o,generalSportsCardProps:o,renderState:c?H.CricketSportsCard:H.GeneralSportsCard,error:{}};qe.getSportsCardDataSuccess.getActionSender(this).send(l,c)}))}fetchPdpDataForSports(){return Object(J.b)(this,void 0,void 0,(function*(){try{if(this.isUserLoggedIn()){const[e,t,a]=yield Promise.all([this.fetchPdpDataByTarget(et.a.League),this.fetchPdpDataByTarget(et.a.Player),this.fetchTeamPdpData()].map(e=>e.catch(()=>null))).then(e=>e),r={leagues:e,players:t,teams:a};if(r&&(r.players&&Array.isArray(r.players)&&r.players.length>0||r.leagues&&Array.isArray(r.leagues)&&r.leagues.length>0||r.teams&&Array.isArray(r.teams)&&r.teams.length>0))return r}return null}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetPdpDataFailure),{message:"Sports Connector pdp fetch failed",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetPdpDataFailure.pb),{customMessage:"Failed to fetch PDP data for Sports Card with exception: "+e})})),null}}))}isUserLoggedIn(){return this.signInStatus}SetUserLoggedIn(e){this.signInStatus=e}convertToSportsCardPdpDataModel(e){if(!e)return null;const t=[];e.FavoriteLeagues&&e.FavoriteLeagues.Leagues&&e.FavoriteLeagues.Leagues.forEach(e=>{t.push(e.LeagueId)});const a=[];e.FavoritePlayers&&e.FavoritePlayers.Players&&e.FavoritePlayers.Players.forEach(e=>{a.push(e.PlayerId)});const r=[];return e.FavoriteTeams&&e.FavoriteTeams.Teams&&e.FavoriteTeams.Teams.forEach(e=>{r.push({teamId:e.TeamId,teamLeagueId:e.TeamLeague.LeagueId})}),{players:a,teams:r,leagues:t}}fetchPdpDataByTarget(e){return Object(J.b)(this,void 0,void 0,(function*(){try{const t=yield at.a.readPdpWithTargetType(e);if(t){const{value:e=[]}=t;return e.map(e=>e.targetId)}return null}catch(e){return null}}))}fetchTeamPdpData(){return Object(J.b)(this,void 0,void 0,(function*(){try{const e=yield at.a.readPdpWithTargetType(et.a.Team);if(e){const{value:t=[]}=e;return t.map(e=>({teamId:e.targetId,teamLeagueId:e.metadata?e.metadata.teamLeagueId:null}))}return null}catch(e){return null}}))}getStripeCardDataModel(e,t){return Object(J.b)(this,void 0,void 0,(function*(){const a=t.moduleSetting,r=a.customTitle,s=a.customUrl,i=a.isSdhpLayout,n=!Object(k.a)(r)&&!Object(k.a)(s);let o="",c="";n&&(o=r,c=s);let l="",d="";const m=a.footerLink,u=a.footerLink;!Object(k.a)(m)&&!Object(k.a)(u)&&(l=m,d=u);let g=[],p=[],h=[];const f=Date.now(),b=a.pipeDelimitedGameIds,S=b&&b.length?b.split("|"):[];let C=[];const v=!!Object(tt.isNullOrUndefined)(a.areFavoritesEnabled)||a.areFavoritesEnabled,y=a.leagueId,T=!Object(k.a)(b),O="homepage"===a.verticalKey||"spartan"===a.verticalKey;let x=!1,I=!1,G=!1;const F=this.config.sportsCardLocalizationProps;let j=i?F.sportsStripeSdhpFavoritesTeamsText:F.sportsStripeFavoritesTeamsText;const P=[];if(T&&!O&&S.length>=ee.MinCustomGamesCount){const e=a.leagueId,t=ge.getSportsName(e);Object(k.a)(t)||(p=yield this.getGamesWithGameIds())}else if(this.isUserLoggedIn()&&v&&e){const r=yield this.getFavoriteTeamsGames(e.teams,e.players,t),s=new Set,i=new Set,n=new Set;this.populateFavoriteGroupsWithFavoriteData(r,s,i,n,f),G=s.size>0;const o=ge.prioritiesGames(s,i,n).slice(0,a.maxDisplayedTiles);if(g=this.convertCommonGameSchemaToStripeDataModel(o),x=g.length===a.maxDisplayedTiles&&(!ge.isFutureGame(o[0].StateCategory)||me.addDayToDate(o[0].StartDateTime,-7).getTime()<=f),x)h=g;else{if(Object(k.a)(y))return xe.a.logError("The default league Id is not specified and user does not have enough favorite data to render sports card"),null;P.push(y)}}else P.push(y);let w=[];if(T&&p&&p.length>=ee.MinCustomGamesCount?(C=S,w=p):x||(w=yield this.getLeaguesGames(P,t)),!g.length&&!w.length&&!p.length)return xe.a.log("There is no favorate data and no default leagues available to render the sports card"),null;const L=this.extractNonFavoriteEntries(w,C,f);if(!x&&L&&L.length){g.length>0&&(I=!0,g.forEach(e=>{h.push(e)}));const e=a.maxDisplayedTiles-g.length;if(e>0){L.slice(0,e).forEach(e=>{h.push(e);const t=e.getGameoutput();ge.isLiveGame(t.stateCategory,t.state)&&(G=!0)})}}const E=a.minDisplayedTiles?a.minDisplayedTiles:1;if(h.length<E)return null;const D=h[0].getGameoutput().leagueId,R=h[0].getGameoutput().sportsName;if(this.categoryDataConnector||(this.categoryDataConnector=yield ye.a.getInstance().rootReducer.getDataConnector(Ce.a.CategoryData)),!n)if(x||I)if(j=Object(k.a)(j)?F.sportsStripeFavoritesTeamsText:j,o=j,i)c="msnsports://favorites?league=default";else{const e=yield this.categoryDataConnector.getUrlSegmentForCategory("sports","myfavorites");c=this.config.homepageUrl+e}else{const e=t.sportConfigs.find(e=>e.sportName===R);o=yield this.categoryDataConnector.getDisplayTextForCategory("sports",D);const a=e&&e.showSportUrlSegment?(yield this.categoryDataConnector.getUrlSegmentForCategory("sports",R))+"/":"",r=yield this.categoryDataConnector.getUrlSegmentForCategory("sports",D);c=this.config.homepageUrl+a+r}let M=ae;G&&h.forEach(e=>{const t=new Date(e.getGameoutput().lastUpdateTimeStamp);t.getTime()>M.getTime()&&(M=t)});const N=this.GetProviderAndUpdateStrings(M,D,f);return new fe(x,I,G,h,o,c,d,l,N)}))}revalidateExperienceStaleState(e){const t=Object.create(null,{revalidateExperienceStaleState:{get:()=>super.revalidateExperienceStaleState}});return Object(J.b)(this,void 0,void 0,(function*(){t.revalidateExperienceStaleState.call(this,e),e&&this.fetchPdpDataForSports().then(e=>Object(J.b)(this,void 0,void 0,(function*(){this.getGamesForSports(e)})))}))}populateFavoriteGroupsWithFavoriteData(e,t,a,r,s){if(e.length){const i=[];e.forEach(e=>{e&&e.getGameoutput()&&e.getGameoutput().leagueId&&i.push(this.convertToCommonGameSchema(e))}),i.forEach(e=>{const i=e.StateCategory,n=e.State;ge.isLiveGame(i,n)?t.add(e):ge.isGameFinished(i,n)?me.addDayToDate(e.StartDateTime,1).getTime()>=s&&a.add(e):ge.isFutureGame(i)&&r.add(e)})}}convertCommonGameSchemaToStripeDataModel(e){const t=[];return e.forEach(e=>{t.push(e.Entry)}),t}getGamesWithGameIds(){return Object(J.b)(this,void 0,void 0,(function*(){return[]}))}getFavoriteTeamsGames(e,t,a){return Object(J.b)(this,void 0,void 0,(function*(){const r=yield this.getFavoriteTeamsGamesArray(e,t,a);let s=r&&r.length?r:[];s=Object(Ge.a)(s,"sourceId"),s.map(this.addGameToBucket);const i=this.orderAndConcatGames(),n=[];return i&&i.length&&i.forEach(e=>n.push(new he(e))),n}))}getFavoriteTeamsGamesArray(e,t,a){return Object(J.b)(this,void 0,void 0,(function*(){try{const r=[];let s=0;if(e&&e.length&&e.forEach(e=>{this.filterLegalLeagueIds([e.teamLeagueId],a.sportConfigs).length&&(s++,r.push(this.serviceClient.getTeamData(e.teamId,e.teamLeagueId).then(e=>e)))}),t&&t.length&&0===s){const e=yield this.getFavoritePlayersBio(t);e.map(this.getLatestEventForPlayer).forEach(e=>{const t=Object(ue.a)(e,"team.externalId",""),i=Object(ue.a)(e,"event.specificAttributes.eventType","");this.filterLegalLeagueIds([i],a.sportConfigs).length&&(s++,r.push(this.serviceClient.getTeamData(t,i).then(e=>e)))})}return 0===s?(xe.a.log("There is no data from user's favorite teams or players"),[]):yield Promise.all(r).then(e=>{let t=[];return e.forEach(e=>{t=t.concat(e)}),t})}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetFavoriteTeamDataError),{message:"Get Favorite teams errored out.",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetFavoriteTeamDataError.pb),{customMessage:"Get Favorite teams errored out with exception: "+e})})),null}}))}sortPlayerBioByEventDateDesc(e){return e.sort((e,t)=>{const a=this.getPlayerEventStartDate(e).split("-")[0],r=this.getPlayerEventStartDate(t).split("-")[0];return parseInt(r)-parseInt(a)})}getPlayerEventStartDate(e){return e&&e.event&&e.event.specificAttributes&&e.event.specificAttributes.startDate?e.event.specificAttributes.startDate:""}getFavoritePlayersBio(e){return Object(J.b)(this,void 0,void 0,(function*(){const t=yield this.getFavoritePlayersBioArray(e);return[].concat(...t)}))}getFavoritePlayersBioArray(e){return Object(J.b)(this,void 0,void 0,(function*(){try{const t=[];let a=0;for(;a<e.length&&a<ee.MaxFavoritePlayerCount;)t.push(this.serviceClient.getPlayerBio(e[a]).then(e=>e&&e.value?e.value:"")),a++;return yield Promise.all(t)}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetPlayerBioError),{message:"Get Favorite Players Bio errored out.",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetPlayerBioError.pb),{customMessage:"Get Favorite Players Bio errored out with exception: "+e})})),null}}))}getLeaguesGames(e,t){return Object(J.b)(this,void 0,void 0,(function*(){const a=yield this.getLeaguesGamesArray(e,t);(a&&a.length?[].concat(...[].concat(...a)):[]).map(this.addGameToBucket);const r=this.orderAndConcatGames(),s=[];return r&&r.length&&r.forEach(e=>s.push(new he(e))),s}))}getLeaguesGamesArray(e,t){return Object(J.b)(this,void 0,void 0,(function*(){try{const a=[];return(e=this.filterLegalLeagueIds(e,t.sportConfigs))&&e.length&&e.map(e=>{a.push(this.serviceClient.getLeagueData(e).then(e=>e))}),yield Promise.all(a)}catch(e){return F.a.sendAppErrorEvent(Object.assign(Object.assign({},Ie.Fe.SportsCardGetLeaguesGamesArrayError),{message:"Get Leagues Games errored out.",pb:Object.assign(Object.assign({},Ie.Fe.SportsCardGetLeaguesGamesArrayError.pb),{customMessage:"Get Leagues Games errored out with exception: "+e})})),null}}))}filterLegalLeagueIds(e,t){return this.legalLeagues.length||t.forEach(e=>{e.localeLeaguesCollection.forEach(e=>{this.legalLeagues.push(e)})}),e.filter(e=>this.legalLeagues.includes(e))}convertToCommonGameSchema(e){const t=e.getGameoutput();switch(t.sportsName){case"cricket":return this.convertCricketToCommonGameSchema();default:return this.convertDefaultToCommonGameSchema(t,e)}}convertCricketToCommonGameSchema(){return null}convertDefaultToCommonGameSchema(e,t){return new Se(e.stateCategory,e.state,e.startTime,t,e.leagueId,e.gameId)}extractNonFavoriteEntries(e,t,a){if(!e.length)return[];let r=[];const s=new Set;t&&t.length>0&&t.forEach(t=>{e.forEach(e=>{t===e.getGameoutput().gameId&&s.add(e)})}),s.size||e.forEach(e=>{s.add(e)}),r=Array.from(s.values());return this.getFilteredEntries(r,a)}getFilteredEntries(e,t){const a=e[0].getGameoutput().sportsName;return this.gameInfoMapperFactory.getSportsMapper(a).filterEntries(e,t)}GetProviderAndUpdateStrings(e,t,a){const r=new be("","",""),s=this.config.sportsCardLocalizationProps,i=s.sportscardDataSource;let n="Perform";this.IsInformationProvidedFromStats(t)&&(n="Stats"),r.dataProvider=le.String.Format("{0} {1}",i,n);const o=s.commonUpdated,c=me.getFriendlyTimeStamp(e,a,s),l=Object(k.a)(c)?null:le.String.Format("{0} {1}",o,c);return Object(k.a)(l)||(r.lastUpdated=l,r.providerUpdatedDelimiter="|"),r}IsInformationProvidedFromStats(e){const t=[$.Football,$.Tennis],a=[Q.BaseballMlb,Q.BasketballNba,Q.BasketballNcaa,Q.BasketballWcbk,Q.RacingNascarNationWide,Q.RacingNascarSprintCup,Q.CricketIccTest,Q.CricketIccOdi,Q.CricketIccT20,Q.CricketIpl,Q.GolfLpga,Q.GolfPga];e=e.toLowerCase();const r=t.find(t=>-1!==e.indexOf(t)),s=a.find(t=>e===t);return!Object(k.a)(r)||!Object(k.a)(s)}populateLocalizedTeamNames(e){return Object(J.b)(this,void 0,void 0,(function*(){const t=e.getGameRawData(),a=Object(ue.a)(t,"participants[0].entity.href","").split("/").pop(),r=Object(ue.a)(t,"participants[1].entity.href","").split("/").pop(),s=this.serviceClient.getLocalizedTeamName(a),i=this.serviceClient.getLocalizedTeamName(r),n=yield Promise.all([s,i]);return t.localizedTeamNames={0:n[0],1:n[1]},new he(t)}))}orderAndConcatGames(){const e=new Date;let t=[];for(let a=0;a<Object.keys(this.gameBuckets).length;a++){const r=Object.keys(this.gameBuckets).find(e=>this.gameBuckets[e].priority===a),s=Array.from(this.gameBuckets[r].games);s.length>0&&(s.sort((t,a)=>{const r=new Date(t.startTime),s=new Date(a.startTime),i=me.getHoursDiff(e,s);return r===s?a.sourceId.localeCompare(t.sourceId):i>0?r.getTime()-s.getTime():i<0?s.getTime()-r.getTime():void 0}),t=t.concat(s))}return t}}var st=a("05Au");class it{constructor(){this.INITIAL_STATE={cardRenderState:H.Idle,error:!1}}reduce(e,t){if(!e)return this.INITIAL_STATE;if(!t)return e;const a=Object.assign({},e);let r=!1;return r=r||st.a.handleAction(t,qe.getSportsCardDataSuccess,(e,t)=>{a.error=!1,t?(a.cardRenderState=H.CricketSportsCard,a.cricketSportsCard=e.cricketSportsCardProps):(a.cardRenderState=H.GeneralSportsCard,a.generalSportsCard=e.generalSportsCardProps)}),r=r||st.a.handleAction(t,qe.getSportsCardDataFailed,()=>{a.error=!0,a.cardRenderState=H.Idle}),r?a:e}}const nt=Object(x.a)({})(U),ot={reactComponent:nt,experienceConfigSchema:q.sportsCardConfigSchema,inspector:Je.inspect,mockConfig:q.mockConfig,mockState:q.mockStates,mockConnectorArgs:{}}},KaPL:function(e,t,a){"use strict";var r;a.d(t,"a",(function(){return r})),function(e){e[e.None=0]="None",e[e.Size1Wx2H=1]="Size1Wx2H",e[e.Size1Wx3H=2]="Size1Wx3H",e[e.Size1Wx4H=4]="Size1Wx4H",e[e.Size1Wx5H=8]="Size1Wx5H",e[e.Size1Wx6H=16]="Size1Wx6H",e[e.Size1Wx7H=32]="Size1Wx7H",e[e.Size1Wx8H=64]="Size1Wx8H",e[e.Size1Wx9H=128]="Size1Wx9H",e[e.Size1Wx10H=256]="Size1Wx10H",e[e.Size1Wx12H=512]="Size1Wx12H",e[e.Size1Wx18H=1024]="Size1Wx18H",e[e.Size1Wx1H=2048]="Size1Wx1H",e[e.Size2Wx2H=65536]="Size2Wx2H",e[e.Size2Wx3H=131072]="Size2Wx3H",e[e.Size2Wx6H=262144]="Size2Wx6H",e[e.Size2Wx8H=524288]="Size2Wx8H",e[e.Size2Wx12H=1048576]="Size2Wx12H",e[e.Size2Wx18H=2097152]="Size2Wx18H",e[e.Size3Wx2H=4194304]="Size3Wx2H",e[e.Size3Wx3H=2147483648]="Size3Wx3H",e[e.Size3Wx6H=8388608]="Size3Wx6H",e[e.Size3Wx12H=16777216]="Size3Wx12H",e[e.Size3Wx18H=33554432]="Size3Wx18H",e[e.Size4Wx2H=67108864]="Size4Wx2H",e[e.Size4Wx3H=134217728]="Size4Wx3H",e[e.Size4Wx6H=268435456]="Size4Wx6H",e[e.Size4Wx12H=536870912]="Size4Wx12H",e[e.Size4Wx18H=1073741824]="Size4Wx18H",e[e.Size5Wx3H=4096]="Size5Wx3H",e[e.Size5Wx6H=8192]="Size5Wx6H"}(r||(r={}))},bTI0:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var r=a("1I/+"),s=a("Gy7L"),i=a("o1qX"),n=a("qGiF"),o=a("qibw"),c=a("OnwC"),l=a("ERkP"),d=a.n(l),m=a("7nmT"),u=a.n(m),g=a("DSvr"),p=a.n(g);class h extends c.a{constructor(e){super(e),this.handledProps={anchor:void 0,autoFlipX:void 0,autoFocus:void 0,children:void 0,enable:void 0,enableVerticalPlacement:void 0,left:void 0,managedClasses:void 0,offset:void 0,onDismiss:void 0,requestContext:void 0,staticPosition:void 0,top:void 0,zIndex:void 0,topImmutable:void 0,portalElementSelector:void 0,scrollingElementSelector:void 0},this.keyDownHandler=e=>{const{onDismiss:t=(()=>null),anchor:a}=this.props;e.keyCode===s.h?(a&&a.focus(),t(e)):this.tabEventHandler(e,t,a)},this.tabEventHandler=(e,t,a)=>{if(e.keyCode===s.m&&a&&this.popOverRef.current.contains(document.activeElement)){const r=p()(this.popOverRef.current);e.shiftKey&&e.target===r[0]?(a.focus(),t(e),e.preventDefault()):e.shiftKey||e.target!==r[r.length-1]||(a.focus(),t(e))}},this.portalElement=this.props.portalElementSelector?document.querySelector(this.props.portalElementSelector):void 0,this.scrollingElement=this.props.scrollingElementSelector?document.querySelector(this.props.scrollingElementSelector):void 0,this.popOverRef=d.a.createRef(),this.state={width:0,height:0}}componentDidMount(){if(this.popOverRef&&this.popOverRef.current){const{width:e,height:t}=this.popOverRef.current.getBoundingClientRect();this.setState({width:e,height:t})}else!this.props.enable&&this.state.width&&this.state.height&&this.setState({width:0,height:0})}componentDidUpdate(){if(this.popOverRef&&this.popOverRef.current){!this.props.autoFocus||document.activeElement&&this.popOverRef.current.contains(document.activeElement)||this.popOverRef.current.focus();const{width:e,height:t}=this.popOverRef.current.getBoundingClientRect();e===this.state.width&&t===this.state.height||this.setState({width:e,height:t})}else!this.props.enable&&this.state.width&&this.state.height&&this.setState({width:0,height:0})}render(){const{enable:e,managedClasses:t,staticPosition:a,zIndex:r}=this.props;if(!e)return null;let s=null;const o=null!=r?{zIndex:r}:{};return s=this.popOverRef&&this.popOverRef.current?d.a.createElement(n.a,null,({direction:e})=>d.a.createElement("div",Object.assign({},this.unhandledProps(),{onKeyDown:this.keyDownHandler,tabIndex:0,ref:this.popOverRef,className:Object(i.a)(t.popOver,[t.popOverWithVerticalPlacement,this.props.enableVerticalPlacement]),style:Object.assign(Object.assign({},this.getPlacementStyle(e)),o)}),this.props.children)):d.a.createElement("div",Object.assign({},this.unhandledProps(),{tabIndex:0,ref:this.popOverRef,style:o,className:t.popOverPlaceholder}),this.props.children),a?s:u.a.createPortal(s,this.portalElement||document.body)}getPlacementStyle(e){let{left:t,top:a,offset:s,anchor:i,topImmutable:n,enableVerticalPlacement:c}=this.props;const{autoFlipX:l}=this.props,d=this.props.requestContext&&Object(r.b)(this.props.requestContext.data.innerWidth,"innerWidth")||window.document.documentElement.offsetWidth;let m;if(i&&(void 0===t&&void 0===a||c)){const r=i.getBoundingClientRect(),n=h.determineAnchorPosition(this.scrollingElement?this.scrollingElement.scrollTop:window.scrollY,this.scrollingElement?this.scrollingElement.scrollLeft:window.scrollX,r.top,r.left,e,this.scrollingElement?this.scrollingElement.offsetWidth-this.scrollingElement.scrollWidth:d-document.body.offsetWidth,this.scrollingElement?this.scrollingElement.getBoundingClientRect():void 0);t=n.left,a=n.top,s=r.width,m=r.height}const{width:u,height:g}=this.state;if(c)return h.getPlacementStylesForVerticalPlacement(a,t,m||0,s,g,u,this.scrollingElement?this.scrollingElement.scrollTop+this.scrollingElement.offsetHeight:window.innerHeight+window.scrollY,e);{const r=window.document&&window.document.documentElement&&window.document.documentElement.offsetHeight;!n&&r&&a+g>r&&(a=r-g-s);const i={top:a,right:d-t},c={top:a,left:t+s},[m,p]=e===o.a.rtl?[i,c]:[c,i],h=(m.left||m.right)+u<d,f=(p.left||p.right)+u<d;return l&&!h&&f?p:m}}}h.determineAnchorPosition=(e,t,a,r,s,i,n)=>n?{top:a-n.top+e,left:r-n.left+t-(s===o.a.rtl?i:0)}:{top:a+e,left:r+t-(s===o.a.rtl?i:0)},h.getPlacementStylesForVerticalPlacement=(e,t,a,r,s,i,n,c)=>{const l=e+a+s<n,d=c===o.a.ltr?t-i+r:t;return l?{top:e+a,left:d}:{top:e-s,left:d}};var f=h,b=a("+viU");const S={popOver:{"animation-duration":"0.367s","animation-fill-mode":"both","animation-name":"fadeIn, slideIn","animation-timing-function":"cubic-bezier(0.1, 0.9, 0.2, 1)",position:"absolute","z-index":""+a("0fst").a.Flyout,"&:focus":{outline:"none"}},popOverPlaceholder:{left:"50%",top:"50%",position:"absolute",visibility:"hidden"},popOverWithVerticalPlacement:{"max-width":"288px"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes slideIn":{from:{transform:"translate3d(0px, -10px, 0px)"},to:{transform:"translate3d(0px, 0px, 0px)"}}},C=Object(b.a)(S)(f)},egFJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("8AuO"),s=a("+viU"),i=a("0NrY");const n=Object(s.a)(i.a)(r.a)},lWfA:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var r=a("egFJ"),s=a("OnwC"),i=a("ERkP"),n=a.n(i),o=a("mObi"),c=a("oFIr");class l extends s.a{constructor(){super(...arguments),this.generateStyles=Object(o.a)((e,t,a)=>({card:{width:e,height:t,"&&&":Object.assign({},a)},contentCard:{width:e,height:t,"&&&":Object.assign({},a)}}),(...e)=>e.join()),this.handledProps={children:void 0,height:void 0,managedClasses:void 0,width:void 0,tag:void 0}}render(){const{width:e,height:t}=this.props;return n.a.createElement(r.a,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses.cardBase),jssStyleSheet:this.generateStyles(e,t,c.a.getBoxShadowStyle()),tag:this.props.tag}),this.props.children)}}var d=l,m=a("+viU");var u={cardBase:{}};const g=Object(m.a)(u)(d)},oFIr:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("ypwz"),s=a("4wjP"),i=a("7FLv"),n=a("rvYQ");const o=new class{constructor(){this.boxShadowStyle=this.generateBoxShadowStyle()}generateBoxShadowStyle(){if(!n.b||!n.b.CurrentRequestTargetScope||!n.b.CurrentRequestTargetScope.pageExperiments||!n.b.AppType||n.b.AppType!==r.a.EdgeChromium||!n.b.CurrentRequestTargetScope.pageType||n.b.CurrentRequestTargetScope.pageType!==s.b.NTP&&n.b.CurrentRequestTargetScope.pageType!==s.b.DHP)return{};const e=n.b.CurrentRequestTargetScope.pageExperiments;return-1!==e.indexOf("prg-6pxbrnobs-t")?{"box-shadow":"none","&:hover":Object(i.b)(i.a.e6)}:-1!==e.indexOf("prg-2pxbswb-t")?Object.assign(Object.assign({},Object(i.b)(i.a.e2)),{"&:hover":Object(i.b)(i.a.e6)}):-1!==e.indexOf("prg-2pxbsbrwb-t")?{"box-shadow":"0px 1.6px 3.6px rgba(0,0,0,0.13), 0px 0px 2.9px rgba(0,0,0,0.11), inset 0px 0px 0px 0.5px rgba(0, 0, 0, 0.1)","&:hover":Object(i.b)(i.a.e6)}:-1!==e.indexOf("prg-4pxbshov-t")?{"box-shadow":"none","&:hover":Object(i.b)(i.a.e4)}:-1!==e.indexOf("prg-8pxbshov-t")?{"box-shadow":"none","&:hover":Object(i.b)(i.a.e8)}:{}}getBoxShadowStyle(){return this.boxShadowStyle||(this.boxShadowStyle=this.generateBoxShadowStyle()),this.boxShadowStyle}clearBoxShadowStyle(){this.boxShadowStyle=void 0}}},qBHm:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var r=a("Cmru"),s=a("JIHU"),i=a("OnwC"),n=a("wirn"),o=a("scFN"),c=a("bTI0"),l=a("ERkP"),d=a.n(l),m=a("HDSB"),u=a("XJ1h"),g=a("Gy7L");class p extends i.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,menuItems:void 0,enabled:void 0,buttonLabel:void 0,positionOffset:void 0,telemetryTag:void 0,zIndex:void 0,requestContext:void 0,buttonTitle:void 0,enableVerticalPlacement:void 0,portalElementSelector:void 0,scrollingElementSelector:void 0},this.handleUnfocus=e=>{if("keydown"===e.type){e.keyCode===g.h&&(e.preventDefault(),this.closeMenu(),this.buttonRef.current.focus())}else!e.target||(e=>this.containerRef.current&&this.containerRef.current.contains(e))(e.target)||(e=>this.menuRef.current&&this.menuRef.current.parentNode.contains(e))(e.target)||this.closeMenu()},this.closeMenu=()=>{this.setState({menuOpened:!1})},this.state={menuOpened:!1},this.containerRef=d.a.createRef(),this.menuRef=d.a.createRef(),this.buttonRef=d.a.createRef()}componentDidUpdate(){this.state.menuOpened?(this.menuRef.current.focus(),Object(m.a)()&&(document.addEventListener("click",this.handleUnfocus,!1),document.addEventListener("keydown",this.handleUnfocus,!1))):Object(m.a)()&&(document.removeEventListener("click",this.handleUnfocus,!1),document.removeEventListener("keydown",this.handleUnfocus,!1))}render(){const{enabled:e,managedClasses:t,menuItems:a=[],telemetryTag:r}=this.props;if(!e||!a.length)return null;const{menuContainer:s,settingButton:i,settingButtonIcon:n}=t;return d.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.containerRef,className:s}),d.a.createElement("button",Object.assign({className:i,onClick:e=>this.onSettingClick(e),"aria-label":this.props.buttonLabel,title:this.props.buttonTitle,ref:this.buttonRef},r),d.a.createElement(o.a,{className:n})),this.renderPopOver())}renderPopOver(){const{menuOpened:e,dropDownLocation:t}=this.state,a=e&&t&&!Object(u.a)(t.left)&&!Object(u.a)(t.top);return d.a.createElement(c.a,Object.assign({},t,{onDismiss:this.closeMenu,anchor:this.buttonRef.current,autoFlipX:!0,enable:a,zIndex:this.props.zIndex,requestContext:this.props.requestContext,enableVerticalPlacement:this.props.enableVerticalPlacement,portalElementSelector:this.props.portalElementSelector,scrollingElementSelector:this.props.scrollingElementSelector}),d.a.createElement("div",{ref:this.menuRef},d.a.createElement(r.a,{className:this.props.managedClasses.contextMenu,enableAutoFocus:!0},this.renderContextMenu())))}renderContextMenu(){const{menuItems:e}=this.props,{contextMenuItem:t,contextMenuItem_contentRegion:a,contextMenuItem_image:r}=this.props.managedClasses;return e.map(e=>d.a.createElement(s.a,Object.assign({className:t},e.attr,e.telemetryTag,{key:e.key,onInvoke:t=>{t.preventDefault(),this.onMenuItemClick(t,e.onSelect)}}),d.a.createElement("div",{"aria-label":e.text,className:a},e.icon&&d.a.createElement(n.a,{glyphType:e.icon,className:r}),e.text)))}onMenuItemClick(e,t){t&&t(e),this.closeMenu()}onSettingClick(e){const t=this.props.positionOffset,a=t?t.x:0,r=t?t.y:0;let s={};const i=e.currentTarget||e.target;if(i){const{top:e,left:t,width:n}=i.getBoundingClientRect();s={top:e+r+window.scrollY,left:t+a+window.scrollX,offset:n}}this.setState({menuOpened:!this.state.menuOpened,dropDownLocation:s})}}var h=a("+viU"),f=a("3ZGc"),b=a("rRWH"),S=a("QhQn"),C=a("X9F+"),v=a("objN");const y=Object(h.a)(e=>({settingButton:{height:"100%",width:"100%",border:"none",background:"none",cursor:"pointer",outline:"none",padding:"0","&:focus":{border:Object(f.a)(e.outlineWidth)+" solid","border-radius":"2px","border-color":S.a},"&:focus-visible, &:active":{border:Object(f.a)(e.outlineWidth)+" solid","border-radius":"2px","border-color":S.a}},settingButtonIcon:{fill:S.b,height:"24px",width:"24px"},contextMenuItem:{display:"flex",cursor:"pointer",border:Object(f.a)(e.outlineWidth)+" solid transparent",height:"30px",margin:"0",padding:"0px 12px 0px","user-select":"none","&:focus, &:hover":Object.assign({background:C.b,"border-color":S.b},v.z),"&:active":{background:C.a}},contextMenuItem_contentRegion:{display:"flex","align-items":"center"},contextMenuItem_image:{[Object(b.b)("margin-right","margin-left",e.direction)]:"8px"},contextMenu:{"box-shadow":"none",padding:"0",width:"145px",background:C.c,border:Object(f.a)(e.outlineWidth)+" solid","border-color":S.c}}))(p)},rnYi:function(e,t,a){"use strict";function r(e){return!e||!function(e){if(!e)return e;if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}(e)}a.d(t,"a",(function(){return r}))},scFN:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("ERkP"),s=a.n(r),i=a("IATt");class n extends i.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return s.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),s.a.createElement("path",{d:"M1.75 6.125C1.87305 6.125 1.98698 6.14779 2.0918 6.19336C2.19661 6.23893 2.28776 6.30273 2.36523 6.38477C2.44727 6.46224 2.51107 6.55339 2.55664 6.6582C2.60221 6.76302 2.625 6.87695 2.625 7C2.625 7.12305 2.60221 7.23698 2.55664 7.3418C2.51107 7.44661 2.44727 7.54004 2.36523 7.62207C2.28776 7.69954 2.19661 7.76107 2.0918 7.80664C1.98698 7.85221 1.87305 7.875 1.75 7.875C1.62695 7.875 1.51302 7.85221 1.4082 7.80664C1.30339 7.76107 1.20996 7.69954 1.12793 7.62207C1.05046 7.54004 0.988932 7.44661 0.943359 7.3418C0.897786 7.23698 0.875 7.12305 0.875 7C0.875 6.87695 0.897786 6.76302 0.943359 6.6582C0.988932 6.55339 1.05046 6.46224 1.12793 6.38477C1.20996 6.30273 1.30339 6.23893 1.4082 6.19336C1.51302 6.14779 1.62695 6.125 1.75 6.125ZM7 6.125C7.12305 6.125 7.23698 6.14779 7.3418 6.19336C7.44661 6.23893 7.53776 6.30273 7.61523 6.38477C7.69727 6.46224 7.76107 6.55339 7.80664 6.6582C7.85221 6.76302 7.875 6.87695 7.875 7C7.875 7.12305 7.85221 7.23698 7.80664 7.3418C7.76107 7.44661 7.69727 7.54004 7.61523 7.62207C7.53776 7.69954 7.44661 7.76107 7.3418 7.80664C7.23698 7.85221 7.12305 7.875 7 7.875C6.87695 7.875 6.76302 7.85221 6.6582 7.80664C6.55339 7.76107 6.45996 7.69954 6.37793 7.62207C6.30046 7.54004 6.23893 7.44661 6.19336 7.3418C6.14779 7.23698 6.125 7.12305 6.125 7C6.125 6.87695 6.14779 6.76302 6.19336 6.6582C6.23893 6.55339 6.30046 6.46224 6.37793 6.38477C6.45996 6.30273 6.55339 6.23893 6.6582 6.19336C6.76302 6.14779 6.87695 6.125 7 6.125ZM12.25 6.125C12.373 6.125 12.487 6.14779 12.5918 6.19336C12.6966 6.23893 12.7878 6.30273 12.8652 6.38477C12.9473 6.46224 13.0111 6.55339 13.0566 6.6582C13.1022 6.76302 13.125 6.87695 13.125 7C13.125 7.12305 13.1022 7.23698 13.0566 7.3418C13.0111 7.44661 12.9473 7.54004 12.8652 7.62207C12.7878 7.69954 12.6966 7.76107 12.5918 7.80664C12.487 7.85221 12.373 7.875 12.25 7.875C12.127 7.875 12.013 7.85221 11.9082 7.80664C11.8034 7.76107 11.71 7.69954 11.6279 7.62207C11.5505 7.54004 11.4889 7.44661 11.4434 7.3418C11.3978 7.23698 11.375 7.12305 11.375 7C11.375 6.87695 11.3978 6.76302 11.4434 6.6582C11.4889 6.55339 11.5505 6.46224 11.6279 6.38477C11.71 6.30273 11.8034 6.23893 11.9082 6.19336C12.013 6.14779 12.127 6.125 12.25 6.125Z"}))}}n.defaultProps={viewBox:"0 0 14 14",width:"14px",height:"14px",xmlns:"http://www.w3.org/2000/svg"}},zZnt:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o}));var r=a("Cj5D"),s=a("dTwT");const i={bingShoppingVisible:!0,moneyVisible:!0,sportsVisible:!0,weatherVisible:!0,horoscopeVisible:!0},n="localCardState";function o(e,t){switch(e){case r.a.edgePageSettings:{const e=t,a=e?e.getCurrentState():void 0;return{weatherVisible:!(!a||!a.weatherVisible),sportsVisible:!(!a||!a.sportsVisible),moneyVisible:!(!a||!a.moneyVisible),bingShoppingVisible:!(!a||!a.bingShoppingVisible),horoscopeVisible:!(!a||!a.horoscopeVisible)}}case r.a.chromiumPageSettings:{const e=t,a=e?e.getCurrentState():void 0;return{weatherVisible:!!(a&&a.sdCardSettings&&a.sdCardSettings.weatherVisible),sportsVisible:!!(a&&a.sdCardSettings&&a.sdCardSettings.sportsVisible),moneyVisible:!!(a&&a.sdCardSettings&&a.sdCardSettings.moneyVisible),bingShoppingVisible:!!(a&&a.sdCardSettings&&a.sdCardSettings.bingShoppingVisible),horoscopeVisible:!!(a&&a.sdCardSettings&&a.sdCardSettings.horoscopeVisible)}}case r.a.localStorageSettings:return s.a.supported?s.a.getObject(n,i):i;default:return}}}}]);